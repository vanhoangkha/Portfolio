/** * Reads SSM environment context from a known Amplify environment variable, * fetches values from SSM and places those values in the corresponding environment variables */export const internalAmplifyFunctionResolveSsmParams = async (client) => {    const envPathObject = JSON.parse(process.env.AMPLIFY_SSM_ENV_CONFIG ?? '{}');    const paths = Object.values(envPathObject).map((paths) => paths.path);    if (paths.length === 0) {        return;    }    let actualSsmClient;    if (client) {        actualSsmClient = client;    }    else {        const ssmSdk = await import('@aws-sdk/client-ssm');        actualSsmClient = new ssmSdk.SSM();    }    const chunkArray = (array, chunkSize) => {        const chunks = [];        for (let i = 0; i < array.length; i += chunkSize) {            chunks.push(array.slice(i, i + chunkSize));        }        return chunks;    };    const resolveSecrets = async (paths) => {        const response = (await Promise.all(chunkArray(paths, 10).map(async (chunkedPaths) => await actualSsmClient.getParameters({            Names: chunkedPaths,            WithDecryption: true,        })))).reduce((accumulator, res) => {            accumulator.Parameters?.push(...(res.Parameters ?? []));            accumulator.InvalidParameters?.push(...(res.InvalidParameters ?? []));            return accumulator;        }, {            Parameters: [],            InvalidParameters: [],        });        if (response.Parameters && response.Parameters.length > 0) {            for (const parameter of response.Parameters) {                if (parameter.Name) {                    const envKey = Object.keys(envPathObject).find((key) => envPathObject[key].sharedPath === parameter.Name ||                        envPathObject[key].path === parameter.Name);                    if (envKey) {                        process.env[envKey] = parameter.Value;                    }                }            }        }        return response;    };    const response = await resolveSecrets(paths);    const sharedPaths = (response?.InvalidParameters || [])        .map((invalidParam) => Object.values(envPathObject).find((paths) => paths.path === invalidParam)?.sharedPath)        .filter((sharedParam) => !!sharedParam);     if (sharedPaths.length > 0) {        await resolveSecrets(sharedPaths);    }};await internalAmplifyFunctionResolveSsmParams();const SSM_PARAMETER_REFRESH_MS = 1000 * 60;setInterval(async () => {    try {        await internalAmplifyFunctionResolveSsmParams();    }    catch (error) {        try {                        console.debug(error);                    }        catch {                    }    }}, SSM_PARAMETER_REFRESH_MS);export {};
var Z0=Object.create;var lc=Object.defineProperty;var eN=Object.getOwnPropertyDescriptor;var tN=Object.getOwnPropertyNames;var nN=Object.getPrototypeOf,rN=Object.prototype.hasOwnProperty;var Ee=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var x=(e,n)=>()=>(e&&(n=e(e=0)),n);var O=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),Tt=(e,n)=>{for(var t in n)lc(e,t,{get:n[t],enumerable:!0})},rE=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let s of tN(n))!rN.call(e,s)&&s!==t&&lc(e,s,{get:()=>n[s],enumerable:!(r=eN(n,s))||r.enumerable});return e};var C=(e,n,t)=>(t=e!=null?Z0(nN(e)):{},rE(n||!e||!e.__esModule?lc(t,"default",{value:e,enumerable:!0}):t,e)),we=e=>rE(lc({},"__esModule",{value:!0}),e);import{createRequire as sN}from"node:module";import oN from"node:path";import iN from"node:url";var c=x(()=>{global.require=sN(import.meta.url);global.__filename=iN.fileURLToPath(import.meta.url);global.__dirname=oN.dirname(__filename)});var Wn=O(Pe=>{"use strict";c();Pe.HttpAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Pe.HttpAuthLocation||(Pe.HttpAuthLocation={}));Pe.HttpApiKeyAuthLocation=void 0;(function(e){e.HEADER="header",e.QUERY="query"})(Pe.HttpApiKeyAuthLocation||(Pe.HttpApiKeyAuthLocation={}));Pe.EndpointURLScheme=void 0;(function(e){e.HTTP="http",e.HTTPS="https"})(Pe.EndpointURLScheme||(Pe.EndpointURLScheme={}));Pe.AlgorithmId=void 0;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"})(Pe.AlgorithmId||(Pe.AlgorithmId={}));var aN=e=>{let n=[];return e.sha256!==void 0&&n.push({algorithmId:()=>Pe.AlgorithmId.SHA256,checksumConstructor:()=>e.sha256}),e.md5!=null&&n.push({algorithmId:()=>Pe.AlgorithmId.MD5,checksumConstructor:()=>e.md5}),{addChecksumAlgorithm(t){n.push(t)},checksumAlgorithms(){return n}}},cN=e=>{let n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},lN=e=>aN(e),dN=e=>cN(e);Pe.FieldPosition=void 0;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(Pe.FieldPosition||(Pe.FieldPosition={}));var uN="__smithy_context";Pe.IniSectionType=void 0;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"})(Pe.IniSectionType||(Pe.IniSectionType={}));Pe.RequestHandlerProtocol=void 0;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(Pe.RequestHandlerProtocol||(Pe.RequestHandlerProtocol={}));Pe.SMITHY_CONTEXT_KEY=uN;Pe.getDefaultClientConfiguration=lN;Pe.resolveDefaultRuntimeConfig=dN});var Ne=O(Kn=>{"use strict";c();var fN=Wn(),mN=e=>({setHttpHandler(n){e.httpHandler=n},httpHandler(){return e.httpHandler},updateHttpClientConfig(n,t){e.httpHandler?.updateHttpClientConfig(n,t)},httpHandlerConfigs(){return e.httpHandler.httpHandlerConfigs()}}),pN=e=>({httpHandler:e.httpHandler()}),rm=class{name;kind;values;constructor({name:n,kind:t=fN.FieldPosition.HEADER,values:r=[]}){this.name=n,this.kind=t,this.values=r}add(n){this.values.push(n)}set(n){this.values=n}remove(n){this.values=this.values.filter(t=>t!==n)}toString(){return this.values.map(n=>n.includes(",")||n.includes(" ")?`"${n}"`:n).join(", ")}get(){return this.values}},sm=class{entries={};encoding;constructor({fields:n=[],encoding:t="utf-8"}){n.forEach(this.setField.bind(this)),this.encoding=t}setField(n){this.entries[n.name.toLowerCase()]=n}getField(n){return this.entries[n.toLowerCase()]}removeField(n){delete this.entries[n.toLowerCase()]}getByType(n){return Object.values(this.entries).filter(t=>t.kind===n)}},om=class e{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(n){this.method=n.method||"GET",this.hostname=n.hostname||"localhost",this.port=n.port,this.query=n.query||{},this.headers=n.headers||{},this.body=n.body,this.protocol=n.protocol?n.protocol.slice(-1)!==":"?`${n.protocol}:`:n.protocol:"https:",this.path=n.path?n.path.charAt(0)!=="/"?`/${n.path}`:n.path:"/",this.username=n.username,this.password=n.password,this.fragment=n.fragment}static clone(n){let t=new e({...n,headers:{...n.headers}});return t.query&&(t.query=hN(t.query)),t}static isInstance(n){if(!n)return!1;let t=n;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&typeof t.query=="object"&&typeof t.headers=="object"}clone(){return e.clone(this)}};function hN(e){return Object.keys(e).reduce((n,t)=>{let r=e[t];return{...n,[t]:Array.isArray(r)?[...r]:r}},{})}var im=class{statusCode;reason;headers;body;constructor(n){this.statusCode=n.statusCode,this.reason=n.reason,this.headers=n.headers||{},this.body=n.body}static isInstance(n){if(!n)return!1;let t=n;return typeof t.statusCode=="number"&&typeof t.headers=="object"}};function gN(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}Kn.Field=rm;Kn.Fields=sm;Kn.HttpRequest=om;Kn.HttpResponse=im;Kn.getHttpHandlerExtensionConfiguration=mN;Kn.isValidHostname=gN;Kn.resolveHttpHandlerRuntimeConfig=pN});var Jo=O(Yo=>{"use strict";c();var yN=Ne();function SN(e){return e}var sE=e=>n=>async t=>{if(!yN.HttpRequest.isInstance(t.request))return n(t);let{request:r}=t,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!r.headers[":authority"])delete r.headers.host,r.headers[":authority"]=r.hostname+(r.port?":"+r.port:"");else if(!r.headers.host){let o=r.hostname;r.port!=null&&(o+=`:${r.port}`),r.headers.host=o}return n(t)},oE={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},EN=e=>({applyToStack:n=>{n.add(sE(e),oE)}});Yo.getHostHeaderPlugin=EN;Yo.hostHeaderMiddleware=sE;Yo.hostHeaderMiddlewareOptions=oE;Yo.resolveHostHeaderConfig=SN});var Qo=O(dc=>{"use strict";c();var iE=()=>(e,n)=>async t=>{try{let r=await e(t),{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=n,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:d}=a,m=l??n.inputFilterSensitiveLog,h=d??n.outputFilterSensitiveLog,{$metadata:y,...g}=r.output;return i?.info?.({clientName:s,commandName:o,input:m(t.input),output:h(g),metadata:y}),r}catch(r){let{clientName:s,commandName:o,logger:i,dynamoDbDocumentClientOptions:a={}}=n,{overrideInputFilterSensitiveLog:l}=a,d=l??n.inputFilterSensitiveLog;throw i?.error?.({clientName:s,commandName:o,input:d(t.input),error:r,metadata:r.$metadata}),r}},aE={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},_N=e=>({applyToStack:n=>{n.add(iE(),aE)}});dc.getLoggerPlugin=_N;dc.loggerMiddleware=iE;dc.loggerMiddlewareOptions=aE});var cE={};Tt(cE,{InvokeStore:()=>xN});import{AsyncLocalStorage as bN}from"async_hooks";var am,wN,cm,uc,xN,lE=x(()=>{c();am=process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="1"||process.env.AWS_LAMBDA_NODEJS_NO_GLOBAL_AWSLAMBDA==="true";am||(globalThis.awslambda=globalThis.awslambda||{});wN={REQUEST_ID:Symbol("_AWS_LAMBDA_REQUEST_ID"),X_RAY_TRACE_ID:Symbol("_AWS_LAMBDA_X_RAY_TRACE_ID"),TENANT_ID:Symbol("_AWS_LAMBDA_TENANT_ID")},cm=class{static storage=new bN;static PROTECTED_KEYS=wN;static run(n,t){return this.storage.run({...n},t)}static getContext(){return this.storage.getStore()}static get(n){return this.storage.getStore()?.[n]}static set(n,t){if(this.isProtectedKey(n))throw new Error("Cannot modify protected Lambda context field");let r=this.storage.getStore();r&&(r[n]=t)}static getRequestId(){return this.get(this.PROTECTED_KEYS.REQUEST_ID)??"-"}static getXRayTraceId(){return this.get(this.PROTECTED_KEYS.X_RAY_TRACE_ID)}static getTenantId(){return this.get(this.PROTECTED_KEYS.TENANT_ID)}static hasContext(){return this.storage.getStore()!==void 0}static isProtectedKey(n){return n===this.PROTECTED_KEYS.REQUEST_ID||n===this.PROTECTED_KEYS.X_RAY_TRACE_ID}};!am&&globalThis.awslambda?.InvokeStore?uc=globalThis.awslambda.InvokeStore:(uc=cm,!am&&globalThis.awslambda&&(globalThis.awslambda.InvokeStore=uc));xN=uc});var dE=O(fc=>{"use strict";c();Object.defineProperty(fc,"__esModule",{value:!0});fc.recursionDetectionMiddleware=void 0;var CN=(lE(),we(cE)),RN=Ne(),lm="X-Amzn-Trace-Id",TN="AWS_LAMBDA_FUNCTION_NAME",vN="_X_AMZN_TRACE_ID",AN=()=>e=>async n=>{let{request:t}=n;if(!RN.HttpRequest.isInstance(t))return e(n);let r=Object.keys(t.headers??{}).find(d=>d.toLowerCase()===lm.toLowerCase())??lm;if(t.headers.hasOwnProperty(r))return e(n);let s=process.env[TN],o=process.env[vN],a=CN.InvokeStore.getXRayTraceId()??o,l=d=>typeof d=="string"&&d.length>0;return l(s)&&l(a)&&(t.headers[lm]=a),e({...n,request:t})};fc.recursionDetectionMiddleware=AN});var Zo=O(mc=>{"use strict";c();var dm=dE(),IN={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},PN=e=>({applyToStack:n=>{n.add(dm.recursionDetectionMiddleware(),IN)}});mc.getRecursionDetectionPlugin=PN;Object.keys(dm).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(mc,e)&&Object.defineProperty(mc,e,{enumerable:!0,get:function(){return dm[e]}})})});var um,NN,uE=x(()=>{c();um=C(Wn()),NN=e=>e[um.SMITHY_CONTEXT_KEY]||(e[um.SMITHY_CONTEXT_KEY]={})});var pt=O(fm=>{"use strict";c();var fE=Wn(),DN=e=>e[fE.SMITHY_CONTEXT_KEY]||(e[fE.SMITHY_CONTEXT_KEY]={}),ON=e=>{if(typeof e=="function")return e;let n=Promise.resolve(e);return()=>n};fm.getSmithyContext=DN;fm.normalizeProvider=ON});var mE,pE=x(()=>{c();mE=(e,n)=>{if(!n||n.length===0)return e;let t=[];for(let r of n)for(let s of e)s.schemeId.split("#")[1]===r&&t.push(s);for(let r of e)t.find(({schemeId:s})=>s===r.schemeId)||t.push(r);return t}});function kN(e){let n=new Map;for(let t of e)n.set(t.schemeId,t);return n}var hE,ei,pc=x(()=>{c();hE=C(pt());pE();ei=(e,n)=>(t,r)=>async s=>{let o=e.httpAuthSchemeProvider(await n.httpAuthSchemeParametersProvider(e,r,s.input)),i=e.authSchemePreference?await e.authSchemePreference():[],a=mE(o,i),l=kN(e.httpAuthSchemes),d=(0,hE.getSmithyContext)(r),m=[];for(let h of a){let y=l.get(h.schemeId);if(!y){m.push(`HttpAuthScheme \`${h.schemeId}\` was not enabled for this service.`);continue}let g=y.identityProvider(await n.identityProviderConfigProvider(e));if(!g){m.push(`HttpAuthScheme \`${h.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:E={},signingProperties:R={}}=h.propertiesExtractor?.(e,r)||{};h.identityProperties=Object.assign(h.identityProperties||{},E),h.signingProperties=Object.assign(h.signingProperties||{},R),d.selectedHttpAuthScheme={httpAuthOption:h,identity:await g(h.identityProperties),signer:y.signer};break}if(!d.selectedHttpAuthScheme)throw new Error(m.join(`
`));return t(s)}});var gE,ti,yE=x(()=>{c();pc();gE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},ti=(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:r=>{r.addRelativeTo(ei(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),gE)}})});var Xn=O(ds=>{"use strict";c();var MN=Ne(),SE=(e,n)=>(t,r)=>async s=>{let{response:o}=await t(s);try{let i=await n(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{i.message+=`
  `+a}catch{!r.logger||r.logger?.constructor?.name==="NoOpLogger"?console.warn(a):r.logger?.warn?.(a)}typeof i.$responseBodyText<"u"&&i.$response&&(i.$response.body=i.$responseBodyText);try{if(MN.HttpResponse.isInstance(o)){let{headers:l={}}=o,d=Object.entries(l);i.$metadata={httpStatusCode:o.statusCode,requestId:mm(/^x-[\w-]+-request-?id$/,d),extendedRequestId:mm(/^x-[\w-]+-id-2$/,d),cfId:mm(/^x-[\w-]+-cf-id$/,d)}}}catch{}}throw i}},mm=(e,n)=>(n.find(([t])=>t.match(e))||[void 0,void 0])[1],EE=(e,n)=>(t,r)=>async s=>{let o=e,i=r.endpointV2?.url&&o.urlParser?async()=>o.urlParser(r.endpointV2.url):o.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let a=await n(s.input,{...e,endpoint:i});return t({...s,request:a})},_E={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},bE={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function $N(e,n,t){return{applyToStack:r=>{r.add(SE(e,t),_E),r.add(EE(e,n),bE)}}}ds.deserializerMiddleware=SE;ds.deserializerMiddlewareOption=_E;ds.getSerdePlugin=$N;ds.serializerMiddleware=EE;ds.serializerMiddlewareOption=bE});var wE,xE,FN,CE=x(()=>{c();wE=C(Xn());pc();xE={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:wE.serializerMiddlewareOption.name},FN=(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t})=>({applyToStack:r=>{r.addRelativeTo(ei(e,{httpAuthSchemeParametersProvider:n,identityProviderConfigProvider:t}),xE)}})});var RE=x(()=>{c();pc();yE();CE()});var TE,vE,LN,UN,pm,hm=x(()=>{c();TE=C(Ne()),vE=C(pt()),LN=e=>n=>{throw n},UN=(e,n)=>{},pm=e=>(n,t)=>async r=>{if(!TE.HttpRequest.isInstance(r.request))return n(r);let o=(0,vE.getSmithyContext)(t).selectedHttpAuthScheme;if(!o)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:i={}},identity:a,signer:l}=o,d=await n({...r,request:await l.sign(r.request,a,i)}).catch((l.errorHandler||LN)(i));return(l.successHandler||UN)(d.response,i),d}});var AE,ni,IE=x(()=>{c();hm();AE={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},ni=e=>({applyToStack:n=>{n.addRelativeTo(pm(e),AE)}})});var PE=x(()=>{c();hm();IE()});var Yn,NE=x(()=>{c();Yn=e=>{if(typeof e=="function")return e;let n=Promise.resolve(e);return()=>n}});function DE(e,n,t,r,s){return async function*(i,a,...l){let d=a,m=i.startingToken??d[t],h=!0,y;for(;h;){if(d[t]=m,s&&(d[s]=d[s]??i.pageSize),i.client instanceof e)y=await BN(n,i.client,a,i.withCommand,...l);else throw new Error(`Invalid client, expected instance of ${e.name}`);yield y;let g=m;m=zN(y,r),h=!!(m&&(!i.stopOnSameToken||m!==g))}return void 0}}var BN,zN,OE=x(()=>{c();BN=async(e,n,t,r=o=>o,...s)=>{let o=new e(t);return o=r(o)??o,await n.send(o,...s)};zN=(e,n)=>{let t=e,r=n.split(".");for(let s of r){if(!t||typeof t!="object")return;t=t[s]}return t}});var gm=O(kE=>{"use strict";c();var jN=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";kE.isArrayBuffer=jN});var us=O(Sm=>{"use strict";c();var HN=gm(),ym=Ee("buffer"),qN=(e,n=0,t=e.byteLength-n)=>{if(!HN.isArrayBuffer(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return ym.Buffer.from(e,n,t)},VN=(e,n)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return n?ym.Buffer.from(e,n):ym.Buffer.from(e)};Sm.fromArrayBuffer=qN;Sm.fromString=VN});var ME=O(hc=>{"use strict";c();Object.defineProperty(hc,"__esModule",{value:!0});hc.fromBase64=void 0;var GN=us(),WN=/^[A-Za-z0-9+/]*={0,2}$/,KN=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!WN.exec(e))throw new TypeError("Invalid base64 string.");let n=(0,GN.fromString)(e,"base64");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength)};hc.fromBase64=KN});var Je=O(gc=>{"use strict";c();var $E=us(),FE=e=>{let n=$E.fromString(e,"utf8");return new Uint8Array(n.buffer,n.byteOffset,n.byteLength/Uint8Array.BYTES_PER_ELEMENT)},XN=e=>typeof e=="string"?FE(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e),YN=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return $E.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength).toString("utf8")};gc.fromUtf8=FE;gc.toUint8Array=XN;gc.toUtf8=YN});var LE=O(yc=>{"use strict";c();Object.defineProperty(yc,"__esModule",{value:!0});yc.toBase64=void 0;var JN=us(),QN=Je(),ZN=e=>{let n;if(typeof e=="string"?n=(0,QN.fromUtf8)(e):n=e,typeof n!="object"||typeof n.byteOffset!="number"||typeof n.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,JN.fromArrayBuffer)(n.buffer,n.byteOffset,n.byteLength).toString("base64")};yc.toBase64=ZN});var Qe=O(ri=>{"use strict";c();var UE=ME(),BE=LE();Object.keys(UE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ri,e)&&Object.defineProperty(ri,e,{enumerable:!0,get:function(){return UE[e]}})});Object.keys(BE).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(ri,e)&&Object.defineProperty(ri,e,{enumerable:!0,get:function(){return BE[e]}})})});var _m=O(Sc=>{"use strict";c();Object.defineProperty(Sc,"__esModule",{value:!0});Sc.ChecksumStream=void 0;var eD=Qe(),tD=Ee("stream"),Em=class extends tD.Duplex{expectedChecksum;checksumSourceLocation;checksum;source;base64Encoder;constructor({expectedChecksum:n,checksum:t,source:r,checksumSourceLocation:s,base64Encoder:o}){if(super(),typeof r.pipe=="function")this.source=r;else throw new Error(`@smithy/util-stream: unsupported source type ${r?.constructor?.name??r} in ChecksumStream.`);this.base64Encoder=o??eD.toBase64,this.expectedChecksum=n,this.checksum=t,this.checksumSourceLocation=s,this.source.pipe(this)}_read(n){}_write(n,t,r){try{this.checksum.update(n),this.push(n)}catch(s){return r(s)}return r()}async _final(n){try{let t=await this.checksum.digest(),r=this.base64Encoder(t);if(this.expectedChecksum!==r)return n(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${r}" in response header "${this.checksumSourceLocation}".`))}catch(t){return n(t)}return this.push(null),n()}};Sc.ChecksumStream=Em});var Jn=O(fs=>{"use strict";c();Object.defineProperty(fs,"__esModule",{value:!0});fs.isBlob=fs.isReadableStream=void 0;var nD=e=>typeof ReadableStream=="function"&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream);fs.isReadableStream=nD;var rD=e=>typeof Blob=="function"&&(e?.constructor?.name===Blob.name||e instanceof Blob);fs.isBlob=rD});var zE=O(Ec=>{"use strict";c();Object.defineProperty(Ec,"__esModule",{value:!0});Ec.ChecksumStream=void 0;var sD=typeof ReadableStream=="function"?ReadableStream:function(){},bm=class extends sD{};Ec.ChecksumStream=bm});var jE=O(_c=>{"use strict";c();Object.defineProperty(_c,"__esModule",{value:!0});_c.createChecksumStream=void 0;var oD=Qe(),iD=Jn(),aD=zE(),cD=({expectedChecksum:e,checksum:n,source:t,checksumSourceLocation:r,base64Encoder:s})=>{if(!(0,iD.isReadableStream)(t))throw new Error(`@smithy/util-stream: unsupported source type ${t?.constructor?.name??t} in ChecksumStream.`);let o=s??oD.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let i=new TransformStream({start(){},async transform(l,d){n.update(l),d.enqueue(l)},async flush(l){let d=await n.digest(),m=o(d);if(e!==m){let h=new Error(`Checksum mismatch: expected "${e}" but received "${m}" in response header "${r}".`);l.error(h)}else l.terminate()}});t.pipeThrough(i);let a=i.readable;return Object.setPrototypeOf(a,aD.ChecksumStream.prototype),a};_c.createChecksumStream=cD});var HE=O(wm=>{"use strict";c();Object.defineProperty(wm,"__esModule",{value:!0});wm.createChecksumStream=fD;var lD=Jn(),dD=_m(),uD=jE();function fD(e){return typeof ReadableStream=="function"&&(0,lD.isReadableStream)(e.source)?(0,uD.createChecksumStream)(e):new dD.ChecksumStream(e)}});var Cm=O(bc=>{"use strict";c();Object.defineProperty(bc,"__esModule",{value:!0});bc.ByteArrayCollector=void 0;var xm=class{allocByteArray;byteLength=0;byteArrays=[];constructor(n){this.allocByteArray=n}push(n){this.byteArrays.push(n),this.byteLength+=n.byteLength}flush(){if(this.byteArrays.length===1){let r=this.byteArrays[0];return this.reset(),r}let n=this.allocByteArray(this.byteLength),t=0;for(let r=0;r<this.byteArrays.length;++r){let s=this.byteArrays[r];n.set(s,t),t+=s.byteLength}return this.reset(),n}reset(){this.byteArrays=[],this.byteLength=0}};bc.ByteArrayCollector=xm});var WE=O(yn=>{"use strict";c();Object.defineProperty(yn,"__esModule",{value:!0});yn.createBufferedReadable=void 0;yn.createBufferedReadableStream=qE;yn.merge=VE;yn.flush=wc;yn.sizeOf=ms;yn.modeOf=GE;var mD=Cm();function qE(e,n,t){let r=e.getReader(),s=!1,o=0,i=["",new mD.ByteArrayCollector(d=>new Uint8Array(d))],a=-1,l=async d=>{let{value:m,done:h}=await r.read(),y=m;if(h){if(a!==-1){let g=wc(i,a);ms(g)>0&&d.enqueue(g)}d.close()}else{let g=GE(y,!1);if(a!==g&&(a>=0&&d.enqueue(wc(i,a)),a=g),a===-1){d.enqueue(y);return}let E=ms(y);o+=E;let R=ms(i[a]);if(E>=n&&R===0)d.enqueue(y);else{let A=VE(i,a,y);!s&&o>n*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${E} is below threshold of ${n}, automatically buffering.`)),A>=n?d.enqueue(wc(i,a)):await l(d)}}};return new ReadableStream({pull:l})}yn.createBufferedReadable=qE;function VE(e,n,t){switch(n){case 0:return e[0]+=t,ms(e[0]);case 1:case 2:return e[n].push(t),ms(e[n])}}function wc(e,n){switch(n){case 0:let t=e[0];return e[0]="",t;case 1:case 2:return e[n].flush()}throw new Error(`@smithy/util-stream - invalid index ${n} given to flush()`)}function ms(e){return e?.byteLength??e?.length??0}function GE(e,n=!0){return n&&typeof Buffer<"u"&&e instanceof Buffer?2:e instanceof Uint8Array?1:typeof e=="string"?0:-1}});var XE=O(Rm=>{"use strict";c();Object.defineProperty(Rm,"__esModule",{value:!0});Rm.createBufferedReadable=gD;var pD=Ee("node:stream"),KE=Cm(),Sn=WE(),hD=Jn();function gD(e,n,t){if((0,hD.isReadableStream)(e))return(0,Sn.createBufferedReadableStream)(e,n,t);let r=new pD.Readable({read(){}}),s=!1,o=0,i=["",new KE.ByteArrayCollector(l=>new Uint8Array(l)),new KE.ByteArrayCollector(l=>Buffer.from(new Uint8Array(l)))],a=-1;return e.on("data",l=>{let d=(0,Sn.modeOf)(l,!0);if(a!==d&&(a>=0&&r.push((0,Sn.flush)(i,a)),a=d),a===-1){r.push(l);return}let m=(0,Sn.sizeOf)(l);o+=m;let h=(0,Sn.sizeOf)(i[a]);if(m>=n&&h===0)r.push(l);else{let y=(0,Sn.merge)(i,a,l);!s&&o>n*2&&(s=!0,t?.warn(`@smithy/util-stream - stream chunk size ${m} is below threshold of ${n}, automatically buffering.`)),y>=n&&r.push((0,Sn.flush)(i,a))}}),e.on("end",()=>{if(a!==-1){let l=(0,Sn.flush)(i,a);(0,Sn.sizeOf)(l)>0&&r.push(l)}r.push(null)}),r}});var YE=O(xc=>{"use strict";c();Object.defineProperty(xc,"__esModule",{value:!0});xc.getAwsChunkedEncodingStream=void 0;var yD=Ee("stream"),SD=(e,n)=>{let{base64Encoder:t,bodyLengthChecker:r,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=n,a=t!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,l=a?i(s,e):void 0,d=new yD.Readable({read:()=>{}});return e.on("data",m=>{let h=r(m)||0;d.push(`${h.toString(16)}\r
`),d.push(m),d.push(`\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let m=t(await l);d.push(`${o}:${m}\r
`),d.push(`\r
`)}d.push(null)}),d};xc.getAwsChunkedEncodingStream=SD});var JE=O(Tm=>{"use strict";c();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.headStream=ED;async function ED(e,n){let t=0,r=[],s=e.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await s.read();if(d&&(r.push(d),t+=d?.byteLength??0),t>=n)break;o=l}s.releaseLock();let i=new Uint8Array(Math.min(n,t)),a=0;for(let l of r){if(l.byteLength>i.byteLength-a){i.set(l.subarray(0,i.byteLength-a),a);break}else i.set(l,a);a+=l.length}return i}});var QE=O(Cc=>{"use strict";c();Object.defineProperty(Cc,"__esModule",{value:!0});Cc.headStream=void 0;var _D=Ee("stream"),bD=JE(),wD=Jn(),xD=(e,n)=>(0,wD.isReadableStream)(e)?(0,bD.headStream)(e,n):new Promise((t,r)=>{let s=new vm;s.limit=n,e.pipe(s),e.on("error",o=>{s.end(),r(o)}),s.on("error",r),s.on("finish",function(){let o=new Uint8Array(Buffer.concat(this.buffers));t(o)})});Cc.headStream=xD;var vm=class extends _D.Writable{buffers=[];limit=1/0;bytesBuffered=0;_write(n,t,r){if(this.buffers.push(n),this.bytesBuffered+=n.byteLength??0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}r()}}});var Im=O(Am=>{"use strict";c();var ZE=e=>encodeURIComponent(e).replace(/[!'()*]/g,CD),CD=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,RD=e=>e.split("/").map(ZE).join("/");Am.escapeUri=ZE;Am.escapeUriPath=RD});var Nm=O(e_=>{"use strict";c();var Pm=Im();function TD(e){let n=[];for(let t of Object.keys(e).sort()){let r=e[t];if(t=Pm.escapeUri(t),Array.isArray(r))for(let s=0,o=r.length;s<o;s++)n.push(`${t}=${Pm.escapeUri(r[s])}`);else{let s=t;(r||typeof r=="string")&&(s+=`=${Pm.escapeUri(r)}`),n.push(s)}}return n.join("&")}e_.buildQueryString=TD});var kr=O(si=>{"use strict";c();var s_=Ne(),o_=Nm(),Rc=Ee("http"),Tc=Ee("https"),i_=Ee("stream"),Dm=Ee("http2"),vD=["ECONNRESET","EPIPE","ETIMEDOUT"],a_=e=>{let n={};for(let t of Object.keys(e)){let r=e[t];n[t]=Array.isArray(r)?r.join(","):r}return n},ct={setTimeout:(e,n)=>setTimeout(e,n),clearTimeout:e=>clearTimeout(e)},t_=1e3,AD=(e,n,t=0)=>{if(!t)return-1;let r=s=>{let o=ct.setTimeout(()=>{e.destroy(),n(Object.assign(new Error(`@smithy/node-http-handler - the request socket did not establish a connection with the server within the configured timeout of ${t} ms.`),{name:"TimeoutError"}))},t-s),i=a=>{a?.connecting?a.on("connect",()=>{ct.clearTimeout(o)}):ct.clearTimeout(o)};e.socket?i(e.socket):e.on("socket",i)};return t<2e3?(r(0),0):ct.setTimeout(r.bind(null,t_),t_)},ID=(e,n,t=0,r,s)=>t?ct.setTimeout(()=>{let o=`@smithy/node-http-handler - [${r?"ERROR":"WARN"}] a request has exceeded the configured ${t} ms requestTimeout.`;if(r){let i=Object.assign(new Error(o),{name:"TimeoutError",code:"ETIMEDOUT"});e.destroy(i),n(i)}else o+=" Init client requestHandler with throwOnRequestTimeout=true to turn this into an error.",s?.warn?.(o)},t):-1,PD=3e3,ND=(e,{keepAlive:n,keepAliveMsecs:t},r=PD)=>{if(n!==!0)return-1;let s=()=>{e.socket?e.socket.setKeepAlive(n,t||0):e.on("socket",o=>{o.setKeepAlive(n,t||0)})};return r===0?(s(),0):ct.setTimeout(s,r)},n_=3e3,DD=(e,n,t=0)=>{let r=s=>{let o=t-s,i=()=>{e.destroy(),n(Object.assign(new Error(`@smithy/node-http-handler - the request socket timed out after ${t} ms of inactivity (configured by client requestHandler).`),{name:"TimeoutError"}))};e.socket?(e.socket.setTimeout(o,i),e.on("close",()=>e.socket?.removeListener("timeout",i))):e.setTimeout(o,i)};return 0<t&&t<6e3?(r(0),0):ct.setTimeout(r.bind(null,t===0?0:n_),n_)},r_=6e3;async function c_(e,n,t=r_,r=!1){let s=n.headers??{},o=s.Expect||s.expect,i=-1,a=!0;!r&&o==="100-continue"&&(a=await Promise.race([new Promise(l=>{i=Number(ct.setTimeout(()=>l(!0),Math.max(r_,t)))}),new Promise(l=>{e.on("continue",()=>{ct.clearTimeout(i),l(!0)}),e.on("response",()=>{ct.clearTimeout(i),l(!1)}),e.on("error",()=>{ct.clearTimeout(i),l(!1)})})])),a&&OD(e,n.body)}function OD(e,n){if(n instanceof i_.Readable){n.pipe(e);return}if(n){if(Buffer.isBuffer(n)||typeof n=="string"){e.end(n);return}let t=n;if(typeof t=="object"&&t.buffer&&typeof t.byteOffset=="number"&&typeof t.byteLength=="number"){e.end(Buffer.from(t.buffer,t.byteOffset,t.byteLength));return}e.end(Buffer.from(n));return}e.end()}var kD=0,Om=class e{config;configProvider;socketWarningTimestamp=0;externalAgent=!1;metadata={handlerProtocol:"http/1.1"};static create(n){return typeof n?.handle=="function"?n:new e(n)}static checkSocketUsage(n,t,r=console){let{sockets:s,requests:o,maxSockets:i}=n;if(typeof i!="number"||i===1/0||Date.now()-15e3<t)return t;if(s&&o)for(let l in s){let d=s[l]?.length??0,m=o[l]?.length??0;if(d>=i&&m>=2*i)return r?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${d} and ${m} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return t}constructor(n){this.configProvider=new Promise((t,r)=>{typeof n=="function"?n().then(s=>{t(this.resolveDefaultConfig(s))}).catch(r):t(this.resolveDefaultConfig(n))})}resolveDefaultConfig(n){let{requestTimeout:t,connectionTimeout:r,socketTimeout:s,socketAcquisitionWarningTimeout:o,httpAgent:i,httpsAgent:a,throwOnRequestTimeout:l}=n||{},d=!0,m=50;return{connectionTimeout:r,requestTimeout:t,socketTimeout:s,socketAcquisitionWarningTimeout:o,throwOnRequestTimeout:l,httpAgent:i instanceof Rc.Agent||typeof i?.destroy=="function"?(this.externalAgent=!0,i):new Rc.Agent({keepAlive:d,maxSockets:m,...i}),httpsAgent:a instanceof Tc.Agent||typeof a?.destroy=="function"?(this.externalAgent=!0,a):new Tc.Agent({keepAlive:d,maxSockets:m,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(n,{abortSignal:t,requestTimeout:r}={}){return this.config||(this.config=await this.configProvider),new Promise((s,o)=>{let i=this.config,a,l=[],d=async de=>{await a,l.forEach(ct.clearTimeout),s(de)},m=async de=>{await a,l.forEach(ct.clearTimeout),o(de)};if(t?.aborted){let de=new Error("Request aborted");de.name="AbortError",m(de);return}let h=n.protocol==="https:",y=n.headers??{},g=(y.Expect??y.expect)==="100-continue",E=h?i.httpsAgent:i.httpAgent;g&&!this.externalAgent&&(E=new(h?Tc.Agent:Rc.Agent)({keepAlive:!1,maxSockets:1/0})),l.push(ct.setTimeout(()=>{this.socketWarningTimestamp=e.checkSocketUsage(E,this.socketWarningTimestamp,i.logger)},i.socketAcquisitionWarningTimeout??(i.requestTimeout??2e3)+(i.connectionTimeout??1e3)));let R=o_.buildQueryString(n.query||{}),A;if(n.username!=null||n.password!=null){let de=n.username??"",ge=n.password??"";A=`${de}:${ge}`}let I=n.path;R&&(I+=`?${R}`),n.fragment&&(I+=`#${n.fragment}`);let M=n.hostname??"";M[0]==="["&&M.endsWith("]")?M=n.hostname.slice(1,-1):M=n.hostname;let ee={headers:n.headers,host:M,method:n.method,path:I,port:n.port,agent:E,auth:A},ae=(h?Tc.request:Rc.request)(ee,de=>{let ge=new s_.HttpResponse({statusCode:de.statusCode||-1,reason:de.statusMessage,headers:a_(de.headers),body:de});d({response:ge})});if(ae.on("error",de=>{vD.includes(de.code)?m(Object.assign(de,{name:"TimeoutError"})):m(de)}),t){let de=()=>{ae.destroy();let ge=new Error("Request aborted");ge.name="AbortError",m(ge)};if(typeof t.addEventListener=="function"){let ge=t;ge.addEventListener("abort",de,{once:!0}),ae.once("close",()=>ge.removeEventListener("abort",de))}else t.onabort=de}let Ie=r??i.requestTimeout;l.push(AD(ae,m,i.connectionTimeout)),l.push(ID(ae,m,Ie,i.throwOnRequestTimeout,i.logger??console)),l.push(DD(ae,m,i.socketTimeout));let Ue=ee.agent;typeof Ue=="object"&&"keepAlive"in Ue&&l.push(ND(ae,{keepAlive:Ue.keepAlive,keepAliveMsecs:Ue.keepAliveMsecs})),a=c_(ae,n,Ie,this.externalAgent).catch(de=>(l.forEach(ct.clearTimeout),o(de)))})}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[n]:t}))}httpHandlerConfigs(){return this.config??{}}},km=class{sessions=[];constructor(n){this.sessions=n??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(n){this.sessions.push(n)}contains(n){return this.sessions.includes(n)}remove(n){this.sessions=this.sessions.filter(t=>t!==n)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(n){for(let t of this.sessions)t===n&&(t.destroyed||t.destroy())}},Mm=class{constructor(n){if(this.config=n,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}config;sessionCache=new Map;lease(n,t){let r=this.getUrlString(n),s=this.sessionCache.get(r);if(s){let l=s.poll();if(l&&!this.config.disableConcurrency)return l}let o=Dm.connect(r);this.config.maxConcurrency&&o.settings({maxConcurrentStreams:this.config.maxConcurrency},l=>{if(l)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+n.destination.toString())}),o.unref();let i=()=>{o.destroy(),this.deleteSession(r,o)};o.on("goaway",i),o.on("error",i),o.on("frameError",i),o.on("close",()=>this.deleteSession(r,o)),t.requestTimeout&&o.setTimeout(t.requestTimeout,i);let a=this.sessionCache.get(r)||new km;return a.offerLast(o),this.sessionCache.set(r,a),o}deleteSession(n,t){let r=this.sessionCache.get(n);r&&r.contains(t)&&(r.remove(t),this.sessionCache.set(n,r))}release(n,t){let r=this.getUrlString(n);this.sessionCache.get(r)?.offerLast(t)}destroy(){for(let[n,t]of this.sessionCache){for(let r of t)r.destroyed||r.destroy(),t.remove(r);this.sessionCache.delete(n)}}setMaxConcurrentStreams(n){if(n&&n<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=n}setDisableConcurrentStreams(n){this.config.disableConcurrency=n}getUrlString(n){return n.destination.toString()}},$m=class e{config;configProvider;metadata={handlerProtocol:"h2"};connectionManager=new Mm({});static create(n){return typeof n?.handle=="function"?n:new e(n)}constructor(n){this.configProvider=new Promise((t,r)=>{typeof n=="function"?n().then(s=>{t(s||{})}).catch(r):t(n||{})})}destroy(){this.connectionManager.destroy()}async handle(n,{abortSignal:t,requestTimeout:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:s,disableConcurrentStreams:o}=this.config,i=r??s;return new Promise((a,l)=>{let d=!1,m,h=async ve=>{await m,a(ve)},y=async ve=>{await m,l(ve)};if(t?.aborted){d=!0;let ve=new Error("Request aborted");ve.name="AbortError",y(ve);return}let{hostname:g,method:E,port:R,protocol:A,query:I}=n,M="";if(n.username!=null||n.password!=null){let ve=n.username??"",Be=n.password??"";M=`${ve}:${Be}@`}let ee=`${A}//${M}${g}${R?`:${R}`:""}`,re={destination:new URL(ee)},ae=this.connectionManager.lease(re,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:o||!1}),Ie=ve=>{o&&this.destroySession(ae),d=!0,y(ve)},Ue=o_.buildQueryString(I||{}),de=n.path;Ue&&(de+=`?${Ue}`),n.fragment&&(de+=`#${n.fragment}`);let ge=ae.request({...n.headers,[Dm.constants.HTTP2_HEADER_PATH]:de,[Dm.constants.HTTP2_HEADER_METHOD]:E});if(ae.ref(),ge.on("response",ve=>{let Be=new s_.HttpResponse({statusCode:ve[":status"]||-1,headers:a_(ve),body:ge});d=!0,h({response:Be}),o&&(ae.close(),this.connectionManager.deleteSession(ee,ae))}),i&&ge.setTimeout(i,()=>{ge.close();let ve=new Error(`Stream timed out because of no activity for ${i} ms`);ve.name="TimeoutError",Ie(ve)}),t){let ve=()=>{ge.close();let Be=new Error("Request aborted");Be.name="AbortError",Ie(Be)};if(typeof t.addEventListener=="function"){let Be=t;Be.addEventListener("abort",ve,{once:!0}),ge.once("close",()=>Be.removeEventListener("abort",ve))}else t.onabort=ve}ge.on("frameError",(ve,Be,ls)=>{Ie(new Error(`Frame type id ${ve} in stream id ${ls} has failed with code ${Be}.`))}),ge.on("error",Ie),ge.on("aborted",()=>{Ie(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${ge.rstCode}.`))}),ge.on("close",()=>{ae.unref(),o&&ae.destroy(),d||Ie(new Error("Unexpected error: http2 request did not get a response"))}),m=c_(ge,n,i)})}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>({...r,[n]:t}))}httpHandlerConfigs(){return this.config??{}}destroySession(n){n.destroyed||n.destroy()}},Fm=class extends i_.Writable{bufferedBytes=[];_write(n,t,r){this.bufferedBytes.push(n),r()}},MD=e=>$D(e)?FD(e):new Promise((n,t)=>{let r=new Fm;e.pipe(r),e.on("error",s=>{r.end(),t(s)}),r.on("error",t),r.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));n(s)})}),$D=e=>typeof ReadableStream=="function"&&e instanceof ReadableStream;async function FD(e){let n=[],t=e.getReader(),r=!1,s=0;for(;!r;){let{done:a,value:l}=await t.read();l&&(n.push(l),s+=l.length),r=a}let o=new Uint8Array(s),i=0;for(let a of n)o.set(a,i),i+=a.length;return o}si.DEFAULT_REQUEST_TIMEOUT=kD;si.NodeHttp2Handler=$m;si.NodeHttpHandler=Om;si.streamCollector=MD});var u_=O(Ac=>{"use strict";c();var l_=Ne(),LD=Nm(),UD=Qe();function d_(e,n){return new Request(e,n)}function BD(e=0){return new Promise((n,t)=>{e&&setTimeout(()=>{let r=new Error(`Request did not complete within ${e} ms`);r.name="TimeoutError",t(r)},e)})}var vc={supported:void 0},Lm=class e{config;configProvider;static create(n){return typeof n?.handle=="function"?n:new e(n)}constructor(n){typeof n=="function"?this.configProvider=n().then(t=>t||{}):(this.config=n??{},this.configProvider=Promise.resolve(this.config)),vc.supported===void 0&&(vc.supported=typeof Request<"u"&&"keepalive"in d_("https://[::1]"))}destroy(){}async handle(n,{abortSignal:t,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);let s=r??this.config.requestTimeout,o=this.config.keepAlive===!0,i=this.config.credentials;if(t?.aborted){let M=new Error("Request aborted");return M.name="AbortError",Promise.reject(M)}let a=n.path,l=LD.buildQueryString(n.query||{});l&&(a+=`?${l}`),n.fragment&&(a+=`#${n.fragment}`);let d="";if(n.username!=null||n.password!=null){let M=n.username??"",ee=n.password??"";d=`${M}:${ee}@`}let{port:m,method:h}=n,y=`${n.protocol}//${d}${n.hostname}${m?`:${m}`:""}${a}`,g=h==="GET"||h==="HEAD"?void 0:n.body,E={body:g,headers:new Headers(n.headers),method:h,credentials:i};this.config?.cache&&(E.cache=this.config.cache),g&&(E.duplex="half"),typeof AbortController<"u"&&(E.signal=t),vc.supported&&(E.keepalive=o),typeof this.config.requestInit=="function"&&Object.assign(E,this.config.requestInit(n));let R=()=>{},A=d_(y,E),I=[fetch(A).then(M=>{let ee=M.headers,re={};for(let Ie of ee.entries())re[Ie[0]]=Ie[1];return M.body!=null?{response:new l_.HttpResponse({headers:re,reason:M.statusText,statusCode:M.status,body:M.body})}:M.blob().then(Ie=>({response:new l_.HttpResponse({headers:re,reason:M.statusText,statusCode:M.status,body:Ie})}))}),BD(s)];return t&&I.push(new Promise((M,ee)=>{let re=()=>{let ae=new Error("Request aborted");ae.name="AbortError",ee(ae)};if(typeof t.addEventListener=="function"){let ae=t;ae.addEventListener("abort",re,{once:!0}),R=()=>ae.removeEventListener("abort",re)}else t.onabort=re})),Promise.race(I).finally(R)}updateHttpClientConfig(n,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[n]=t,r))}httpHandlerConfigs(){return this.config??{}}},zD=async e=>typeof Blob=="function"&&e instanceof Blob||e.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await e.arrayBuffer()):jD(e):HD(e);async function jD(e){let n=await qD(e),t=UD.fromBase64(n);return new Uint8Array(t)}async function HD(e){let n=[],t=e.getReader(),r=!1,s=0;for(;!r;){let{done:a,value:l}=await t.read();l&&(n.push(l),s+=l.length),r=a}let o=new Uint8Array(s),i=0;for(let a of n)o.set(a,i),i+=a.length;return o}function qD(e){return new Promise((n,t)=>{let r=new FileReader;r.onloadend=()=>{if(r.readyState!==2)return t(new Error("Reader aborted too early"));let s=r.result??"",o=s.indexOf(","),i=o>-1?o+1:s.length;n(s.substring(i))},r.onabort=()=>t(new Error("Read aborted")),r.onerror=()=>t(r.error),r.readAsDataURL(e)})}Ac.FetchHttpHandler=Lm;Ac.keepAliveSupport=vc;Ac.streamCollector=zD});var zm=O(Bm=>{"use strict";c();var f_={},Um={};for(let e=0;e<256;e++){let n=e.toString(16).toLowerCase();n.length===1&&(n=`0${n}`),f_[e]=n,Um[n]=e}function VD(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let n=new Uint8Array(e.length/2);for(let t=0;t<e.length;t+=2){let r=e.slice(t,t+2).toLowerCase();if(r in Um)n[t/2]=Um[r];else throw new Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return n}function GD(e){let n="";for(let t=0;t<e.byteLength;t++)n+=f_[e[t]];return n}Bm.fromHex=VD;Bm.toHex=GD});var g_=O(Ic=>{"use strict";c();Object.defineProperty(Ic,"__esModule",{value:!0});Ic.sdkStreamMixin=void 0;var WD=u_(),KD=Qe(),XD=zm(),YD=Je(),m_=Jn(),p_="The stream has already been transformed.",JD=e=>{if(!h_(e)&&!(0,m_.isReadableStream)(e)){let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${s}`)}let n=!1,t=async()=>{if(n)throw new Error(p_);return n=!0,await(0,WD.streamCollector)(e)},r=s=>{if(typeof s.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return s.stream()};return Object.assign(e,{transformToByteArray:t,transformToString:async s=>{let o=await t();if(s==="base64")return(0,KD.toBase64)(o);if(s==="hex")return(0,XD.toHex)(o);if(s===void 0||s==="utf8"||s==="utf-8")return(0,YD.toUtf8)(o);if(typeof TextDecoder=="function")return new TextDecoder(s).decode(o);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(p_);if(n=!0,h_(e))return r(e);if((0,m_.isReadableStream)(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})};Ic.sdkStreamMixin=JD;var h_=e=>typeof Blob=="function"&&e instanceof Blob});var S_=O(Pc=>{"use strict";c();Object.defineProperty(Pc,"__esModule",{value:!0});Pc.sdkStreamMixin=void 0;var QD=kr(),ZD=us(),jm=Ee("stream"),eO=g_(),y_="The stream has already been transformed.",tO=e=>{if(!(e instanceof jm.Readable))try{return(0,eO.sdkStreamMixin)(e)}catch{let s=e?.__proto__?.constructor?.name||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${s}`)}let n=!1,t=async()=>{if(n)throw new Error(y_);return n=!0,await(0,QD.streamCollector)(e)};return Object.assign(e,{transformToByteArray:t,transformToString:async r=>{let s=await t();return r===void 0||Buffer.isEncoding(r)?(0,ZD.fromArrayBuffer)(s.buffer,s.byteOffset,s.byteLength).toString(r):new TextDecoder(r).decode(s)},transformToWebStream:()=>{if(n)throw new Error(y_);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof jm.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,jm.Readable.toWeb(e)}})};Pc.sdkStreamMixin=tO});var E_=O(Hm=>{"use strict";c();Object.defineProperty(Hm,"__esModule",{value:!0});Hm.splitStream=nO;async function nO(e){return typeof e.stream=="function"&&(e=e.stream()),e.tee()}});var w_=O(qm=>{"use strict";c();Object.defineProperty(qm,"__esModule",{value:!0});qm.splitStream=sO;var __=Ee("stream"),rO=E_(),b_=Jn();async function sO(e){if((0,b_.isReadableStream)(e)||(0,b_.isBlob)(e))return(0,rO.splitStream)(e);let n=new __.PassThrough,t=new __.PassThrough;return e.pipe(n),e.pipe(t),[n,t]}});var Nc=O(Ge=>{"use strict";c();var x_=Qe(),C_=Je(),R_=_m(),T_=HE(),v_=XE(),A_=YE(),I_=QE(),P_=S_(),N_=w_(),D_=Jn(),Vm=class e extends Uint8Array{static fromString(n,t="utf-8"){if(typeof n=="string")return t==="base64"?e.mutate(x_.fromBase64(n)):e.mutate(C_.fromUtf8(n));throw new Error(`Unsupported conversion from ${typeof n} to Uint8ArrayBlobAdapter.`)}static mutate(n){return Object.setPrototypeOf(n,e.prototype),n}transformToString(n="utf-8"){return n==="base64"?x_.toBase64(this):C_.toUtf8(this)}};Ge.Uint8ArrayBlobAdapter=Vm;Object.keys(R_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return R_[e]}})});Object.keys(T_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return T_[e]}})});Object.keys(v_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return v_[e]}})});Object.keys(A_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return A_[e]}})});Object.keys(I_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return I_[e]}})});Object.keys(P_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return P_[e]}})});Object.keys(N_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return N_[e]}})});Object.keys(D_).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ge,e)&&Object.defineProperty(Ge,e,{enumerable:!0,get:function(){return D_[e]}})})});var Dc,Vt,Oc=x(()=>{c();Dc=C(Nc()),Vt=async(e=new Uint8Array,n)=>{if(e instanceof Uint8Array)return Dc.Uint8ArrayBlobAdapter.mutate(e);if(!e)return Dc.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let t=n.streamCollector(e);return Dc.Uint8ArrayBlobAdapter.mutate(await t)}});function Qt(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(n){return"%"+n.charCodeAt(0).toString(16).toUpperCase()})}var kc=x(()=>{c()});var Gt,Gm=x(()=>{c();Gt=e=>typeof e=="function"?e():e});var oi,Mc=x(()=>{c();oi=(e,n,t,r,s)=>({name:n,namespace:e,traits:t,input:r,output:s})});var O_,k_,M_,Wm,$_=x(()=>{c();O_=C(Ne()),k_=C(pt());Mc();M_=e=>(n,t)=>async r=>{let{response:s}=await n(r),{operationSchema:o}=(0,k_.getSmithyContext)(t),[,i,a,l,d,m]=o??[];try{let h=await e.protocol.deserializeResponse(oi(i,a,l,d,m),{...e,...t},s);return{response:s,output:h}}catch(h){if(Object.defineProperty(h,"$response",{value:s}),!("$metadata"in h)){let y="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{h.message+=`
  `+y}catch{!t.logger||t.logger?.constructor?.name==="NoOpLogger"?console.warn(y):t.logger?.warn?.(y)}typeof h.$responseBodyText<"u"&&h.$response&&(h.$response.body=h.$responseBodyText);try{if(O_.HttpResponse.isInstance(s)){let{headers:g={}}=s,E=Object.entries(g);h.$metadata={httpStatusCode:s.statusCode,requestId:Wm(/^x-[\w-]+-request-?id$/,E),extendedRequestId:Wm(/^x-[\w-]+-id-2$/,E),cfId:Wm(/^x-[\w-]+-cf-id$/,E)}}}catch{}}throw h}},Wm=(e,n)=>(n.find(([t])=>t.match(e))||[void 0,void 0])[1]});var F_,L_,U_=x(()=>{c();F_=C(pt());Mc();L_=e=>(n,t)=>async r=>{let{operationSchema:s}=(0,F_.getSmithyContext)(t),[,o,i,a,l,d]=s??[],m=t.endpointV2?.url&&e.urlParser?async()=>e.urlParser(t.endpointV2.url):e.endpoint,h=await e.protocol.serializeRequest(oi(o,i,a,l,d),r.input,{...e,...t,endpoint:m});return n({...r,request:h})}});function oO(e){return{applyToStack:n=>{n.add(L_(e),z_),n.add(M_(e),B_),e.protocol.setSerdeContext(e)}}}var B_,z_,j_=x(()=>{c();$_();U_();B_={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},z_={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0}});var ze,Qn=x(()=>{c();ze=class{name;namespace;traits;static assign(n,t){return Object.assign(n,t)}static[Symbol.hasInstance](n){let t=this.prototype.isPrototypeOf(n);return!t&&typeof n=="object"&&n!==null?n.symbol===this.symbol:t}getName(){return this.namespace+"#"+this.name}}});var $c,iO,H_=x(()=>{c();Qn();$c=class e extends ze{static symbol=Symbol.for("@smithy/lis");name;traits;valueSchema;symbol=e.symbol},iO=(e,n,t,r)=>ze.assign(new $c,{name:n,namespace:e,traits:t,valueSchema:r})});var Fc,aO,q_=x(()=>{c();Qn();Fc=class e extends ze{static symbol=Symbol.for("@smithy/map");name;traits;keySchema;valueSchema;symbol=e.symbol},aO=(e,n,t,r,s)=>ze.assign(new Fc,{name:n,namespace:e,traits:t,keySchema:r,valueSchema:s})});var Lc,cO,V_=x(()=>{c();Qn();Lc=class e extends ze{static symbol=Symbol.for("@smithy/ope");name;traits;input;output;symbol=e.symbol},cO=(e,n,t,r,s)=>ze.assign(new Lc,{name:n,namespace:e,traits:t,input:r,output:s})});var ps,lO,Km=x(()=>{c();Qn();ps=class e extends ze{static symbol=Symbol.for("@smithy/str");name;traits;memberNames;memberList;symbol=e.symbol},lO=(e,n,t,r,s)=>ze.assign(new ps,{name:n,namespace:e,traits:t,memberNames:r,memberList:s})});var Uc,dO,G_=x(()=>{c();Qn();Km();Uc=class e extends ps{static symbol=Symbol.for("@smithy/err");ctor;symbol=e.symbol},dO=(e,n,t,r,s,o)=>ze.assign(new Uc,{name:n,namespace:e,traits:t,memberNames:r,memberList:s,ctor:null})});function Zt(e){if(typeof e=="object")return e;e=e|0;let n={},t=0;for(let r of["httpLabel","idempotent","idempotencyToken","sensitive","httpPayload","httpResponseCode","httpQueryParams"])(e>>t++&1)===1&&(n[r]=1);return n}var Xm=x(()=>{c()});function ii(e,n){if(e instanceof J)return Object.assign(e,{memberName:n,_isMemberSchema:!0});let t=J;return new t(e,n)}var J,Ym,W_,K_=x(()=>{c();Gm();Xm();J=class e{ref;memberName;static symbol=Symbol.for("@smithy/nor");symbol=e.symbol;name;schema;_isMemberSchema;traits;memberTraits;normalizedTraits;constructor(n,t){this.ref=n,this.memberName=t;let r=[],s=n,o=n;for(this._isMemberSchema=!1;Ym(s);)r.push(s[1]),s=s[0],o=Gt(s),this._isMemberSchema=!0;if(r.length>0){this.memberTraits={};for(let i=r.length-1;i>=0;--i){let a=r[i];Object.assign(this.memberTraits,Zt(a))}}else this.memberTraits=0;if(o instanceof e){let i=this.memberTraits;Object.assign(this,o),this.memberTraits=Object.assign({},i,o.getMemberTraits(),this.getMemberTraits()),this.normalizedTraits=void 0,this.memberName=t??o.memberName;return}if(this.schema=Gt(o),W_(this.schema)?(this.name=`${this.schema[1]}#${this.schema[2]}`,this.traits=this.schema[3]):(this.name=this.memberName??String(o),this.traits=0),this._isMemberSchema&&!t)throw new Error(`@smithy/core/schema - NormalizedSchema member init ${this.getName(!0)} missing member name.`)}static[Symbol.hasInstance](n){let t=this.prototype.isPrototypeOf(n);return!t&&typeof n=="object"&&n!==null?n.symbol===this.symbol:t}static of(n){let t=Gt(n);if(t instanceof e)return t;if(Ym(t)){let[r,s]=t;if(r instanceof e)return Object.assign(r.getMergedTraits(),Zt(s)),r;throw new Error(`@smithy/core/schema - may not init unwrapped member schema=${JSON.stringify(n,null,2)}.`)}return new e(t)}getSchema(){let n=this.schema;return n[0]===0?n[4]:n}getName(n=!1){let{name:t}=this;return!n&&t&&t.includes("#")?t.split("#")[1]:t||void 0}getMemberName(){return this.memberName}isMemberSchema(){return this._isMemberSchema}isListSchema(){let n=this.getSchema();return typeof n=="number"?n>=64&&n<128:n[0]===1}isMapSchema(){let n=this.getSchema();return typeof n=="number"?n>=128&&n<=255:n[0]===2}isStructSchema(){let n=this.getSchema();return n[0]===3||n[0]===-3}isBlobSchema(){let n=this.getSchema();return n===21||n===42}isTimestampSchema(){let n=this.getSchema();return typeof n=="number"&&n>=4&&n<=7}isUnitSchema(){return this.getSchema()==="unit"}isDocumentSchema(){return this.getSchema()===15}isStringSchema(){return this.getSchema()===0}isBooleanSchema(){return this.getSchema()===2}isNumericSchema(){return this.getSchema()===1}isBigIntegerSchema(){return this.getSchema()===17}isBigDecimalSchema(){return this.getSchema()===19}isStreaming(){let{streaming:n}=this.getMergedTraits();return!!n||this.getSchema()===42}isIdempotencyToken(){let n=o=>(o&4)===4||!!o?.idempotencyToken,{normalizedTraits:t,traits:r,memberTraits:s}=this;return n(t)||n(r)||n(s)}getMergedTraits(){return this.normalizedTraits??(this.normalizedTraits={...this.getOwnTraits(),...this.getMemberTraits()})}getMemberTraits(){return Zt(this.memberTraits)}getOwnTraits(){return Zt(this.traits)}getKeySchema(){let[n,t]=[this.isDocumentSchema(),this.isMapSchema()];if(!n&&!t)throw new Error(`@smithy/core/schema - cannot get key for non-map: ${this.getName(!0)}`);let r=this.getSchema(),s=n?15:r[4]??0;return ii([s,0],"key")}getValueSchema(){let n=this.getSchema(),[t,r,s]=[this.isDocumentSchema(),this.isMapSchema(),this.isListSchema()],o=typeof n=="number"?63&n:n&&typeof n=="object"&&(r||s)?n[3+n[0]]:t?15:void 0;if(o!=null)return ii([o,0],r?"value":"member");throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no value member.`)}getMemberSchema(n){let t=this.getSchema();if(this.isStructSchema()&&t[4].includes(n)){let r=t[4].indexOf(n),s=t[5][r];return ii(Ym(s)?s:[s,0],n)}if(this.isDocumentSchema())return ii([15,0],n);throw new Error(`@smithy/core/schema - ${this.getName(!0)} has no no member=${n}.`)}getMemberSchemas(){let n={};try{for(let[t,r]of this.structIterator())n[t]=r}catch{}return n}getEventStreamMember(){if(this.isStructSchema()){for(let[n,t]of this.structIterator())if(t.isStreaming()&&t.isStructSchema())return n}return""}*structIterator(){if(this.isUnitSchema())return;if(!this.isStructSchema())throw new Error("@smithy/core/schema - cannot iterate non-struct schema.");let n=this.getSchema();for(let t=0;t<n[4].length;++t)yield[n[4][t],ii([n[5][t],0],n[4][t])]}};Ym=e=>Array.isArray(e)&&e.length===2,W_=e=>Array.isArray(e)&&e.length>=5});var ai,uO,fO,X_=x(()=>{c();Qn();ai=class e extends ze{static symbol=Symbol.for("@smithy/sim");name;schemaRef;traits;symbol=e.symbol},uO=(e,n,t,r)=>ze.assign(new ai,{name:n,namespace:e,traits:r,schemaRef:t}),fO=(e,n,t,r)=>ze.assign(new ai,{name:n,namespace:e,traits:t,schemaRef:r})});var mO,Y_=x(()=>{c();mO={BLOB:21,STREAMING_BLOB:42,BOOLEAN:2,STRING:0,NUMERIC:1,BIG_INTEGER:17,BIG_DECIMAL:19,DOCUMENT:15,TIMESTAMP_DEFAULT:4,TIMESTAMP_DATE_TIME:5,TIMESTAMP_HTTP_DATE:6,TIMESTAMP_EPOCH_SECONDS:7,LIST_MODIFIER:64,MAP_MODIFIER:128}});var qe,J_=x(()=>{c();qe=class e{namespace;schemas;exceptions;static registries=new Map;constructor(n,t=new Map,r=new Map){this.namespace=n,this.schemas=t,this.exceptions=r}static for(n){return e.registries.has(n)||e.registries.set(n,new e(n)),e.registries.get(n)}register(n,t){let r=this.normalizeShapeId(n);e.for(r.split("#")[0]).schemas.set(r,t)}getSchema(n){let t=this.normalizeShapeId(n);if(!this.schemas.has(t))throw new Error(`@smithy/core/schema - schema not found for ${t}`);return this.schemas.get(t)}registerError(n,t){let r=n,s=e.for(r[1]);s.schemas.set(r[1]+"#"+r[2],r),s.exceptions.set(r,t)}getErrorCtor(n){let t=n;return e.for(t[1]).exceptions.get(t)}getBaseException(){for(let n of this.exceptions.keys())if(Array.isArray(n)){let[,t,r]=n,s=t+"#"+r;if(s.startsWith("smithy.ts.sdk.synthetic.")&&s.endsWith("ServiceException"))return n}}find(n){return[...this.schemas.values()].find(n)}clear(){this.schemas.clear(),this.exceptions.clear()}normalizeShapeId(n){return n.includes("#")?n:this.namespace+"#"+n}}});var Q_={};Tt(Q_,{ErrorSchema:()=>Uc,ListSchema:()=>$c,MapSchema:()=>Fc,NormalizedSchema:()=>J,OperationSchema:()=>Lc,SCHEMA:()=>mO,Schema:()=>ze,SimpleSchema:()=>ai,StructureSchema:()=>ps,TypeRegistry:()=>qe,deref:()=>Gt,deserializerMiddlewareOption:()=>B_,error:()=>dO,getSchemaSerdePlugin:()=>oO,isStaticSchema:()=>W_,list:()=>iO,map:()=>aO,op:()=>cO,operation:()=>oi,serializerMiddlewareOption:()=>z_,sim:()=>uO,simAdapter:()=>fO,struct:()=>lO,translateTraits:()=>Zt});var $e=x(()=>{c();Gm();j_();H_();q_();V_();Mc();G_();K_();Qn();X_();Km();Y_();Xm();J_()});var pO,Z_=x(()=>{c();pO=(e,n,t=r=>r)=>e});var hO,gO,ci,yO,Bc,li,SO,Jm,Qm,Zm,ep,EO,_O,eb,bO,wO,jc,xO,tp,CO,hs,np,RO,TO,vO,tb,nb,AO,IO,Mr,rp,zc,di,sp=x(()=>{c();hO=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}},gO=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&di.warn(zc(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return!1;if(e===1)return!0}if(typeof e=="string"){let n=e.toLowerCase();if((n==="false"||n==="true")&&di.warn(zc(`Expected boolean, got ${typeof e}: ${e}`)),n==="false")return!1;if(n==="true")return!0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},ci=e=>{if(e!=null){if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return String(n)!==String(e)&&di.warn(zc(`Expected number but observed string: ${e}`)),n}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},yO=Math.ceil(34028234663852886e22),Bc=e=>{let n=ci(e);if(n!==void 0&&!Number.isNaN(n)&&n!==1/0&&n!==-1/0&&Math.abs(n)>yO)throw new TypeError(`Expected 32-bit float, got ${e}`);return n},li=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}},SO=li,Jm=e=>ep(e,32),Qm=e=>ep(e,16),Zm=e=>ep(e,8),ep=(e,n)=>{let t=li(e);if(t!==void 0&&EO(t,n)!==t)throw new TypeError(`Expected ${n}-bit integer, got ${e}`);return t},EO=(e,n)=>{switch(n){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},_O=(e,n)=>{if(e==null)throw n?new TypeError(`Expected a non-null value for ${n}`):new TypeError("Expected a non-null value");return e},eb=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let n=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${n}: ${e}`)},bO=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return di.warn(zc(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},wO=e=>{if(e==null)return;let n=eb(e),t=Object.entries(n).filter(([,r])=>r!=null).map(([r])=>r);if(t.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(t.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${t} were not null.`);return n},jc=e=>ci(typeof e=="string"?hs(e):e),xO=jc,tp=e=>Bc(typeof e=="string"?hs(e):e),CO=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,hs=e=>{let n=e.match(CO);if(n===null||n[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},np=e=>typeof e=="string"?tb(e):ci(e),RO=np,TO=np,vO=e=>typeof e=="string"?tb(e):Bc(e),tb=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${e}`)}},nb=e=>li(typeof e=="string"?hs(e):e),AO=nb,IO=e=>Jm(typeof e=="string"?hs(e):e),Mr=e=>Qm(typeof e=="string"?hs(e):e),rp=e=>Zm(typeof e=="string"?hs(e):e),zc=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(n=>!n.includes("stackTraceWarning")).join(`
`),di={warn:console.warn}});function fi(e){let n=e.getUTCFullYear(),t=e.getUTCMonth(),r=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,m=i<10?`0${i}`:`${i}`,h=a<10?`0${a}`:`${a}`;return`${PO[r]}, ${l} ${ip[t]} ${n} ${d}:${m}:${h} GMT`}var PO,ip,NO,DO,OO,ap,kO,MO,$O,cp,lp,ui,FO,LO,UO,op,BO,zO,jO,en,HO,qO,gs,rb=x(()=>{c();sp();PO=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ip=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];NO=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),DO=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let n=NO.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");let[t,r,s,o,i,a,l,d]=n,m=Mr(gs(r)),h=en(s,"month",1,12),y=en(o,"day",1,31);return ui(m,h,y,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:d})},OO=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ap=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let n=OO.exec(e);if(!n)throw new TypeError("Invalid RFC-3339 date-time value");let[t,r,s,o,i,a,l,d,m]=n,h=Mr(gs(r)),y=en(s,"month",1,12),g=en(o,"day",1,31),E=ui(h,y,g,{hours:i,minutes:a,seconds:l,fractionalMilliseconds:d});return m.toUpperCase()!="Z"&&E.setTime(E.getTime()-qO(m)),E},kO=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),MO=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),$O=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),cp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let n=kO.exec(e);if(n){let[t,r,s,o,i,a,l,d]=n;return ui(Mr(gs(o)),op(s),en(r,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:d})}if(n=MO.exec(e),n){let[t,r,s,o,i,a,l,d]=n;return UO(ui(FO(o),op(s),en(r,"day",1,31),{hours:i,minutes:a,seconds:l,fractionalMilliseconds:d}))}if(n=$O.exec(e),n){let[t,r,s,o,i,a,l,d]=n;return ui(Mr(gs(d)),op(r),en(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:l})}throw new TypeError("Invalid RFC-7231 date-time value")},lp=e=>{if(e==null)return;let n;if(typeof e=="number")n=e;else if(typeof e=="string")n=jc(e);else if(typeof e=="object"&&e.tag===1)n=e.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(n)||n===1/0||n===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(n*1e3))},ui=(e,n,t,r)=>{let s=n-1;return zO(e,s,t),new Date(Date.UTC(e,s,t,en(r.hours,"hour",0,23),en(r.minutes,"minute",0,59),en(r.seconds,"seconds",0,60),HO(r.fractionalMilliseconds)))},FO=e=>{let n=new Date().getUTCFullYear(),t=Math.floor(n/100)*100+Mr(gs(e));return t<n?t+100:t},LO=50*365*24*60*60*1e3,UO=e=>e.getTime()-new Date().getTime()>LO?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,op=e=>{let n=ip.indexOf(e);if(n<0)throw new TypeError(`Invalid month: ${e}`);return n+1},BO=[31,28,31,30,31,30,31,31,30,31,30,31],zO=(e,n,t)=>{let r=BO[n];if(n===1&&jO(e)&&(r=29),t>r)throw new TypeError(`Invalid day for ${ip[n]} in ${e}: ${t}`)},jO=e=>e%4===0&&(e%100!==0||e%400===0),en=(e,n,t,r)=>{let s=rp(gs(e));if(s<t||s>r)throw new TypeError(`${n} must be between ${t} and ${r}, inclusive`);return s},HO=e=>e==null?0:tp("0."+e)*1e3,qO=e=>{let n=e[0],t=1;if(n=="+")t=1;else if(n=="-")t=-1;else throw new TypeError(`Offset direction, ${n}, must be "+" or "-"`);let r=Number(e.substring(1,3)),s=Number(e.substring(4,6));return t*(r*60+s)*60*1e3},gs=e=>{let n=0;for(;n<e.length-1&&e.charAt(n)==="0";)n++;return n===0?e:e.slice(n)}});var mi={};Tt(mi,{__addDisposableResource:()=>Ab,__assign:()=>Hc,__asyncDelegator:()=>_b,__asyncGenerator:()=>Eb,__asyncValues:()=>bb,__await:()=>ys,__awaiter:()=>mb,__classPrivateFieldGet:()=>Rb,__classPrivateFieldIn:()=>vb,__classPrivateFieldSet:()=>Tb,__createBinding:()=>Vc,__decorate:()=>ib,__disposeResources:()=>Ib,__esDecorate:()=>cb,__exportStar:()=>hb,__extends:()=>sb,__generator:()=>pb,__importDefault:()=>Cb,__importStar:()=>xb,__makeTemplateObject:()=>wb,__metadata:()=>fb,__param:()=>ab,__propKey:()=>db,__read:()=>fp,__rest:()=>ob,__rewriteRelativeImportExtension:()=>Pb,__runInitializers:()=>lb,__setFunctionName:()=>ub,__spread:()=>gb,__spreadArray:()=>Sb,__spreadArrays:()=>yb,__values:()=>qc,default:()=>WO});function sb(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");dp(e,n);function t(){this.constructor=e}e.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}function ob(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)n.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(t[r[s]]=e[r[s]]);return t}function ib(e,n,t,r){var s=arguments.length,o=s<3?n:r===null?r=Object.getOwnPropertyDescriptor(n,t):r,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,n,t,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(n,t,o):i(n,t))||o);return s>3&&o&&Object.defineProperty(n,t,o),o}function ab(e,n){return function(t,r){n(t,r,e)}}function cb(e,n,t,r,s,o){function i(I){if(I!==void 0&&typeof I!="function")throw new TypeError("Function expected");return I}for(var a=r.kind,l=a==="getter"?"get":a==="setter"?"set":"value",d=!n&&e?r.static?e:e.prototype:null,m=n||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),h,y=!1,g=t.length-1;g>=0;g--){var E={};for(var R in r)E[R]=R==="access"?{}:r[R];for(var R in r.access)E.access[R]=r.access[R];E.addInitializer=function(I){if(y)throw new TypeError("Cannot add initializers after decoration has completed");o.push(i(I||null))};var A=(0,t[g])(a==="accessor"?{get:m.get,set:m.set}:m[l],E);if(a==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(h=i(A.get))&&(m.get=h),(h=i(A.set))&&(m.set=h),(h=i(A.init))&&s.unshift(h)}else(h=i(A))&&(a==="field"?s.unshift(h):m[l]=h)}d&&Object.defineProperty(d,r.name,m),y=!0}function lb(e,n,t){for(var r=arguments.length>2,s=0;s<n.length;s++)t=r?n[s].call(e,t):n[s].call(e);return r?t:void 0}function db(e){return typeof e=="symbol"?e:"".concat(e)}function ub(e,n,t){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",n):n})}function fb(e,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,n)}function mb(e,n,t,r){function s(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function a(m){try{d(r.next(m))}catch(h){i(h)}}function l(m){try{d(r.throw(m))}catch(h){i(h)}}function d(m){m.done?o(m.value):s(m.value).then(a,l)}d((r=r.apply(e,n||[])).next())})}function pb(e,n){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=a(0),i.throw=a(1),i.return=a(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(m){return l([d,m])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,d[0]&&(t=0)),t;)try{if(r=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,s=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){t.label=d[1];break}if(d[0]===6&&t.label<o[1]){t.label=o[1],o=d;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(d);break}o[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(e,t)}catch(m){d=[6,m],s=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function hb(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&Vc(n,e,t)}function qc(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function fp(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),s,o=[],i;try{for(;(n===void 0||n-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return o}function gb(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(fp(arguments[n]));return e}function yb(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;for(var r=Array(e),s=0,n=0;n<t;n++)for(var o=arguments[n],i=0,a=o.length;i<a;i++,s++)r[s]=o[i];return r}function Sb(e,n,t){if(t||arguments.length===2)for(var r=0,s=n.length,o;r<s;r++)(o||!(r in n))&&(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return e.concat(o||Array.prototype.slice.call(n))}function ys(e){return this instanceof ys?(this.v=e,this):new ys(e)}function Eb(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",i),s[Symbol.asyncIterator]=function(){return this},s;function i(g){return function(E){return Promise.resolve(E).then(g,h)}}function a(g,E){r[g]&&(s[g]=function(R){return new Promise(function(A,I){o.push([g,R,A,I])>1||l(g,R)})},E&&(s[g]=E(s[g])))}function l(g,E){try{d(r[g](E))}catch(R){y(o[0][3],R)}}function d(g){g.value instanceof ys?Promise.resolve(g.value.v).then(m,h):y(o[0][2],g)}function m(g){l("next",g)}function h(g){l("throw",g)}function y(g,E){g(E),o.shift(),o.length&&l(o[0][0],o[0][1])}}function _b(e){var n,t;return n={},r("next"),r("throw",function(s){throw s}),r("return"),n[Symbol.iterator]=function(){return this},n;function r(s,o){n[s]=e[s]?function(i){return(t=!t)?{value:ys(e[s](i)),done:!1}:o?o(i):i}:o}}function bb(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof qc=="function"?qc(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(a,l){i=e[o](i),s(a,l,i.done,i.value)})}}function s(o,i,a,l){Promise.resolve(l).then(function(d){o({value:d,done:a})},i)}}function wb(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e}function xb(e){if(e&&e.__esModule)return e;var n={};if(e!=null)for(var t=up(e),r=0;r<t.length;r++)t[r]!=="default"&&Vc(n,e,t[r]);return VO(n,e),n}function Cb(e){return e&&e.__esModule?e:{default:e}}function Rb(e,n,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(e):r?r.value:n.get(e)}function Tb(e,n,t,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!s:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,t):s?s.value=t:n.set(e,t),t}function vb(e,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?n===e:e.has(n)}function Ab(e,n,t){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var r,s;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=n[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=n[Symbol.dispose],t&&(s=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");s&&(r=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:n,dispose:r,async:t})}else t&&e.stack.push({async:!0});return n}function Ib(e){function n(o){e.error=e.hasError?new GO(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var t,r=0;function s(){for(;t=e.stack.pop();)try{if(!t.async&&r===1)return r=0,e.stack.push(t),Promise.resolve().then(s);if(t.dispose){var o=t.dispose.call(t.value);if(t.async)return r|=2,Promise.resolve(o).then(s,function(i){return n(i),s()})}else r|=1}catch(i){n(i)}if(r===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return s()}function Pb(e,n){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,r,s,o,i){return r?n?".jsx":".js":s&&(!o||!i)?t:s+o+"."+i.toLowerCase()+"js"}):e}var dp,Hc,Vc,VO,up,GO,WO,pi=x(()=>{c();dp=function(e,n){return dp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])},dp(e,n)};Hc=function(){return Hc=Object.assign||function(n){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Hc.apply(this,arguments)};Vc=Object.create?(function(e,n,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(n,t);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,s)}):(function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]});VO=Object.create?(function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}):function(e,n){e.default=n},up=function(e){return up=Object.getOwnPropertyNames||function(n){var t=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[t.length]=r);return t},up(e)};GO=typeof SuppressedError=="function"?SuppressedError:function(e,n,t){var r=new Error(t);return r.name="SuppressedError",r.error=e,r.suppressed=n,r};WO={__extends:sb,__assign:Hc,__rest:ob,__decorate:ib,__param:ab,__esDecorate:cb,__runInitializers:lb,__propKey:db,__setFunctionName:ub,__metadata:fb,__awaiter:mb,__generator:pb,__createBinding:Vc,__exportStar:hb,__values:qc,__read:fp,__spread:gb,__spreadArrays:yb,__spreadArray:Sb,__await:ys,__asyncGenerator:Eb,__asyncDelegator:_b,__asyncValues:bb,__makeTemplateObject:wb,__importStar:xb,__importDefault:Cb,__classPrivateFieldGet:Rb,__classPrivateFieldSet:Tb,__classPrivateFieldIn:vb,__addDisposableResource:Ab,__disposeResources:Ib,__rewriteRelativeImportExtension:Pb}});var Db=O(Gc=>{"use strict";c();Object.defineProperty(Gc,"__esModule",{value:!0});Gc.randomUUID=void 0;var KO=(pi(),we(mi)),Nb=KO.__importDefault(Ee("crypto"));Gc.randomUUID=Nb.default.randomUUID.bind(Nb.default)});var mp=O(kb=>{"use strict";c();var Ob=Db(),rt=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0")),XO=()=>{if(Ob.randomUUID)return Ob.randomUUID();let e=new Uint8Array(16);return crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128,rt[e[0]]+rt[e[1]]+rt[e[2]]+rt[e[3]]+"-"+rt[e[4]]+rt[e[5]]+"-"+rt[e[6]]+rt[e[7]]+"-"+rt[e[8]]+rt[e[9]]+"-"+rt[e[10]]+rt[e[11]]+rt[e[12]]+rt[e[13]]+rt[e[14]]+rt[e[15]]};kb.v4=XO});var tn,Mb=x(()=>{c();tn=C(mp())});var lt,$b=x(()=>{c();lt=function(n){return Object.assign(new String(n),{deserializeJSON(){return JSON.parse(String(n))},toString(){return String(n)},toJSON(){return String(n)}})};lt.from=e=>e&&typeof e=="object"&&(e instanceof lt||"deserializeJSON"in e)?e:typeof e=="string"||Object.getPrototypeOf(e)===String.prototype?lt(String(e)):lt(JSON.stringify(e));lt.fromObject=lt.from});function pp(e){return(e.includes(",")||e.includes('"'))&&(e=`"${e.replace(/"/g,'\\"')}"`),e}var Fb=x(()=>{c()});function En(e,n,t){let r=Number(e);if(r<n||r>t)throw new Error(`Value ${r} out of range [${n}, ${t}]`)}var hp,gp,yp,Lb,Ub,YO,JO,QO,ZO,ek,hi,Sp,Ep,Bb=x(()=>{c();hp="(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun)(?:[ne|u?r]?s?day)?",gp="(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)",yp="(\\d?\\d):(\\d{2}):(\\d{2})(?:\\.(\\d+))?",Lb="(\\d?\\d)",Ub="(\\d{4})",YO=new RegExp(/^(\d{4})-(\d\d)-(\d\d)[tT](\d\d):(\d\d):(\d\d)(\.(\d+))?(([-+]\d\d:\d\d)|[zZ])$/),JO=new RegExp(`^${hp}, ${Lb} ${gp} ${Ub} ${yp} GMT$`),QO=new RegExp(`^${hp}, ${Lb}-${gp}-(\\d\\d) ${yp} GMT$`),ZO=new RegExp(`^${hp} ${gp} ( [1-9]|\\d\\d) ${yp} ${Ub}$`),ek=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],hi=e=>{if(e==null)return;let n=NaN;if(typeof e=="number")n=e;else if(typeof e=="string"){if(!/^-?\d*\.?\d+$/.test(e))throw new TypeError("parseEpochTimestamp - numeric string invalid.");n=Number.parseFloat(e)}else typeof e=="object"&&e.tag===1&&(n=e.value);if(isNaN(n)||Math.abs(n)===1/0)throw new TypeError("Epoch timestamps must be valid finite numbers.");return new Date(Math.round(n*1e3))},Sp=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC3339 timestamps must be strings");let n=YO.exec(e);if(!n)throw new TypeError(`Invalid RFC3339 timestamp format ${e}`);let[,t,r,s,o,i,a,,l,d]=n;En(r,1,12),En(s,1,31),En(o,0,23),En(i,0,59),En(a,0,60);let m=new Date(Date.UTC(Number(t),Number(r)-1,Number(s),Number(o),Number(i),Number(a),Number(l)?Math.round(parseFloat(`0.${l}`)*1e3):0));if(m.setUTCFullYear(Number(t)),d.toUpperCase()!="Z"){let[,h,y,g]=/([+-])(\d\d):(\d\d)/.exec(d)||[void 0,"+",0,0],E=h==="-"?1:-1;m.setTime(m.getTime()+E*(Number(y)*60*60*1e3+Number(g)*60*1e3))}return m},Ep=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC7231 timestamps must be strings.");let n,t,r,s,o,i,a,l;if((l=JO.exec(e))?[,n,t,r,s,o,i,a]=l:(l=QO.exec(e))?([,n,t,r,s,o,i,a]=l,r=(Number(r)+1900).toString()):(l=ZO.exec(e))&&([,t,n,s,o,i,a,r]=l),r&&i){let d=Date.UTC(Number(r),ek.indexOf(t),Number(n),Number(s),Number(o),Number(i),a?Math.round(parseFloat(`0.${a}`)*1e3):0);En(n,1,31),En(s,0,23),En(o,0,59),En(i,0,60);let m=new Date(d);return m.setUTCFullYear(Number(r)),m}throw new TypeError(`Invalid RFC7231 date-time value ${e}.`)}});function _p(e,n,t){if(t<=0||!Number.isInteger(t))throw new Error("Invalid number of delimiters ("+t+") for splitEvery.");let r=e.split(n);if(t===1)return r;let s=[],o="";for(let i=0;i<r.length;i++)o===""?o=r[i]:o+=n+r[i],(i+1)%t===0&&(s.push(o),o="");return o!==""&&s.push(o),s}var zb=x(()=>{c()});var gi,jb=x(()=>{c();gi=e=>{let n=e.length,t=[],r=!1,s,o=0;for(let i=0;i<n;++i){let a=e[i];switch(a){case'"':s!=="\\"&&(r=!r);break;case",":r||(t.push(e.slice(o,i)),o=i+1);break;default:}s=a}return t.push(e.slice(o)),t.map(i=>{i=i.trim();let a=i.length;return a<2?i:(i[0]==='"'&&i[a-1]==='"'&&(i=i.slice(1,a-1)),i.replace(/\\"/g,'"'))})}});function bp(e){return new ke(String(e),"bigDecimal")}var Hb,ke,qb=x(()=>{c();Hb=/^-?\d*(\.\d+)?$/,ke=class e{string;type;constructor(n,t){if(this.string=n,this.type=t,!Hb.test(n))throw new Error('@smithy/core/serde - NumericValue must only contain [0-9], at most one decimal point ".", and an optional negation prefix "-".')}toString(){return this.string}static[Symbol.hasInstance](n){if(!n||typeof n!="object")return!1;let t=n;return e.prototype.isPrototypeOf(n)||t.type==="bigDecimal"&&Hb.test(t.string)}}});var Vb={};Tt(Vb,{LazyJsonString:()=>lt,NumericValue:()=>ke,_parseEpochTimestamp:()=>hi,_parseRfc3339DateTimeWithOffset:()=>Sp,_parseRfc7231DateTime:()=>Ep,copyDocumentWithTransform:()=>pO,dateToUtcString:()=>fi,expectBoolean:()=>gO,expectByte:()=>Zm,expectFloat32:()=>Bc,expectInt:()=>SO,expectInt32:()=>Jm,expectLong:()=>li,expectNonNull:()=>_O,expectNumber:()=>ci,expectObject:()=>eb,expectShort:()=>Qm,expectString:()=>bO,expectUnion:()=>wO,generateIdempotencyToken:()=>tn.v4,handleFloat:()=>RO,limitedParseDouble:()=>np,limitedParseFloat:()=>TO,limitedParseFloat32:()=>vO,logger:()=>di,nv:()=>bp,parseBoolean:()=>hO,parseEpochTimestamp:()=>lp,parseRfc3339DateTime:()=>DO,parseRfc3339DateTimeWithOffset:()=>ap,parseRfc7231DateTime:()=>cp,quoteHeader:()=>pp,splitEvery:()=>_p,splitHeader:()=>gi,strictParseByte:()=>rp,strictParseDouble:()=>jc,strictParseFloat:()=>xO,strictParseFloat32:()=>tp,strictParseInt:()=>AO,strictParseInt32:()=>IO,strictParseLong:()=>nb,strictParseShort:()=>Mr});var ht=x(()=>{c();Z_();rb();Mb();$b();sp();Fb();Bb();zb();jb();qb()});var dt,Ss=x(()=>{c();dt=class{serdeContext;setSerdeContext(n){this.serdeContext=n}}});var Gb,wp,Wb=x(()=>{c();Gb=C(Je()),wp=class{marshaller;serializer;deserializer;serdeContext;defaultContentType;constructor({marshaller:n,serializer:t,deserializer:r,serdeContext:s,defaultContentType:o}){this.marshaller=n,this.serializer=t,this.deserializer=r,this.serdeContext=s,this.defaultContentType=o}async serializeEventStream({eventStream:n,requestSchema:t,initialRequest:r}){let s=this.marshaller,o=t.getEventStreamMember(),i=t.getMemberSchema(o),a=this.serializer,l=this.defaultContentType,d=Symbol("initialRequestMarker"),m={async*[Symbol.asyncIterator](){if(r){let h={":event-type":{type:"string",value:"initial-request"},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:l}};a.write(t,r);let y=a.flush();yield{[d]:!0,headers:h,body:y}}for await(let h of n)yield h}};return s.serialize(m,h=>{if(h[d])return{headers:h.headers,body:h.body};let y=Object.keys(h).find(M=>M!=="__type")??"",{additionalHeaders:g,body:E,eventType:R,explicitPayloadContentType:A}=this.writeEventBody(y,i,h);return{headers:{":event-type":{type:"string",value:R},":message-type":{type:"string",value:"event"},":content-type":{type:"string",value:A??l},...g},body:E}})}async deserializeEventStream({response:n,responseSchema:t,initialResponseContainer:r}){let s=this.marshaller,o=t.getEventStreamMember(),a=t.getMemberSchema(o).getMemberSchemas(),l=Symbol("initialResponseMarker"),d=s.deserialize(n.body,async y=>{let g=Object.keys(y).find(E=>E!=="__type")??"";if(g==="initial-response"){let E=await this.deserializer.read(t,y[g].body);return delete E[o],{[l]:!0,...E}}else if(g in a){let E=a[g];return{[g]:await this.deserializer.read(E,y[g].body)}}else return{$unknown:y}}),m=d[Symbol.asyncIterator](),h=await m.next();if(h.done)return d;if(h.value?.[l]){if(!t)throw new Error("@smithy::core/protocols - initial-response event encountered in event stream but no response schema given.");for(let[y,g]of Object.entries(h.value))r[y]=g}return{async*[Symbol.asyncIterator](){for(h?.value?.[l]||(yield h.value);;){let{done:y,value:g}=await m.next();if(y)break;yield g}}}}writeEventBody(n,t,r){let s=this.serializer,o=n,i=null,a,l=t.getSchema()[4].includes(n),d={};if(l){let y=t.getMemberSchema(n);if(y.isStructSchema()){for(let[g,E]of y.structIterator()){let{eventHeader:R,eventPayload:A}=E.getMergedTraits();if(A){i=g;break}else if(R){let I=r[n][g],M="binary";E.isNumericSchema()?(-2)**31<=I&&I<=2**31-1?M="integer":M="long":E.isTimestampSchema()?M="timestamp":E.isStringSchema()?M="string":E.isBooleanSchema()&&(M="boolean"),I!=null&&(d[g]={type:M,value:I},delete r[n][g])}}if(i!==null){let g=y.getMemberSchema(i);g.isBlobSchema()?a="application/octet-stream":g.isStringSchema()&&(a="text/plain"),s.write(g,r[n][i])}else s.write(y,r[n])}else throw new Error("@smithy/core/event-streams - non-struct member not supported in event stream union.")}else{let[y,g]=r[n];o=y,s.write(15,g)}let m=s.flush();return{body:typeof m=="string"?(this.serdeContext?.utf8Decoder??Gb.fromUtf8)(m):m,eventType:o,explicitPayloadContentType:a,additionalHeaders:d}}}});var Kb={};Tt(Kb,{EventStreamSerde:()=>wp});var Xb=x(()=>{c();Wb()});var Wc,$r,Kc=x(()=>{c();$e();Wc=C(Ne());Ss();$r=class extends dt{options;constructor(n){super(),this.options=n}getRequestType(){return Wc.HttpRequest}getResponseType(){return Wc.HttpResponse}setSerdeContext(n){this.serdeContext=n,this.serializer.setSerdeContext(n),this.deserializer.setSerdeContext(n),this.getPayloadCodec()&&this.getPayloadCodec().setSerdeContext(n)}updateServiceEndpoint(n,t){if("url"in t){n.protocol=t.url.protocol,n.hostname=t.url.hostname,n.port=t.url.port?Number(t.url.port):void 0,n.path=t.url.pathname,n.fragment=t.url.hash||void 0,n.username=t.url.username||void 0,n.password=t.url.password||void 0,n.query||(n.query={});for(let[r,s]of t.url.searchParams.entries())n.query[r]=s;return n}else return n.protocol=t.protocol,n.hostname=t.hostname,n.port=t.port?Number(t.port):void 0,n.path=t.path,n.query={...t.query},n}setHostPrefix(n,t,r){let s=J.of(t.input),o=Zt(t.traits??{});if(o.endpoint){let i=o.endpoint?.[0];if(typeof i=="string"){let a=[...s.structIterator()].filter(([,l])=>l.getMergedTraits().hostLabel);for(let[l]of a){let d=r[l];if(typeof d!="string")throw new Error(`@smithy/core/schema - ${l} in input must be a string as hostLabel.`);i=i.replace(`{${l}}`,d)}n.hostname=i+n.hostname}}}deserializeMetadata(n){return{httpStatusCode:n.statusCode,requestId:n.headers["x-amzn-requestid"]??n.headers["x-amzn-request-id"]??n.headers["x-amz-request-id"],extendedRequestId:n.headers["x-amz-id-2"],cfId:n.headers["x-amz-cf-id"]}}async serializeEventStream({eventStream:n,requestSchema:t,initialRequest:r}){return(await this.loadEventStreamCapability()).serializeEventStream({eventStream:n,requestSchema:t,initialRequest:r})}async deserializeEventStream({response:n,responseSchema:t,initialResponseContainer:r}){return(await this.loadEventStreamCapability()).deserializeEventStream({response:n,responseSchema:t,initialResponseContainer:r})}async loadEventStreamCapability(){let{EventStreamSerde:n}=await Promise.resolve().then(()=>(Xb(),Kb));return new n({marshaller:this.getEventStreamMarshaller(),serializer:this.serializer,deserializer:this.deserializer,serdeContext:this.serdeContext,defaultContentType:this.getDefaultContentType()})}getDefaultContentType(){throw new Error(`@smithy/core/protocols - ${this.constructor.name} getDefaultContentType() implementation missing.`)}async deserializeHttpMessage(n,t,r,s,o){return[]}getEventStreamMarshaller(){let n=this.serdeContext;if(!n.eventStreamMarshaller)throw new Error("@smithy/core - HttpProtocol: eventStreamMarshaller missing in serdeContext.");return n.eventStreamMarshaller}}});var Yb,Jb,Fr,Qb=x(()=>{c();$e();ht();Yb=C(Ne()),Jb=C(Nc());Oc();kc();Kc();Fr=class extends $r{async serializeRequest(n,t,r){let s={...t??{}},o=this.serializer,i={},a={},l=await r.endpoint(),d=J.of(n?.input),m=d.getSchema(),h=!1,y,g=new Yb.HttpRequest({protocol:"",hostname:"",port:void 0,path:"",fragment:void 0,query:i,headers:a,body:void 0});if(l){this.updateServiceEndpoint(g,l),this.setHostPrefix(g,n,s);let E=Zt(n.traits);if(E.http){g.method=E.http[0];let[R,A]=E.http[1].split("?");g.path=="/"?g.path=R:g.path+=R;let I=new URLSearchParams(A??"");Object.assign(i,Object.fromEntries(I))}}for(let[E,R]of d.structIterator()){let A=R.getMergedTraits()??{},I=s[E];if(I!=null)if(A.httpPayload)R.isStreaming()?R.isStructSchema()?s[E]&&(y=await this.serializeEventStream({eventStream:s[E],requestSchema:d})):y=I:(o.write(R,I),y=o.flush()),delete s[E];else if(A.httpLabel){o.write(R,I);let M=o.flush();g.path.includes(`{${E}+}`)?g.path=g.path.replace(`{${E}+}`,M.split("/").map(Qt).join("/")):g.path.includes(`{${E}}`)&&(g.path=g.path.replace(`{${E}}`,Qt(M))),delete s[E]}else if(A.httpHeader)o.write(R,I),a[A.httpHeader.toLowerCase()]=String(o.flush()),delete s[E];else if(typeof A.httpPrefixHeaders=="string"){for(let[M,ee]of Object.entries(I)){let re=A.httpPrefixHeaders+M;o.write([R.getValueSchema(),{httpHeader:re}],ee),a[re.toLowerCase()]=o.flush()}delete s[E]}else A.httpQuery||A.httpQueryParams?(this.serializeQuery(R,I,i),delete s[E]):h=!0}return h&&s&&(o.write(m,s),y=o.flush()),g.headers=a,g.query=i,g.body=y,g}serializeQuery(n,t,r){let s=this.serializer,o=n.getMergedTraits();if(o.httpQueryParams){for(let[i,a]of Object.entries(t))if(!(i in r)){let l=n.getValueSchema();Object.assign(l.getMergedTraits(),{...o,httpQuery:i,httpQueryParams:void 0}),this.serializeQuery(l,a,r)}return}if(n.isListSchema()){let i=!!n.getMergedTraits().sparse,a=[];for(let l of t){s.write([n.getValueSchema(),o],l);let d=s.flush();(i||d!==void 0)&&a.push(d)}r[o.httpQuery]=a}else s.write([n,o],t),r[o.httpQuery]=s.flush()}async deserializeResponse(n,t,r){let s=this.deserializer,o=J.of(n.output),i={};if(r.statusCode>=300){let l=await Vt(r.body,t);throw l.byteLength>0&&Object.assign(i,await s.read(15,l)),await this.handleError(n,t,r,i,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - HTTP Protocol error handler failed to throw.")}for(let l in r.headers){let d=r.headers[l];delete r.headers[l],r.headers[l.toLowerCase()]=d}let a=await this.deserializeHttpMessage(o,t,r,i);if(a.length){let l=await Vt(r.body,t);if(l.byteLength>0){let d=await s.read(o,l);for(let m of a)i[m]=d[m]}}return i.$metadata=this.deserializeMetadata(r),i}async deserializeHttpMessage(n,t,r,s,o){let i;s instanceof Set?i=o:i=s;let a=this.deserializer,l=J.of(n),d=[];for(let[m,h]of l.structIterator()){let y=h.getMemberTraits();if(y.httpPayload){if(h.isStreaming())h.isStructSchema()?i[m]=await this.deserializeEventStream({response:r,responseSchema:l}):i[m]=(0,Jb.sdkStreamMixin)(r.body);else if(r.body){let E=await Vt(r.body,t);E.byteLength>0&&(i[m]=await a.read(h,E))}}else if(y.httpHeader){let g=String(y.httpHeader).toLowerCase(),E=r.headers[g];if(E!=null)if(h.isListSchema()){let R=h.getValueSchema();R.getMergedTraits().httpHeader=g;let A;R.isTimestampSchema()&&R.getSchema()===4?A=_p(E,",",2):A=gi(E);let I=[];for(let M of A)I.push(await a.read(R,M.trim()));i[m]=I}else i[m]=await a.read(h,E)}else if(y.httpPrefixHeaders!==void 0){i[m]={};for(let[g,E]of Object.entries(r.headers))if(g.startsWith(y.httpPrefixHeaders)){let R=h.getValueSchema();R.getMergedTraits().httpHeader=g,i[m][g.slice(y.httpPrefixHeaders.length)]=await a.read(R,E)}}else y.httpResponseCode?i[m]=r.statusCode:d.push(m)}return d}}});var Zb,_n,ew=x(()=>{c();$e();Zb=C(Ne());Oc();Kc();_n=class extends $r{async serializeRequest(n,t,r){let s=this.serializer,o={},i={},a=await r.endpoint(),l=J.of(n?.input),d=l.getSchema(),m,h=new Zb.HttpRequest({protocol:"",hostname:"",port:void 0,path:"/",fragment:void 0,query:o,headers:i,body:void 0});a&&(this.updateServiceEndpoint(h,a),this.setHostPrefix(h,n,t));let y={...t};if(t){let g=l.getEventStreamMember();if(g){if(y[g]){let E={};for(let[R,A]of l.structIterator())R!==g&&y[R]&&(s.write(A,y[R]),E[R]=s.flush());m=await this.serializeEventStream({eventStream:y[g],requestSchema:l,initialRequest:E})}}else s.write(d,y),m=s.flush()}return h.headers=i,h.query=o,h.body=m,h.method="POST",h}async deserializeResponse(n,t,r){let s=this.deserializer,o=J.of(n.output),i={};if(r.statusCode>=300){let l=await Vt(r.body,t);throw l.byteLength>0&&Object.assign(i,await s.read(15,l)),await this.handleError(n,t,r,i,this.deserializeMetadata(r)),new Error("@smithy/core/protocols - RPC Protocol error handler failed to throw.")}for(let l in r.headers){let d=r.headers[l];delete r.headers[l],r.headers[l.toLowerCase()]=d}let a=o.getEventStreamMember();if(a)i[a]=await this.deserializeEventStream({response:r,responseSchema:o,initialResponseContainer:i});else{let l=await Vt(r.body,t);l.byteLength>0&&Object.assign(i,await s.read(o,l))}return i.$metadata=this.deserializeMetadata(r),i}}});var xp,Cp=x(()=>{c();kc();xp=(e,n,t,r,s,o)=>{if(n!=null&&n[t]!==void 0){let i=r();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+t+".");e=e.replace(s,o?i.split("/").map(a=>Qt(a)).join("/"):Qt(i))}else throw new Error("No value provided for input HTTP label: "+t+".");return e}});function yi(e,n){return new Xc(e,n)}var tw,Xc,nw=x(()=>{c();tw=C(Ne());Cp();Xc=class{input;context;query={};method="";headers={};path="";body=null;hostname="";resolvePathStack=[];constructor(n,t){this.input=n,this.context=t}async build(){let{hostname:n,protocol:t="https",port:r,path:s}=await this.context.endpoint();this.path=s;for(let o of this.resolvePathStack)o(this.path);return new tw.HttpRequest({protocol:t,hostname:this.hostname||n,port:r,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(n){return this.hostname=n,this}bp(n){return this.resolvePathStack.push(t=>{this.path=`${t?.endsWith("/")?t.slice(0,-1):t||""}`+n}),this}p(n,t,r,s){return this.resolvePathStack.push(o=>{this.path=xp(o,this.input,n,t,r,s)}),this}h(n){return this.headers=n,this}q(n){return this.query=n,this}b(n){return this.body=n,this}m(n){return this.method=n,this}}});function bt(e,n){if(n.timestampFormat.useTrait&&e.isTimestampSchema()&&(e.getSchema()===5||e.getSchema()===6||e.getSchema()===7))return e.getSchema();let{httpLabel:t,httpPrefixHeaders:r,httpHeader:s,httpQuery:o}=e.getMergedTraits();return(n.httpBindings?typeof r=="string"||s?6:o||t?5:void 0:void 0)??n.timestampFormat.default}var Yc=x(()=>{c()});var Rp,rw,Lr,Tp=x(()=>{c();$e();ht();Rp=C(Qe()),rw=C(Je());Ss();Yc();Lr=class extends dt{settings;constructor(n){super(),this.settings=n}read(n,t){let r=J.of(n);if(r.isListSchema())return gi(t).map(s=>this.read(r.getValueSchema(),s));if(r.isBlobSchema())return(this.serdeContext?.base64Decoder??Rp.fromBase64)(t);if(r.isTimestampSchema())switch(bt(r,this.settings)){case 5:return Sp(t);case 6:return Ep(t);case 7:return hi(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(r.isStringSchema()){let s=r.getMergedTraits().mediaType,o=t;if(s)return r.getMergedTraits().httpHeader&&(o=this.base64ToUtf8(o)),(s==="application/json"||s.endsWith("+json"))&&(o=lt.from(o)),o}return r.isNumericSchema()?Number(t):r.isBigIntegerSchema()?BigInt(t):r.isBigDecimalSchema()?new ke(t,"bigDecimal"):r.isBooleanSchema()?String(t).toLowerCase()==="true":t}base64ToUtf8(n){return(this.serdeContext?.utf8Encoder??rw.toUtf8)((this.serdeContext?.base64Decoder??Rp.fromBase64)(n))}}});var Jc,Ur,sw=x(()=>{c();$e();Jc=C(Je());Ss();Tp();Ur=class extends dt{codecDeserializer;stringDeserializer;constructor(n,t){super(),this.codecDeserializer=n,this.stringDeserializer=new Lr(t)}setSerdeContext(n){this.stringDeserializer.setSerdeContext(n),this.codecDeserializer.setSerdeContext(n),this.serdeContext=n}read(n,t){let r=J.of(n),s=r.getMergedTraits(),o=this.serdeContext?.utf8Encoder??Jc.toUtf8;if(s.httpHeader||s.httpResponseCode)return this.stringDeserializer.read(r,o(t));if(s.httpPayload){if(r.isBlobSchema()){let i=this.serdeContext?.utf8Decoder??Jc.fromUtf8;return typeof t=="string"?i(t):t}else if(r.isStringSchema())return"byteLength"in t?o(t):t}return this.codecDeserializer.read(r,t)}}});var vp,Si,Ap=x(()=>{c();$e();ht();vp=C(Qe());Ss();Yc();Si=class extends dt{settings;stringBuffer="";constructor(n){super(),this.settings=n}write(n,t){let r=J.of(n);switch(typeof t){case"object":if(t===null){this.stringBuffer="null";return}if(r.isTimestampSchema()){if(!(t instanceof Date))throw new Error(`@smithy/core/protocols - received non-Date value ${t} when schema expected Date in ${r.getName(!0)}`);switch(bt(r,this.settings)){case 5:this.stringBuffer=t.toISOString().replace(".000Z","Z");break;case 6:this.stringBuffer=fi(t);break;case 7:this.stringBuffer=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using epoch seconds",t),this.stringBuffer=String(t.getTime()/1e3)}return}if(r.isBlobSchema()&&"byteLength"in t){this.stringBuffer=(this.serdeContext?.base64Encoder??vp.toBase64)(t);return}if(r.isListSchema()&&Array.isArray(t)){let i="";for(let a of t){this.write([r.getValueSchema(),r.getMergedTraits()],a);let l=this.flush(),d=r.getValueSchema().isTimestampSchema()?l:pp(l);i!==""&&(i+=", "),i+=d}this.stringBuffer=i;return}this.stringBuffer=JSON.stringify(t,null,2);break;case"string":let s=r.getMergedTraits().mediaType,o=t;if(s&&((s==="application/json"||s.endsWith("+json"))&&(o=lt.from(o)),r.getMergedTraits().httpHeader)){this.stringBuffer=(this.serdeContext?.base64Encoder??vp.toBase64)(o.toString());return}this.stringBuffer=t;break;default:this.stringBuffer=String(t)}}flush(){let n=this.stringBuffer;return this.stringBuffer="",n}}});var Br,ow=x(()=>{c();$e();Ap();Br=class{codecSerializer;stringSerializer;buffer;constructor(n,t,r=new Si(t)){this.codecSerializer=n,this.stringSerializer=r}setSerdeContext(n){this.codecSerializer.setSerdeContext(n),this.stringSerializer.setSerdeContext(n)}write(n,t){let r=J.of(n),s=r.getMergedTraits();if(s.httpHeader||s.httpLabel||s.httpQuery){this.stringSerializer.write(r,t),this.buffer=this.stringSerializer.flush();return}return this.codecSerializer.write(r,t)}flush(){if(this.buffer!==void 0){let n=this.buffer;return this.buffer=void 0,n}return this.codecSerializer.flush()}}});var iw={};Tt(iw,{FromStringShapeDeserializer:()=>Lr,HttpBindingProtocol:()=>Fr,HttpInterceptingShapeDeserializer:()=>Ur,HttpInterceptingShapeSerializer:()=>Br,HttpProtocol:()=>$r,RequestBuilder:()=>Xc,RpcProtocol:()=>_n,SerdeContext:()=>dt,ToStringShapeSerializer:()=>Si,collectBody:()=>Vt,determineTimestampFormat:()=>bt,extendedEncodeURIComponent:()=>Qt,requestBuilder:()=>yi,resolvedPath:()=>xp});var gt=x(()=>{c();Oc();kc();Qb();Kc();ew();nw();Cp();Tp();sw();ow();Ap();Yc();Ss()});var aw=x(()=>{c();gt()});function tk(e,n,t){e.__smithy_context?e.__smithy_context.features||(e.__smithy_context.features={}):e.__smithy_context={features:{}},e.__smithy_context.features[n]=t}var cw=x(()=>{c()});var zr,lw=x(()=>{c();zr=class{authSchemes=new Map;constructor(n){for(let[t,r]of Object.entries(n))r!==void 0&&this.authSchemes.set(t,r)}getIdentityProvider(n){return this.authSchemes.get(n)}}});var dw,Ip,Pp,uw=x(()=>{c();dw=C(Ne()),Ip=C(Wn()),Pp=class{async sign(n,t,r){if(!r)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!r.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!r.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!t.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let s=dw.HttpRequest.clone(n);if(r.in===Ip.HttpApiKeyAuthLocation.QUERY)s.query[r.name]=t.apiKey;else if(r.in===Ip.HttpApiKeyAuthLocation.HEADER)s.headers[r.name]=r.scheme?`${r.scheme} ${t.apiKey}`:t.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+r.in+"`");return s}}});var fw,Np,mw=x(()=>{c();fw=C(Ne()),Np=class{async sign(n,t,r){let s=fw.HttpRequest.clone(n);if(!t.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return s.headers.Authorization=`Bearer ${t.token}`,s}}});var bn,pw=x(()=>{c();bn=class{async sign(n,t,r){return n}}});var hw=x(()=>{c();uw();mw();pw()});var gw,nk,Dp,Qc,Op,yw=x(()=>{c();gw=e=>function(t){return Qc(t)&&t.expiration.getTime()-Date.now()<e},nk=3e5,Dp=gw(3e5),Qc=e=>e.expiration!==void 0,Op=(e,n,t)=>{if(e===void 0)return;let r=typeof e!="function"?async()=>Promise.resolve(e):e,s,o,i,a=!1,l=async d=>{o||(o=r(d));try{s=await o,i=!0,a=!1}finally{o=void 0}return s};return n===void 0?async d=>((!i||d?.forceRefresh)&&(s=await l(d)),s):async d=>((!i||d?.forceRefresh)&&(s=await l(d)),a?s:t(s)?(n(s)&&await l(d),s):(a=!0,s))}});var Sw=x(()=>{c();lw();hw();yw()});var Es={};Tt(Es,{DefaultIdentityProviderConfig:()=>zr,EXPIRATION_MS:()=>nk,HttpApiKeyAuthSigner:()=>Pp,HttpBearerAuthSigner:()=>Np,NoAuthSigner:()=>bn,createIsIdentityExpiredFunction:()=>gw,createPaginator:()=>DE,doesIdentityRequireRefresh:()=>Qc,getHttpAuthSchemeEndpointRuleSetPlugin:()=>ti,getHttpAuthSchemePlugin:()=>FN,getHttpSigningPlugin:()=>ni,getSmithyContext:()=>NN,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>gE,httpAuthSchemeMiddleware:()=>ei,httpAuthSchemeMiddlewareOptions:()=>xE,httpSigningMiddleware:()=>pm,httpSigningMiddlewareOptions:()=>AE,isIdentityExpired:()=>Dp,memoizeIdentityProvider:()=>Op,normalizeProvider:()=>Yn,requestBuilder:()=>yi,setFeature:()=>tk});var yt=x(()=>{c();uE();RE();PE();NE();OE();aw();cw();Sw()});var Hr=O(jr=>{"use strict";c();var Mp=Wn(),$p=class{capacity;data=new Map;parameters=[];constructor({size:n,params:t}){this.capacity=n??50,t&&(this.parameters=t)}get(n,t){let r=this.hash(n);if(r===!1)return t();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let s=this.data.keys(),o=0;for(;;){let{value:i,done:a}=s.next();if(this.data.delete(i),a||++o>10)break}}this.data.set(r,t())}return this.data.get(r)}size(){return this.data.size}hash(n){let t="",{parameters:r}=this;if(r.length===0)return!1;for(let s of r){let o=String(n[s]??"");if(o.includes("|;"))return!1;t+=o+"|;"}return t}},rk=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Ew=e=>rk.test(e)||e.startsWith("[")&&e.endsWith("]"),sk=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Lp=(e,n=!1)=>{if(!n)return sk.test(e);let t=e.split(".");for(let r of t)if(!Lp(r))return!1;return!0},Fp={},Ei="endpoints";function Zn(e){return typeof e!="object"||e==null?e:"ref"in e?`$${Zn(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(Zn).join(", ")})`:JSON.stringify(e,null,2)}var st=class extends Error{constructor(n){super(n),this.name="EndpointError"}},ok=(e,n)=>e===n,ik=e=>{let n=e.split("."),t=[];for(let r of n){let s=r.indexOf("[");if(s!==-1){if(r.indexOf("]")!==r.length-1)throw new st(`Path: '${e}' does not end with ']'`);let o=r.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new st(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&t.push(r.slice(0,s)),t.push(o)}else t.push(r)}return t},_w=(e,n)=>ik(n).reduce((t,r)=>{if(typeof t!="object")throw new st(`Index '${r}' in '${n}' not found in '${JSON.stringify(e)}'`);return Array.isArray(t)?t[parseInt(r)]:t[r]},e),ak=e=>e!=null,ck=e=>!e,kp={[Mp.EndpointURLScheme.HTTP]:80,[Mp.EndpointURLScheme.HTTPS]:443},lk=e=>{let n=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:y,port:g,protocol:E="",path:R="",query:A={}}=e,I=new URL(`${E}//${y}${g?`:${g}`:""}${R}`);return I.search=Object.entries(A).map(([M,ee])=>`${M}=${ee}`).join("&"),I}return new URL(e)}catch{return null}})();if(!n)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let t=n.href,{host:r,hostname:s,pathname:o,protocol:i,search:a}=n;if(a)return null;let l=i.slice(0,-1);if(!Object.values(Mp.EndpointURLScheme).includes(l))return null;let d=Ew(s),m=t.includes(`${r}:${kp[l]}`)||typeof e=="string"&&e.includes(`${r}:${kp[l]}`),h=`${r}${m?`:${kp[l]}`:""}`;return{scheme:l,authority:h,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}},dk=(e,n)=>e===n,uk=(e,n,t,r)=>n>=t||e.length<t?null:r?e.substring(e.length-t,e.length-n):e.substring(n,t),fk=e=>encodeURIComponent(e).replace(/[!*'()]/g,n=>`%${n.charCodeAt(0).toString(16).toUpperCase()}`),mk={booleanEquals:ok,getAttr:_w,isSet:ak,isValidHostLabel:Lp,not:ck,parseURL:lk,stringEquals:dk,substring:uk,uriEncode:fk},bw=(e,n)=>{let t=[],r={...n.endpointParams,...n.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){t.push(e.slice(s));break}t.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){t.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(t.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[l,d]=a.split("#");t.push(_w(r[l],d))}else t.push(r[a]);s=i+1}return t.join("")},pk=({ref:e},n)=>({...n.endpointParams,...n.referenceRecord})[e],Zc=(e,n,t)=>{if(typeof e=="string")return bw(e,t);if(e.fn)return xw.callFunction(e,t);if(e.ref)return pk(e,t);throw new st(`'${n}': ${String(e)} is not a string, function or reference.`)},ww=({fn:e,argv:n},t)=>{let r=n.map(o=>["boolean","number"].includes(typeof o)?o:xw.evaluateExpression(o,"arg",t)),s=e.split(".");return s[0]in Fp&&s[1]!=null?Fp[s[0]][s[1]](...r):mk[e](...r)},xw={evaluateExpression:Zc,callFunction:ww},hk=({assign:e,...n},t)=>{if(e&&e in t.referenceRecord)throw new st(`'${e}' is already defined in Reference Record.`);let r=ww(n,t);return t.logger?.debug?.(`${Ei} evaluateCondition: ${Zn(n)} = ${Zn(r)}`),{result:r===""?!0:!!r,...e!=null&&{toAssign:{name:e,value:r}}}},Up=(e=[],n)=>{let t={};for(let r of e){let{result:s,toAssign:o}=hk(r,{...n,referenceRecord:{...n.referenceRecord,...t}});if(!s)return{result:s};o&&(t[o.name]=o.value,n.logger?.debug?.(`${Ei} assign: ${o.name} := ${Zn(o.value)}`))}return{result:!0,referenceRecord:t}},gk=(e,n)=>Object.entries(e).reduce((t,[r,s])=>({...t,[r]:s.map(o=>{let i=Zc(o,"Header value entry",n);if(typeof i!="string")throw new st(`Header '${r}' value '${i}' is not a string`);return i})}),{}),Cw=(e,n)=>Object.entries(e).reduce((t,[r,s])=>({...t,[r]:Tw.getEndpointProperty(s,n)}),{}),Rw=(e,n)=>{if(Array.isArray(e))return e.map(t=>Rw(t,n));switch(typeof e){case"string":return bw(e,n);case"object":if(e===null)throw new st(`Unexpected endpoint property: ${e}`);return Tw.getEndpointProperties(e,n);case"boolean":return e;default:throw new st(`Unexpected endpoint property type: ${typeof e}`)}},Tw={getEndpointProperty:Rw,getEndpointProperties:Cw},yk=(e,n)=>{let t=Zc(e,"Endpoint URL",n);if(typeof t=="string")try{return new URL(t)}catch(r){throw console.error(`Failed to construct URL with ${t}`,r),r}throw new st(`Endpoint URL must be a string, got ${typeof t}`)},Sk=(e,n)=>{let{conditions:t,endpoint:r}=e,{result:s,referenceRecord:o}=Up(t,n);if(!s)return;let i={...n,referenceRecord:{...n.referenceRecord,...o}},{url:a,properties:l,headers:d}=r;return n.logger?.debug?.(`${Ei} Resolving endpoint from template: ${Zn(r)}`),{...d!=null&&{headers:gk(d,i)},...l!=null&&{properties:Cw(l,i)},url:yk(a,i)}},Ek=(e,n)=>{let{conditions:t,error:r}=e,{result:s,referenceRecord:o}=Up(t,n);if(s)throw new st(Zc(r,"Error",{...n,referenceRecord:{...n.referenceRecord,...o}}))},vw=(e,n)=>{for(let t of e)if(t.type==="endpoint"){let r=Sk(t,n);if(r)return r}else if(t.type==="error")Ek(t,n);else if(t.type==="tree"){let r=Aw.evaluateTreeRule(t,n);if(r)return r}else throw new st(`Unknown endpoint rule: ${t}`);throw new st("Rules evaluation failed")},_k=(e,n)=>{let{conditions:t,rules:r}=e,{result:s,referenceRecord:o}=Up(t,n);if(s)return Aw.evaluateRules(r,{...n,referenceRecord:{...n.referenceRecord,...o}})},Aw={evaluateRules:vw,evaluateTreeRule:_k},bk=(e,n)=>{let{endpointParams:t,logger:r}=n,{parameters:s,rules:o}=e;n.logger?.debug?.(`${Ei} Initial EndpointParams: ${Zn(t)}`);let i=Object.entries(s).filter(([,d])=>d.default!=null).map(([d,m])=>[d,m.default]);if(i.length>0)for(let[d,m]of i)t[d]=t[d]??m;let a=Object.entries(s).filter(([,d])=>d.required).map(([d])=>d);for(let d of a)if(t[d]==null)throw new st(`Missing required parameter: '${d}'`);let l=vw(o,{endpointParams:t,logger:r,referenceRecord:{}});return n.logger?.debug?.(`${Ei} Resolved endpoint: ${Zn(l)}`),l};jr.EndpointCache=$p;jr.EndpointError=st;jr.customEndpointFunctions=Fp;jr.isIpAddress=Ew;jr.isValidHostLabel=Lp;jr.resolveEndpoint=bk});var Pw=O(Iw=>{"use strict";c();function wk(e){let n={};if(e=e.replace(/^\?/,""),e)for(let t of e.split("&")){let[r,s=null]=t.split("=");r=decodeURIComponent(r),s&&(s=decodeURIComponent(s)),r in n?Array.isArray(n[r])?n[r].push(s):n[r]=[n[r],s]:n[r]=s}return n}Iw.parseQueryString=wk});var er=O(Dw=>{"use strict";c();var xk=Pw(),Nw=e=>{if(typeof e=="string")return Nw(new URL(e));let{hostname:n,pathname:t,port:r,protocol:s,search:o}=e,i;return o&&(i=xk.parseQueryString(o)),{hostname:n,port:r?parseInt(r):void 0,protocol:s,path:t,query:i}};Dw.parseUrl=Nw});var bs=O(Wt=>{"use strict";c();var _s=Hr(),Ck=er(),kw=(e,n=!1)=>{if(n){for(let t of e.split("."))if(!kw(t))return!1;return!0}return!(!_s.isValidHostLabel(e)||e.length<3||e.length>63||e!==e.toLowerCase()||_s.isIpAddress(e))},Ow=":",Rk="/",Tk=e=>{let n=e.split(Ow);if(n.length<6)return null;let[t,r,s,o,i,...a]=n;if(t!=="arn"||r===""||s===""||a.join(Ow)==="")return null;let l=a.map(d=>d.split(Rk)).flat();return{partition:r,service:s,region:o,accountId:i,resourceId:l}},vk=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-east-2":{description:"Asia Pacific (Taipei)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-6":{description:"Asia Pacific (New Zealand)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"aws global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"aws-cn global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"api.amazonwebservices.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"api.aws.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"aws-iso global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"api.aws.scloud",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"aws-iso-b global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"},"us-isob-west-1":{description:"US ISOB West"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"api.cloud-aws.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"aws-iso-e global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"api.aws.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"aws-iso-f global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"aws-us-gov global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}}],Ak="1.1",Mw={partitions:vk,version:Ak},$w=Mw,Fw="",Lw=e=>{let{partitions:n}=$w;for(let r of n){let{regions:s,outputs:o}=r;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let r of n){let{regionRegex:s,outputs:o}=r;if(new RegExp(s).test(e))return{...o}}let t=n.find(r=>r.id==="aws");if(!t)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...t.outputs}},Uw=(e,n="")=>{$w=e,Fw=n},Ik=()=>{Uw(Mw,"")},Pk=()=>Fw,Bw={isVirtualHostableS3Bucket:kw,parseArn:Tk,partition:Lw};_s.customEndpointFunctions.aws=Bw;var Nk=e=>{if(typeof e.endpointProvider!="function")throw new Error("@aws-sdk/util-endpoint - endpointProvider and endpoint missing in config for this client.");let{endpoint:n}=e;return n===void 0&&(e.endpoint=async()=>zw(e.endpointProvider({Region:typeof e.region=="function"?await e.region():e.region,UseDualStack:typeof e.useDualstackEndpoint=="function"?await e.useDualstackEndpoint():e.useDualstackEndpoint,UseFIPS:typeof e.useFipsEndpoint=="function"?await e.useFipsEndpoint():e.useFipsEndpoint,Endpoint:void 0},{logger:e.logger}))),e},zw=e=>Ck.parseUrl(e.url);Object.defineProperty(Wt,"EndpointError",{enumerable:!0,get:function(){return _s.EndpointError}});Object.defineProperty(Wt,"isIpAddress",{enumerable:!0,get:function(){return _s.isIpAddress}});Object.defineProperty(Wt,"resolveEndpoint",{enumerable:!0,get:function(){return _s.resolveEndpoint}});Wt.awsEndpointFunctions=Bw;Wt.getUserAgentPrefix=Pk;Wt.partition=Lw;Wt.resolveDefaultAwsRegionalEndpointsConfig=Nk;Wt.setPartitionInfo=Uw;Wt.toEndpointV1=zw;Wt.useDefaultPartitionInfo=Ik});var el,ws,jw=x(()=>{c();el={warningEmitted:!1},ws=e=>{e&&!el.warningEmitted&&parseInt(e.substring(1,e.indexOf(".")))<18&&(el.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function tr(e,n,t){return e.$source||(e.$source={}),e.$source[n]=t,e}var Hw=x(()=>{c()});function qw(e,n,t){e.__aws_sdk_context?e.__aws_sdk_context.features||(e.__aws_sdk_context.features={}):e.__aws_sdk_context={features:{}},e.__aws_sdk_context.features[n]=t}var Vw=x(()=>{c()});function Gw(e,n,t){return e.$source||(e.$source={}),e.$source[n]=t,e}var Ww=x(()=>{c()});var nr={};Tt(nr,{emitWarningIfUnsupportedVersion:()=>ws,setCredentialFeature:()=>tr,setFeature:()=>qw,setTokenFeature:()=>Gw,state:()=>el});var Kt=x(()=>{c();jw();Hw();Vw();Ww()});var Kw,Bp,Xw=x(()=>{c();Kw=C(Ne()),Bp=e=>Kw.HttpResponse.isInstance(e)?e.headers?.date??e.headers?.Date:void 0});var xs,zp=x(()=>{c();xs=e=>new Date(Date.now()+e)});var Yw,Jw=x(()=>{c();zp();Yw=(e,n)=>Math.abs(xs(n).getTime()-e)>=3e5});var jp,Qw=x(()=>{c();Jw();jp=(e,n)=>{let t=Date.parse(e);return Yw(t,n)?t-Date.now():n}});var Hp=x(()=>{c();Xw();zp();Qw()});var Zw,_i,Cs,St,qp,Vp=x(()=>{c();Zw=C(Ne());Hp();_i=(e,n)=>{if(!n)throw new Error(`Property \`${e}\` is not resolved for AWS SDK SigV4Auth`);return n},Cs=async e=>{let n=_i("context",e.context),t=_i("config",e.config),r=n.endpointV2?.properties?.authSchemes?.[0],o=await _i("signer",t.signer)(r),i=e?.signingRegion,a=e?.signingRegionSet,l=e?.signingName;return{config:t,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}},St=class{async sign(n,t,r){if(!Zw.HttpRequest.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let s=await Cs(r),{config:o,signer:i}=s,{signingRegion:a,signingName:l}=s,d=r.context;if(d?.authSchemes?.length??!1){let[h,y]=d.authSchemes;h?.name==="sigv4a"&&y?.name==="sigv4"&&(a=y?.signingRegion??a,l=y?.signingName??l)}return await i.sign(n,{signingDate:xs(o.systemClockOffset),signingRegion:a,signingService:l})}errorHandler(n){return t=>{let r=t.ServerTime??Bp(t.$response);if(r){let s=_i("config",n.config),o=s.systemClockOffset;s.systemClockOffset=jp(r,s.systemClockOffset),s.systemClockOffset!==o&&t.$metadata&&(t.$metadata.clockSkewCorrected=!0)}throw t}}successHandler(n,t){let r=Bp(n);if(r){let s=_i("config",t.config);s.systemClockOffset=jp(r,s.systemClockOffset)}}},qp=St});var ex,bi,tx=x(()=>{c();ex=C(Ne());Hp();Vp();bi=class extends St{async sign(n,t,r){if(!ex.HttpRequest.isInstance(n))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:s,signer:o,signingRegion:i,signingRegionSet:a,signingName:l}=await Cs(r),m=(await s.sigv4aSigningRegionSet?.()??a??[i]).join(",");return await o.sign(n,{signingDate:xs(s.systemClockOffset),signingRegion:m,signingService:l})}}});var Gp,nx=x(()=>{c();Gp=e=>typeof e=="string"&&e.length>0?e.split(",").map(n=>n.trim()):[]});var tl,Wp=x(()=>{c();tl=e=>`AWS_BEARER_TOKEN_${e.replace(/[\s-]/g,"_").toUpperCase()}`});var rx,sx,Rs,ox=x(()=>{c();nx();Wp();rx="AWS_AUTH_SCHEME_PREFERENCE",sx="auth_scheme_preference",Rs={environmentVariableSelector:(e,n)=>{if(n?.signingName&&tl(n.signingName)in e)return["httpBearerAuth"];if(rx in e)return Gp(e[rx])},configFileSelector:e=>{if(sx in e)return Gp(e[sx])},default:[]}});var ut=O(qr=>{"use strict";c();var Ts=class e extends Error{name="ProviderError";tryNextLink;constructor(n,t=!0){let r,s=!0;typeof t=="boolean"?(r=void 0,s=t):t!=null&&typeof t=="object"&&(r=t.logger,s=t.tryNextLink??!0),super(n),this.tryNextLink=s,Object.setPrototypeOf(this,e.prototype),r?.debug?.(`@smithy/property-provider ${s?"->":"(!)"} ${n}`)}static from(n,t=!0){return Object.assign(new this(n.message,t),n)}},Kp=class e extends Ts{name="CredentialsProviderError";constructor(n,t=!0){super(n,t),Object.setPrototypeOf(this,e.prototype)}},Xp=class e extends Ts{name="TokenProviderError";constructor(n,t=!0){super(n,t),Object.setPrototypeOf(this,e.prototype)}},Dk=(...e)=>async()=>{if(e.length===0)throw new Ts("No providers in chain");let n;for(let t of e)try{return await t()}catch(r){if(n=r,r?.tryNextLink)continue;throw r}throw n},Ok=e=>()=>Promise.resolve(e),kk=(e,n,t)=>{let r,s,o,i=!1,a=async()=>{s||(s=e());try{r=await s,o=!0,i=!1}finally{s=void 0}return r};return n===void 0?async l=>((!o||l?.forceRefresh)&&(r=await a()),r):async l=>((!o||l?.forceRefresh)&&(r=await a()),i?r:t&&!t(r)?(i=!0,r):(n(r)&&await a(),r))};qr.CredentialsProviderError=Kp;qr.ProviderError=Ts;qr.TokenProviderError=Xp;qr.chain=Dk;qr.fromStatic=Ok;qr.memoize=kk});var Yp,ix,ax,cx=x(()=>{c();yt();Yp=C(ut()),ix=e=>(e.sigv4aSigningRegionSet=Yn(e.sigv4aSigningRegionSet),e),ax={environmentVariableSelector(e){if(e.AWS_SIGV4A_SIGNING_REGION_SET)return e.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(n=>n.trim());throw new Yp.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(e){if(e.sigv4a_signing_region_set)return(e.sigv4a_signing_region_set??"").split(",").map(n=>n.trim());throw new Yp.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var Dx=O(ce=>{"use strict";c();var rr=zm(),Vr=Je(),Mk=gm(),fx=Ne(),lx=pt(),nl=Im(),mx="X-Amz-Algorithm",px="X-Amz-Credential",nh="X-Amz-Date",hx="X-Amz-SignedHeaders",gx="X-Amz-Expires",rh="X-Amz-Signature",sh="X-Amz-Security-Token",$k="X-Amz-Region-Set",oh="authorization",ih=nh.toLowerCase(),yx="date",Sx=[oh,ih,yx],Ex=rh.toLowerCase(),al="x-amz-content-sha256",_x=sh.toLowerCase(),Fk="host",bx={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},wx=/^proxy-/,xx=/^sec-/,Lk=[/^proxy-/i,/^sec-/i],rl="AWS4-HMAC-SHA256",Uk="AWS4-ECDSA-P256-SHA256",Cx="AWS4-HMAC-SHA256-PAYLOAD",Rx="UNSIGNED-PAYLOAD",Tx=50,ah="aws4_request",vx=3600*24*7,vs={},sl=[],ol=(e,n,t)=>`${e}/${n}/${t}/${ah}`,Ax=async(e,n,t,r,s)=>{let o=await dx(e,n.secretAccessKey,n.accessKeyId),i=`${t}:${r}:${s}:${rr.toHex(o)}:${n.sessionToken}`;if(i in vs)return vs[i];for(sl.push(i);sl.length>Tx;)delete vs[sl.shift()];let a=`AWS4${n.secretAccessKey}`;for(let l of[t,r,s,ah])a=await dx(e,a,l);return vs[i]=a},Bk=()=>{sl.length=0,Object.keys(vs).forEach(e=>{delete vs[e]})},dx=(e,n,t)=>{let r=new e(n);return r.update(Vr.toUint8Array(t)),r.digest()},Jp=({headers:e},n,t)=>{let r={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in bx||n?.has(o)||wx.test(o)||xx.test(o))&&(!t||t&&!t.has(o))||(r[o]=e[s].trim().replace(/\s+/g," "))}return r},il=async({headers:e,body:n},t)=>{for(let r of Object.keys(e))if(r.toLowerCase()===al)return e[r];if(n==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof n=="string"||ArrayBuffer.isView(n)||Mk.isArrayBuffer(n)){let r=new t;return r.update(Vr.toUint8Array(n)),rr.toHex(await r.digest())}return Rx},Qp=class{format(n){let t=[];for(let o of Object.keys(n)){let i=Vr.fromUtf8(o);t.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(n[o]))}let r=new Uint8Array(t.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of t)r.set(o,s),s+=o.byteLength;return r}formatHeaderValue(n){switch(n.type){case"boolean":return Uint8Array.from([n.value?0:1]);case"byte":return Uint8Array.from([2,n.value]);case"short":let t=new DataView(new ArrayBuffer(3));return t.setUint8(0,3),t.setInt16(1,n.value,!1),new Uint8Array(t.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,n.value,!1),new Uint8Array(r.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(n.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+n.value.byteLength));o.setUint8(0,6),o.setUint16(1,n.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(n.value,3),i;case"string":let a=Vr.fromUtf8(n.value),l=new DataView(new ArrayBuffer(3+a.byteLength));l.setUint8(0,7),l.setUint16(1,a.byteLength,!1);let d=new Uint8Array(l.buffer);return d.set(a,3),d;case"timestamp":let m=new Uint8Array(9);return m[0]=8,m.set(Zp.fromNumber(n.value.valueOf()).bytes,1),m;case"uuid":if(!zk.test(n.value))throw new Error(`Invalid UUID received: ${n.value}`);let h=new Uint8Array(17);return h[0]=9,h.set(rr.fromHex(n.value.replace(/\-/g,"")),1),h}}},zk=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,Zp=class e{bytes;constructor(n){if(this.bytes=n,n.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(n){if(n>9223372036854776e3||n<-9223372036854776e3)throw new Error(`${n} is too large (or, if negative, too small) to represent as an Int64`);let t=new Uint8Array(8);for(let r=7,s=Math.abs(Math.round(n));r>-1&&s>0;r--,s/=256)t[r]=s;return n<0&&ux(t),new e(t)}valueOf(){let n=this.bytes.slice(0),t=n[0]&128;return t&&ux(n),parseInt(rr.toHex(n),16)*(t?-1:1)}toString(){return String(this.valueOf())}};function ux(e){for(let n=0;n<8;n++)e[n]^=255;for(let n=7;n>-1&&(e[n]++,e[n]===0);n--);}var Ix=(e,n)=>{e=e.toLowerCase();for(let t of Object.keys(n))if(e===t.toLowerCase())return!0;return!1},Px=(e,n={})=>{let{headers:t,query:r={}}=fx.HttpRequest.clone(e);for(let s of Object.keys(t)){let o=s.toLowerCase();(o.slice(0,6)==="x-amz-"&&!n.unhoistableHeaders?.has(o)||n.hoistableHeaders?.has(o))&&(r[s]=t[s],delete t[s])}return{...e,headers:t,query:r}},eh=e=>{e=fx.HttpRequest.clone(e);for(let n of Object.keys(e.headers))Sx.indexOf(n.toLowerCase())>-1&&delete e.headers[n];return e},Nx=({query:e={}})=>{let n=[],t={};for(let r of Object.keys(e)){if(r.toLowerCase()===Ex)continue;let s=nl.escapeUri(r);n.push(s);let o=e[r];typeof o=="string"?t[s]=`${s}=${nl.escapeUri(o)}`:Array.isArray(o)&&(t[s]=o.slice(0).reduce((i,a)=>i.concat([`${s}=${nl.escapeUri(a)}`]),[]).sort().join("&"))}return n.sort().map(r=>t[r]).filter(r=>r).join("&")},jk=e=>Hk(e).toISOString().replace(/\.\d{3}Z$/,"Z"),Hk=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e,cl=class{service;regionProvider;credentialProvider;sha256;uriEscapePath;applyChecksum;constructor({applyChecksum:n,credentials:t,region:r,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof n=="boolean"?n:!0,this.regionProvider=lx.normalizeProvider(r),this.credentialProvider=lx.normalizeProvider(t)}createCanonicalRequest(n,t,r){let s=Object.keys(t).sort();return`${n.method}
${this.getCanonicalPath(n)}
${Nx(n)}
${s.map(o=>`${o}:${t[o]}`).join(`
`)}

${s.join(";")}
${r}`}async createStringToSign(n,t,r,s){let o=new this.sha256;o.update(Vr.toUint8Array(r));let i=await o.digest();return`${s}
${n}
${t}
${rr.toHex(i)}`}getCanonicalPath({path:n}){if(this.uriEscapePath){let t=[];for(let o of n.split("/"))o?.length!==0&&o!=="."&&(o===".."?t.pop():t.push(o));let r=`${n?.startsWith("/")?"/":""}${t.join("/")}${t.length>0&&n?.endsWith("/")?"/":""}`;return nl.escapeUri(r).replace(/%2F/g,"/")}return n}validateResolvedCredentials(n){if(typeof n!="object"||typeof n.accessKeyId!="string"||typeof n.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(n){let t=jk(n).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}}getCanonicalHeaderList(n){return Object.keys(n).sort().join(";")}},th=class extends cl{headerFormatter=new Qp;constructor({applyChecksum:n,credentials:t,region:r,service:s,sha256:o,uriEscapePath:i=!0}){super({applyChecksum:n,credentials:t,region:r,service:s,sha256:o,uriEscapePath:i})}async presign(n,t={}){let{signingDate:r=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,hoistableHeaders:l,signingRegion:d,signingService:m}=t,h=await this.credentialProvider();this.validateResolvedCredentials(h);let y=d??await this.regionProvider(),{longDate:g,shortDate:E}=this.formatDate(r);if(s>vx)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let R=ol(E,y,m??this.service),A=Px(eh(n),{unhoistableHeaders:i,hoistableHeaders:l});h.sessionToken&&(A.query[sh]=h.sessionToken),A.query[mx]=rl,A.query[px]=`${h.accessKeyId}/${R}`,A.query[nh]=g,A.query[gx]=s.toString(10);let I=Jp(A,o,a);return A.query[hx]=this.getCanonicalHeaderList(I),A.query[rh]=await this.getSignature(g,R,this.getSigningKey(h,y,E,m),this.createCanonicalRequest(A,I,await il(n,this.sha256))),A}async sign(n,t){return typeof n=="string"?this.signString(n,t):n.headers&&n.payload?this.signEvent(n,t):n.message?this.signMessage(n,t):this.signRequest(n,t)}async signEvent({headers:n,payload:t},{signingDate:r=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:l,longDate:d}=this.formatDate(r),m=ol(l,a,i??this.service),h=await il({headers:{},body:t},this.sha256),y=new this.sha256;y.update(n);let g=rr.toHex(await y.digest()),E=[Cx,d,m,s,g,h].join(`
`);return this.signString(E,{signingDate:r,signingRegion:a,signingService:i})}async signMessage(n,{signingDate:t=new Date,signingRegion:r,signingService:s}){return this.signEvent({headers:this.headerFormatter.format(n.message.headers),payload:n.message.body},{signingDate:t,signingRegion:r,signingService:s,priorSignature:n.priorSignature}).then(i=>({message:n.message,signature:i}))}async signString(n,{signingDate:t=new Date,signingRegion:r,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=r??await this.regionProvider(),{shortDate:a}=this.formatDate(t),l=new this.sha256(await this.getSigningKey(o,i,a,s));return l.update(Vr.toUint8Array(n)),rr.toHex(await l.digest())}async signRequest(n,{signingDate:t=new Date,signableHeaders:r,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let l=o??await this.regionProvider(),d=eh(n),{longDate:m,shortDate:h}=this.formatDate(t),y=ol(h,l,i??this.service);d.headers[ih]=m,a.sessionToken&&(d.headers[_x]=a.sessionToken);let g=await il(d,this.sha256);!Ix(al,d.headers)&&this.applyChecksum&&(d.headers[al]=g);let E=Jp(d,s,r),R=await this.getSignature(m,y,this.getSigningKey(a,l,h,i),this.createCanonicalRequest(d,E,g));return d.headers[oh]=`${rl} Credential=${a.accessKeyId}/${y}, SignedHeaders=${this.getCanonicalHeaderList(E)}, Signature=${R}`,d}async getSignature(n,t,r,s){let o=await this.createStringToSign(n,t,s,rl),i=new this.sha256(await r);return i.update(Vr.toUint8Array(o)),rr.toHex(await i.digest())}getSigningKey(n,t,r,s){return Ax(this.sha256,n,r,t,s||this.service)}},qk={SignatureV4a:null};ce.ALGORITHM_IDENTIFIER=rl;ce.ALGORITHM_IDENTIFIER_V4A=Uk;ce.ALGORITHM_QUERY_PARAM=mx;ce.ALWAYS_UNSIGNABLE_HEADERS=bx;ce.AMZ_DATE_HEADER=ih;ce.AMZ_DATE_QUERY_PARAM=nh;ce.AUTH_HEADER=oh;ce.CREDENTIAL_QUERY_PARAM=px;ce.DATE_HEADER=yx;ce.EVENT_ALGORITHM_IDENTIFIER=Cx;ce.EXPIRES_QUERY_PARAM=gx;ce.GENERATED_HEADERS=Sx;ce.HOST_HEADER=Fk;ce.KEY_TYPE_IDENTIFIER=ah;ce.MAX_CACHE_SIZE=Tx;ce.MAX_PRESIGNED_TTL=vx;ce.PROXY_HEADER_PATTERN=wx;ce.REGION_SET_PARAM=$k;ce.SEC_HEADER_PATTERN=xx;ce.SHA256_HEADER=al;ce.SIGNATURE_HEADER=Ex;ce.SIGNATURE_QUERY_PARAM=rh;ce.SIGNED_HEADERS_QUERY_PARAM=hx;ce.SignatureV4=th;ce.SignatureV4Base=cl;ce.TOKEN_HEADER=_x;ce.TOKEN_QUERY_PARAM=sh;ce.UNSIGNABLE_PATTERNS=Lk;ce.UNSIGNED_PAYLOAD=Rx;ce.clearCredentialCache=Bk;ce.createScope=ol;ce.getCanonicalHeaders=Jp;ce.getCanonicalQuery=Nx;ce.getPayloadHash=il;ce.getSigningKey=Ax;ce.hasHeader=Ix;ce.moveHeadersToQuery=Px;ce.prepareRequest=eh;ce.signatureV4aContainer=qk});function Vk(e,{credentials:n,credentialDefaultProvider:t}){let r;return n?n?.memoized?r=n:r=Op(n,Dp,Qc):t?r=Yn(t(Object.assign({},e,{parentClientConfig:e}))):r=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},r.memoized=!0,r}function Gk(e,n){if(n.configBound)return n;let t=async r=>n({...r,callerClientConfig:e});return t.memoized=n.memoized,t.configBound=!0,t}var ch,Gr,Ox,kx=x(()=>{c();Kt();yt();ch=C(Dx()),Gr=e=>{let n=e.credentials,t=!!e.credentials,r;Object.defineProperty(e,"credentials",{set(d){d&&d!==n&&d!==r&&(t=!0),n=d;let m=Vk(e,{credentials:n,credentialDefaultProvider:e.credentialDefaultProvider}),h=Gk(e,m);t&&!h.attributed?(r=async y=>h(y).then(g=>tr(g,"CREDENTIALS_CODE","e")),r.memoized=h.memoized,r.configBound=h.configBound,r.attributed=!0):r=h},get(){return r},enumerable:!0,configurable:!0}),e.credentials=n;let{signingEscapePath:s=!0,systemClockOffset:o=e.systemClockOffset||0,sha256:i}=e,a;return e.signer?a=Yn(e.signer):e.regionInfoProvider?a=()=>Yn(e.region)().then(async d=>[await e.regionInfoProvider(d,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},d]).then(([d,m])=>{let{signingRegion:h,signingService:y}=d;e.signingRegion=e.signingRegion||h||m,e.signingName=e.signingName||y||e.serviceId;let g={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},E=e.signerConstructor||ch.SignatureV4;return new E(g)}):a=async d=>{d=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await Yn(e.region)(),properties:{}},d);let m=d.signingRegion,h=d.signingName;e.signingRegion=e.signingRegion||m,e.signingName=e.signingName||h||e.serviceId;let y={...e,credentials:e.credentials,region:e.signingRegion,service:e.signingName,sha256:i,uriEscapePath:s},g=e.signerConstructor||ch.SignatureV4;return new g(y)},Object.assign(e,{systemClockOffset:o,signingEscapePath:s,signer:a})},Ox=Gr});var Mx=x(()=>{c();Vp();tx();ox();cx();kx()});var $x={};Tt($x,{AWSSDKSigV4Signer:()=>qp,AwsSdkSigV4ASigner:()=>bi,AwsSdkSigV4Signer:()=>St,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Rs,NODE_SIGV4A_CONFIG_OPTIONS:()=>ax,getBearerTokenEnvKey:()=>tl,resolveAWSSDKSigV4Config:()=>Ox,resolveAwsSdkSigV4AConfig:()=>ix,resolveAwsSdkSigV4Config:()=>Gr,validateSigningProperties:()=>Cs});var lh=x(()=>{c();Mx();Wp()});function sr(e){return typeof Buffer<"u"?Buffer.alloc(e):new Uint8Array(e)}function ll(e){return e[dh]=!0,e}var dh,dl=x(()=>{c();dh=Symbol("@smithy/core/cbor::tagSymbol")});function Ux(e){Ae=e,xn=new DataView(Ae.buffer,Ae.byteOffset,Ae.byteLength)}function nn(e,n){if(e>=n)throw new Error("unexpected end of (decode) payload.");let t=(Ae[e]&224)>>5,r=Ae[e]&31;switch(t){case 0:case 1:case 6:let s,o;if(r<24)s=r,o=1;else switch(r){case 24:case 25:case 26:case 27:let i=zx[r],a=i+1;if(o=a,n-e<a)throw new Error(`countLength ${i} greater than remaining buf len.`);let l=e+1;i===1?s=Ae[l]:i===2?s=xn.getUint16(l):i===4?s=xn.getUint32(l):s=xn.getBigUint64(l);break;default:throw new Error(`unexpected minor value ${r}.`)}if(t===0)return ue=o,uh(s);if(t===1){let i;return typeof s=="bigint"?i=BigInt(-1)-s:i=-1-s,ue=o,uh(i)}else if(r===2||r===3){let i=Ri(e+o,n),a=BigInt(0),l=e+o+ue;for(let d=l;d<l+i;++d)a=a<<BigInt(8)|BigInt(Ae[d]);return ue=o+ue+i,r===3?-a-BigInt(1):a}else if(r===4){let i=nn(e+o,n),[a,l]=i,d=l<0?-1:1,m="0".repeat(Math.abs(a)+1)+String(BigInt(d)*BigInt(l)),h,y=l<0?"-":"";return h=a===0?m:m.slice(0,m.length+a)+"."+m.slice(a),h=h.replace(/^0+/g,""),h===""&&(h="0"),h[0]==="."&&(h="0"+h),h=y+h,ue=o+ue,bp(h)}else{let i=nn(e+o,n);return ue=o+ue,ll({tag:uh(s),value:i})}case 3:case 5:case 4:case 2:if(r===31)switch(t){case 3:return Zk(e,n);case 5:return s1(e,n);case 4:return n1(e,n);case 2:return e1(e,n)}else switch(t){case 3:return Qk(e,n);case 5:return r1(e,n);case 4:return t1(e,n);case 2:return yh(e,n)}default:return o1(e,n)}}function Bx(e,n,t){return Xk&&e.constructor?.name==="Buffer"?e.toString("utf-8",n,t):Fx?Fx.decode(e.subarray(n,t)):(0,Lx.toUtf8)(e.subarray(n,t))}function Yk(e){let n=Number(e);return(n<Number.MIN_SAFE_INTEGER||Number.MAX_SAFE_INTEGER<n)&&console.warn(new Error(`@smithy/core/cbor - truncating BigInt(${e}) to ${n} with loss of precision.`)),n}function Jk(e,n){let t=e>>7,r=(e&124)>>2,s=(e&3)<<8|n,o=t===0?1:-1,i,a;if(r===0){if(s===0)return 0;i=Math.pow(2,-14),a=0}else{if(r===31)return s===0?o*(1/0):NaN;i=Math.pow(2,r-15),a=1}return a+=s/1024,o*(i*a)}function Ri(e,n){let t=Ae[e]&31;if(t<24)return ue=1,t;if(t===24||t===25||t===26||t===27){let r=zx[t];if(ue=r+1,n-e<ue)throw new Error(`countLength ${r} greater than remaining buf len.`);let s=e+1;return r===1?Ae[s]:r===2?xn.getUint16(s):r===4?xn.getUint32(s):Yk(xn.getBigUint64(s))}throw new Error(`unexpected minor value ${t}.`)}function Qk(e,n){let t=Ri(e,n),r=ue;if(e+=r,n-e<t)throw new Error(`string len ${t} greater than remaining buf len.`);let s=Bx(Ae,e,e+t);return ue=r+t,s}function Zk(e,n){e+=1;let t=[];for(let r=e;e<n;){if(Ae[e]===255){let l=sr(t.length);return l.set(t,0),ue=e-r+2,Bx(l,0,l.length)}let s=(Ae[e]&224)>>5,o=Ae[e]&31;if(s!==3)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=yh(e,n);e+=ue;for(let l=0;l<i.length;++l)t.push(i[l])}throw new Error("expected break marker.")}function yh(e,n){let t=Ri(e,n),r=ue;if(e+=r,n-e<t)throw new Error(`unstructured byte string len ${t} greater than remaining buf len.`);let s=Ae.subarray(e,e+t);return ue=r+t,s}function e1(e,n){e+=1;let t=[];for(let r=e;e<n;){if(Ae[e]===255){let l=sr(t.length);return l.set(t,0),ue=e-r+2,l}let s=(Ae[e]&224)>>5,o=Ae[e]&31;if(s!==2)throw new Error(`unexpected major type ${s} in indefinite string.`);if(o===31)throw new Error("nested indefinite string.");let i=yh(e,n);e+=ue;for(let l=0;l<i.length;++l)t.push(i[l])}throw new Error("expected break marker.")}function t1(e,n){let t=Ri(e,n),r=ue;e+=r;let s=e,o=Array(t);for(let i=0;i<t;++i){let a=nn(e,n),l=ue;o[i]=a,e+=l}return ue=r+(e-s),o}function n1(e,n){e+=1;let t=[];for(let r=e;e<n;){if(Ae[e]===255)return ue=e-r+2,t;let s=nn(e,n);e+=ue,t.push(s)}throw new Error("expected break marker.")}function r1(e,n){let t=Ri(e,n),r=ue;e+=r;let s=e,o={};for(let i=0;i<t;++i){if(e>=n)throw new Error("unexpected end of map payload.");let a=(Ae[e]&224)>>5;if(a!==3)throw new Error(`unexpected major type ${a} for map key at index ${e}.`);let l=nn(e,n);e+=ue;let d=nn(e,n);e+=ue,o[l]=d}return ue=r+(e-s),o}function s1(e,n){e+=1;let t=e,r={};for(;e<n;){if(e>=n)throw new Error("unexpected end of map payload.");if(Ae[e]===255)return ue=e-t+2,r;let s=(Ae[e]&224)>>5;if(s!==3)throw new Error(`unexpected major type ${s} for map key.`);let o=nn(e,n);e+=ue;let i=nn(e,n);e+=ue,r[o]=i}throw new Error("expected break marker.")}function o1(e,n){let t=Ae[e]&31;switch(t){case 21:case 20:return ue=1,t===21;case 22:return ue=1,null;case 23:return ue=1,null;case 25:if(n-e<3)throw new Error("incomplete float16 at end of buf.");return ue=3,Jk(Ae[e+1],Ae[e+2]);case 26:if(n-e<5)throw new Error("incomplete float32 at end of buf.");return ue=5,xn.getFloat32(e+1);case 27:if(n-e<9)throw new Error("incomplete float64 at end of buf.");return ue=9,xn.getFloat64(e+1);default:throw new Error(`unexpected minor value ${t}.`)}}function uh(e){if(typeof e=="number")return e;let n=Number(e);return Number.MIN_SAFE_INTEGER<=n&&n<=Number.MAX_SAFE_INTEGER?n:e}var Lx,Kk,Xk,Ae,xn,Fx,ue,zx,jx=x(()=>{c();ht();Lx=C(Je());dl();Kk=typeof TextDecoder<"u",Xk=typeof Buffer<"u",Ae=sr(0),xn=new DataView(Ae.buffer,Ae.byteOffset,Ae.byteLength),Fx=Kk?new TextDecoder:null,ue=0;zx={24:1,25:2,26:4,27:8}});function Eh(e){se.byteLength-Q<e&&(Q<16e6?fl(Math.max(se.byteLength*4,se.byteLength+e)):fl(se.byteLength+e+16e6))}function _h(){let e=sr(Q);return e.set(se.subarray(0,Q),0),Q=0,e}function fl(e){let n=se;se=sr(e),n&&(n.copy?n.copy(se,0,0,n.byteLength):se.set(n,0)),Tn=new DataView(se.buffer,se.byteOffset,se.byteLength)}function Rn(e,n){n<24?se[Q++]=e<<5|n:n<256?(se[Q++]=e<<5|24,se[Q++]=n):n<65536?(se[Q++]=e<<5|25,Tn.setUint16(Q,n),Q+=2):n<2**32?(se[Q++]=e<<5|26,Tn.setUint32(Q,n),Q+=4):(se[Q++]=e<<5|27,Tn.setBigUint64(Q,typeof n=="bigint"?n:BigInt(n)),Q+=8)}function Vx(e){let n=[e];for(;n.length;){let t=n.pop();if(Eh(typeof t=="string"?t.length*4:64),typeof t=="string"){if(Hx)Rn(3,Buffer.byteLength(t)),Q+=se.write(t,Q);else{let r=(0,qx.fromUtf8)(t);Rn(3,r.byteLength),se.set(r,Q),Q+=r.byteLength}continue}else if(typeof t=="number"){if(Number.isInteger(t)){let r=t>=0,s=r?0:1,o=r?t:-t-1;o<24?se[Q++]=s<<5|o:o<256?(se[Q++]=s<<5|24,se[Q++]=o):o<65536?(se[Q++]=s<<5|25,se[Q++]=o>>8,se[Q++]=o):o<4294967296?(se[Q++]=s<<5|26,Tn.setUint32(Q,o),Q+=4):(se[Q++]=s<<5|27,Tn.setBigUint64(Q,BigInt(o)),Q+=8);continue}se[Q++]=251,Tn.setFloat64(Q,t),Q+=8;continue}else if(typeof t=="bigint"){let r=t>=0,s=r?0:1,o=r?t:-t-BigInt(1),i=Number(o);if(i<24)se[Q++]=s<<5|i;else if(i<256)se[Q++]=s<<5|24,se[Q++]=i;else if(i<65536)se[Q++]=s<<5|25,se[Q++]=i>>8,se[Q++]=i&255;else if(i<4294967296)se[Q++]=s<<5|26,Tn.setUint32(Q,i),Q+=4;else if(o<BigInt("18446744073709551616"))se[Q++]=s<<5|27,Tn.setBigUint64(Q,o),Q+=8;else{let a=o.toString(2),l=new Uint8Array(Math.ceil(a.length/8)),d=o,m=0;for(;l.byteLength-++m>=0;)l[l.byteLength-m]=Number(d&BigInt(255)),d>>=BigInt(8);Eh(l.byteLength*2),se[Q++]=r?194:195,Hx?Rn(2,Buffer.byteLength(l)):Rn(2,l.byteLength),se.set(l,Q),Q+=l.byteLength}continue}else if(t===null){se[Q++]=246;continue}else if(typeof t=="boolean"){se[Q++]=224|(t?21:20);continue}else{if(typeof t>"u")throw new Error("@smithy/core/cbor: client may not serialize undefined value.");if(Array.isArray(t)){for(let r=t.length-1;r>=0;--r)n.push(t[r]);Rn(4,t.length);continue}else if(typeof t.byteLength=="number"){Eh(t.length*2),Rn(2,t.length),se.set(t,Q),Q+=t.byteLength;continue}else if(typeof t=="object"){if(t instanceof ke){let s=t.string.indexOf("."),o=s===-1?0:s-t.string.length+1,i=BigInt(t.string.replace(".",""));se[Q++]=196,n.push(i),n.push(o),Rn(4,2);continue}if(t[dh])if("tag"in t&&"value"in t){n.push(t.value),Rn(6,t.tag);continue}else throw new Error("tag encountered with missing fields, need 'tag' and 'value', found: "+JSON.stringify(t));let r=Object.keys(t);for(let s=r.length-1;s>=0;--s){let o=r[s];n.push(t[o]),n.push(o)}Rn(5,r.length);continue}}throw new Error(`data type ${t?.constructor?.name??typeof t} not compatible for encoding.`)}}var qx,Hx,i1,se,Tn,Q,Gx=x(()=>{c();ht();qx=C(Je());dl();Hx=typeof Buffer<"u",i1=2048,se=sr(i1),Tn=new DataView(se.buffer,se.byteOffset,se.byteLength),Q=0});var bh,Wx=x(()=>{c();jx();Gx();bh={deserialize(e){return Ux(e),nn(0,e.length)},serialize(e){try{return Vx(e),_h()}catch(n){throw _h(),n}},resizeEncodingBuffer(e){fl(e)}}});var ml,pl,hl=x(()=>{c();dl();ml=e=>ll({tag:1,value:e.getTime()/1e3}),pl=(e,n)=>{let t=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o};if(n.__type!==void 0)return t(n.__type);let r=Object.keys(n).find(s=>s.toLowerCase()==="code");if(r&&n[r]!==void 0)return t(n[r])}});var Ch,gl,wh,xh,Rh=x(()=>{c();gt();$e();ht();Ch=C(Qe());Wx();hl();gl=class extends dt{createSerializer(){let n=new wh;return n.setSerdeContext(this.serdeContext),n}createDeserializer(){let n=new xh;return n.setSerdeContext(this.serdeContext),n}},wh=class extends dt{value;write(n,t){this.value=this.serialize(n,t)}serialize(n,t){let r=J.of(n);if(t==null)return r.isIdempotencyToken()?(0,tn.v4)():t;if(r.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??Ch.fromBase64)(t):t;if(r.isTimestampSchema())return typeof t=="number"||typeof t=="bigint"?ml(new Date(Number(t)/1e3|0)):ml(t);if(typeof t=="function"||typeof t=="object"){let s=t;if(r.isListSchema()&&Array.isArray(s)){let i=!!r.getMergedTraits().sparse,a=[],l=0;for(let d of s){let m=this.serialize(r.getValueSchema(),d);(m!=null||i)&&(a[l++]=m)}return a}if(s instanceof Date)return ml(s);let o={};if(r.isMapSchema()){let i=!!r.getMergedTraits().sparse;for(let a of Object.keys(s)){let l=this.serialize(r.getValueSchema(),s[a]);(l!=null||i)&&(o[a]=l)}}else if(r.isStructSchema())for(let[i,a]of r.structIterator()){let l=this.serialize(a,s[i]);l!=null&&(o[i]=l)}else if(r.isDocumentSchema())for(let i of Object.keys(s))o[i]=this.serialize(r.getValueSchema(),s[i]);return o}return t}flush(){let n=bh.serialize(this.value);return this.value=void 0,n}},xh=class extends dt{read(n,t){let r=bh.deserialize(t);return this.readValue(n,r)}readValue(n,t){let r=J.of(n);if(r.isTimestampSchema()&&typeof t=="number")return hi(t);if(r.isBlobSchema())return typeof t=="string"?(this.serdeContext?.base64Decoder??Ch.fromBase64)(t):t;if(typeof t>"u"||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="bigint"||typeof t=="symbol")return t;if(typeof t=="function"||typeof t=="object"){if(t===null)return null;if("byteLength"in t||t instanceof Date||r.isDocumentSchema())return t;if(r.isListSchema()){let o=[],i=r.getValueSchema(),a=!!r.getMergedTraits().sparse;for(let l of t){let d=this.readValue(i,l);(d!=null||a)&&o.push(d)}return o}let s={};if(r.isMapSchema()){let o=!!r.getMergedTraits().sparse,i=r.getValueSchema();for(let a of Object.keys(t)){let l=this.readValue(i,t[a]);(l!=null||o)&&(s[a]=l)}}else if(r.isStructSchema())for(let[o,i]of r.structIterator())s[o]=this.readValue(i,t[o]);return s}else return t}}});var Kx,yl,Xx=x(()=>{c();gt();$e();Kx=C(pt());Rh();hl();yl=class extends _n{codec=new gl;serializer=this.codec.createSerializer();deserializer=this.codec.createDeserializer();constructor({defaultNamespace:n}){super({defaultNamespace:n})}getShapeId(){return"smithy.protocols#rpcv2Cbor"}getPayloadCodec(){return this.codec}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);if(Object.assign(s.headers,{"content-type":this.getDefaultContentType(),"smithy-protocol":"rpc-v2-cbor",accept:this.getDefaultContentType()}),Gt(n.input)==="unit")delete s.body,delete s.headers["content-type"];else{s.body||(this.serializer.write(15,{}),s.body=this.serializer.flush());try{s.headers["content-length"]=String(s.body.byteLength)}catch{}}let{service:o,operation:i}=(0,Kx.getSmithyContext)(r),a=`/service/${o}/operation/${i}`;return s.path.endsWith("/")?s.path+=a.slice(1):s.path+=a,s}async deserializeResponse(n,t,r){return super.deserializeResponse(n,t,r)}async handleError(n,t,r,s,o){let i=pl(r,s)??"Unknown",a=this.options.defaultNamespace;i.includes("#")&&([a]=i.split("#"));let l={$metadata:o,$response:r,$fault:r.statusCode<=500?"client":"server"},d=qe.for(a),m;try{m=d.getSchema(i)}catch{s.Message&&(s.message=s.Message);let I=qe.for("smithy.ts.sdk.synthetic."+a),M=I.getBaseException();if(M){let ee=I.getErrorCtor(M);throw Object.assign(new ee({name:i}),l,s)}throw Object.assign(new Error(i),l,s)}let h=J.of(m),y=d.getErrorCtor(m),g=s.message??s.Message??"Unknown",E=new y(g),R={};for(let[A,I]of h.structIterator())R[A]=this.deserializer.readValue(I,s[A]);throw Object.assign(E,l,{$fault:h.getMergedTraits().error,message:g},R)}getDefaultContentType(){return"application/cbor"}}});var Yx=x(()=>{c();hl();Xx();Rh()});var vt,Is=x(()=>{c();$e();vt=class{resolveRestContentType(n,t){let r=t.getMemberSchemas(),s=Object.values(r).find(o=>!!o.getMergedTraits().httpPayload);if(s){let o=s.getMergedTraits().mediaType;return o||(s.isStringSchema()?"text/plain":s.isBlobSchema()?"application/octet-stream":n)}else if(!t.isUnitSchema()&&Object.values(r).find(i=>{let{httpQuery:a,httpQueryParams:l,httpHeader:d,httpLabel:m,httpPrefixHeaders:h}=i.getMergedTraits();return!a&&!l&&!d&&!m&&h===void 0}))return n}async getErrorSchemaOrThrowBaseException(n,t,r,s,o,i){let a=t,l=n;n.includes("#")&&([a,l]=n.split("#"));let d={$metadata:o,$response:r,$fault:r.statusCode<500?"client":"server"},m=qe.for(a);try{return{errorSchema:i?.(m,l)??m.getSchema(n),errorMetadata:d}}catch{s.message=s.message??s.Message??"UnknownError";let y=qe.for("smithy.ts.sdk.synthetic."+a),g=y.getBaseException();if(g){let E=y.getErrorCtor(g)??Error;throw Object.assign(new E({name:l}),d,s)}throw Object.assign(new Error(l),d,s)}}setQueryCompatError(n,t){let r=t.headers?.["x-amzn-query-error"];if(n!==void 0&&r!=null){let[s,o]=r.split(";"),i=Object.entries(n),a={Code:s,Type:o};Object.assign(n,a);for(let[l,d]of i)a[l]=d;delete a.__type,n.Error=a}}queryCompatOutput(n,t){n.Error&&(t.Error=n.Error),n.Type&&(t.Type=n.Type),n.Code&&(t.Code=n.Code)}}});var Th,Jx=x(()=>{c();Yx();$e();Is();Th=class extends yl{awsQueryCompatible;mixin=new vt;constructor({defaultNamespace:n,awsQueryCompatible:t}){super({defaultNamespace:n}),this.awsQueryCompatible=!!t}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);return this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),s}async handleError(n,t,r,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,r);let i=pl(r,s)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,s,o),d=J.of(a),m=s.message??s.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m),g={};for(let[E,R]of d.structIterator())g[E]=this.deserializer.readValue(R,s[E]);throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,g),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:m},g)}}});var a1,c1,l1,Qx=x(()=>{c();a1=e=>{if(e==null)return e;if(typeof e=="number"||typeof e=="bigint"){let n=new Error(`Received number ${e} where a string was expected.`);return n.name="Warning",console.warn(n),String(e)}if(typeof e=="boolean"){let n=new Error(`Received boolean ${e} where a string was expected.`);return n.name="Warning",console.warn(n),String(e)}return e},c1=e=>{if(e==null)return e;if(typeof e=="string"){let n=e.toLowerCase();if(e!==""&&n!=="false"&&n!=="true"){let t=new Error(`Received string "${e}" where a boolean was expected.`);t.name="Warning",console.warn(t)}return e!==""&&n!=="false"}return e},l1=e=>{if(e==null)return e;if(typeof e=="string"){let n=Number(e);if(n.toString()!==e){let t=new Error(`Received string "${e}" where a number was expected.`);return t.name="Warning",console.warn(t),e}return n}return e}});var ot,cr=x(()=>{c();ot=class{serdeContext;setSerdeContext(n){this.serdeContext=n}}});function Zx(e,n,t){if(t?.source){let r=t.source;if(typeof n=="number"&&(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER||r!==String(n)))return r.includes(".")?new ke(r,"bigDecimal"):BigInt(r)}return n}var eC=x(()=>{c();ht()});var sC=O(rC=>{"use strict";c();var Wr=(e,n)=>{let t=[];if(e&&t.push(e),n)for(let r of n)t.push(r);return t},lr=(e,n)=>`${e||"anonymous"}${n&&n.length>0?` (a.k.a. ${n.join(",")})`:""}`,vh=()=>{let e=[],n=[],t=!1,r=new Set,s=h=>h.sort((y,g)=>tC[g.step]-tC[y.step]||nC[g.priority||"normal"]-nC[y.priority||"normal"]),o=h=>{let y=!1,g=E=>{let R=Wr(E.name,E.aliases);if(R.includes(h)){y=!0;for(let A of R)r.delete(A);return!1}return!0};return e=e.filter(g),n=n.filter(g),y},i=h=>{let y=!1,g=E=>{if(E.middleware===h){y=!0;for(let R of Wr(E.name,E.aliases))r.delete(R);return!1}return!0};return e=e.filter(g),n=n.filter(g),y},a=h=>(e.forEach(y=>{h.add(y.middleware,{...y})}),n.forEach(y=>{h.addRelativeTo(y.middleware,{...y})}),h.identifyOnResolve?.(m.identifyOnResolve()),h),l=h=>{let y=[];return h.before.forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...l(g))}),y.push(h),h.after.reverse().forEach(g=>{g.before.length===0&&g.after.length===0?y.push(g):y.push(...l(g))}),y},d=(h=!1)=>{let y=[],g=[],E={};return e.forEach(A=>{let I={...A,before:[],after:[]};for(let M of Wr(I.name,I.aliases))E[M]=I;y.push(I)}),n.forEach(A=>{let I={...A,before:[],after:[]};for(let M of Wr(I.name,I.aliases))E[M]=I;g.push(I)}),g.forEach(A=>{if(A.toMiddleware){let I=E[A.toMiddleware];if(I===void 0){if(h)return;throw new Error(`${A.toMiddleware} is not found when adding ${lr(A.name,A.aliases)} middleware ${A.relation} ${A.toMiddleware}`)}A.relation==="after"&&I.after.push(A),A.relation==="before"&&I.before.push(A)}}),s(y).map(l).reduce((A,I)=>(A.push(...I),A),[])},m={add:(h,y={})=>{let{name:g,override:E,aliases:R}=y,A={step:"initialize",priority:"normal",middleware:h,...y},I=Wr(g,R);if(I.length>0){if(I.some(M=>r.has(M))){if(!E)throw new Error(`Duplicate middleware name '${lr(g,R)}'`);for(let M of I){let ee=e.findIndex(ae=>ae.name===M||ae.aliases?.some(Ie=>Ie===M));if(ee===-1)continue;let re=e[ee];if(re.step!==A.step||A.priority!==re.priority)throw new Error(`"${lr(re.name,re.aliases)}" middleware with ${re.priority} priority in ${re.step} step cannot be overridden by "${lr(g,R)}" middleware with ${A.priority} priority in ${A.step} step.`);e.splice(ee,1)}}for(let M of I)r.add(M)}e.push(A)},addRelativeTo:(h,y)=>{let{name:g,override:E,aliases:R}=y,A={middleware:h,...y},I=Wr(g,R);if(I.length>0){if(I.some(M=>r.has(M))){if(!E)throw new Error(`Duplicate middleware name '${lr(g,R)}'`);for(let M of I){let ee=n.findIndex(ae=>ae.name===M||ae.aliases?.some(Ie=>Ie===M));if(ee===-1)continue;let re=n[ee];if(re.toMiddleware!==A.toMiddleware||re.relation!==A.relation)throw new Error(`"${lr(re.name,re.aliases)}" middleware ${re.relation} "${re.toMiddleware}" middleware cannot be overridden by "${lr(g,R)}" middleware ${A.relation} "${A.toMiddleware}" middleware.`);n.splice(ee,1)}}for(let M of I)r.add(M)}n.push(A)},clone:()=>a(vh()),use:h=>{h.applyToStack(m)},remove:h=>typeof h=="string"?o(h):i(h),removeByTag:h=>{let y=!1,g=E=>{let{tags:R,name:A,aliases:I}=E;if(R&&R.includes(h)){let M=Wr(A,I);for(let ee of M)r.delete(ee);return y=!0,!1}return!0};return e=e.filter(g),n=n.filter(g),y},concat:h=>{let y=a(vh());return y.use(h),y.identifyOnResolve(t||y.identifyOnResolve()||(h.identifyOnResolve?.()??!1)),y},applyToStack:a,identify:()=>d(!0).map(h=>{let y=h.step??h.relation+" "+h.toMiddleware;return lr(h.name,h.aliases)+" - "+y}),identifyOnResolve(h){return typeof h=="boolean"&&(t=h),t},resolve:(h,y)=>{for(let g of d().map(E=>E.middleware).reverse())h=g(h,y);return t&&console.log(m.identify()),h}};return m},tC={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},nC={high:3,normal:2,low:1};rC.constructStack=vh});var fe=O(Te=>{"use strict";c();var aC=sC(),$h=(gt(),we(iw)),Ih=Wn(),d1=($e(),we(Q_)),oC=(ht(),we(Vb)),Ph=class{config;middlewareStack=aC.constructStack();initConfig;handlers;constructor(n){this.config=n}send(n,t,r){let s=typeof t!="function"?t:void 0,o=typeof t=="function"?t:r,i=s===void 0&&this.config.cacheMiddleware===!0,a;if(i){this.handlers||(this.handlers=new WeakMap);let l=this.handlers;l.has(n.constructor)?a=l.get(n.constructor):(a=n.resolveMiddleware(this.middlewareStack,this.config,s),l.set(n.constructor,a))}else delete this.handlers,a=n.resolveMiddleware(this.middlewareStack,this.config,s);if(o)a(n).then(l=>o(null,l.output),l=>o(l)).catch(()=>{});else return a(n).then(l=>l.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},Ah="***SensitiveInformation***";function Nh(e,n){if(n==null)return n;let t=d1.NormalizedSchema.of(e);if(t.getMergedTraits().sensitive)return Ah;if(t.isListSchema()){if(!!t.getValueSchema().getMergedTraits().sensitive)return Ah}else if(t.isMapSchema()){if(!!t.getKeySchema().getMergedTraits().sensitive||!!t.getValueSchema().getMergedTraits().sensitive)return Ah}else if(t.isStructSchema()&&typeof n=="object"){let r=n,s={};for(let[o,i]of t.structIterator())r[o]!=null&&(s[o]=Nh(i,r[o]));return s}return n}var Sl=class{middlewareStack=aC.constructStack();schema;static classBuilder(){return new Dh}resolveMiddlewareWithContext(n,t,r,{middlewareFn:s,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,smithyContext:d,additionalContext:m,CommandCtor:h}){for(let A of s.bind(this)(h,n,t,r))this.middlewareStack.use(A);let y=n.concat(this.middlewareStack),{logger:g}=t,E={logger:g,clientName:o,commandName:i,inputFilterSensitiveLog:a,outputFilterSensitiveLog:l,[Ih.SMITHY_CONTEXT_KEY]:{commandInstance:this,...d},...m},{requestHandler:R}=t;return y.resolve(A=>R.handle(A.request,r||{}),E)}},Dh=class{_init=()=>{};_ep={};_middlewareFn=()=>[];_commandName="";_clientName="";_additionalContext={};_smithyContext={};_inputFilterSensitiveLog=void 0;_outputFilterSensitiveLog=void 0;_serializer=null;_deserializer=null;_operationSchema;init(n){this._init=n}ep(n){return this._ep=n,this}m(n){return this._middlewareFn=n,this}s(n,t,r={}){return this._smithyContext={service:n,operation:t,...r},this}c(n={}){return this._additionalContext=n,this}n(n,t){return this._clientName=n,this._commandName=t,this}f(n=r=>r,t=r=>r){return this._inputFilterSensitiveLog=n,this._outputFilterSensitiveLog=t,this}ser(n){return this._serializer=n,this}de(n){return this._deserializer=n,this}sc(n){return this._operationSchema=n,this._smithyContext.operationSchema=n,this}build(){let n=this,t;return t=class extends Sl{input;static getEndpointParameterInstructions(){return n._ep}constructor(...[r]){super(),this.input=r??{},n._init(this),this.schema=n._operationSchema}resolveMiddleware(r,s,o){let i=n._operationSchema,a=i?.[4]??i?.input,l=i?.[5]??i?.output;return this.resolveMiddlewareWithContext(r,s,o,{CommandCtor:t,middlewareFn:n._middlewareFn,clientName:n._clientName,commandName:n._commandName,inputFilterSensitiveLog:n._inputFilterSensitiveLog??(i?Nh.bind(null,a):d=>d),outputFilterSensitiveLog:n._outputFilterSensitiveLog??(i?Nh.bind(null,l):d=>d),smithyContext:n._smithyContext,additionalContext:n._additionalContext})}serialize=n._serializer;deserialize=n._deserializer}}},u1="***SensitiveInformation***",f1=(e,n)=>{for(let t of Object.keys(e)){let r=e[t],s=async function(i,a,l){let d=new r(i);if(typeof a=="function")this.send(d,a);else if(typeof l=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(d,a||{},l)}else return this.send(d,a)},o=(t[0].toLowerCase()+t.slice(1)).replace(/Command$/,"");n.prototype[o]=s}},Oh=class e extends Error{$fault;$response;$retryable;$metadata;constructor(n){super(n.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=n.name,this.$fault=n.$fault,this.$metadata=n.$metadata}static isInstance(n){if(!n)return!1;let t=n;return e.prototype.isPrototypeOf(t)||!!t.$fault&&!!t.$metadata&&(t.$fault==="client"||t.$fault==="server")}static[Symbol.hasInstance](n){if(!n)return!1;let t=n;return this===e?e.isInstance(n):e.isInstance(n)?t.name&&this.name?this.prototype.isPrototypeOf(n)||t.name===this.name:this.prototype.isPrototypeOf(n):!1}},cC=(e,n={})=>{Object.entries(n).filter(([,r])=>r!==void 0).forEach(([r,s])=>{(e[r]==null||e[r]==="")&&(e[r]=s)});let t=e.message||e.Message||"UnknownError";return e.message=t,delete e.Message,e},lC=({output:e,parsedBody:n,exceptionCtor:t,errorCode:r})=>{let s=p1(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new t({name:n?.code||n?.Code||r||o||"UnknownError",$fault:"client",$metadata:s});throw cC(i,n)},m1=e=>({output:n,parsedBody:t,errorCode:r})=>{lC({output:n,parsedBody:t,exceptionCtor:e,errorCode:r})},p1=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),h1=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},iC=!1,g1=e=>{e&&!iC&&parseInt(e.substring(1,e.indexOf(".")))<16&&(iC=!0)},y1=e=>{let n=[];for(let t in Ih.AlgorithmId){let r=Ih.AlgorithmId[t];e[r]!==void 0&&n.push({algorithmId:()=>r,checksumConstructor:()=>e[r]})}return{addChecksumAlgorithm(t){n.push(t)},checksumAlgorithms(){return n}}},S1=e=>{let n={};return e.checksumAlgorithms().forEach(t=>{n[t.algorithmId()]=t.checksumConstructor()}),n},E1=e=>({setRetryStrategy(n){e.retryStrategy=n},retryStrategy(){return e.retryStrategy}}),_1=e=>{let n={};return n.retryStrategy=e.retryStrategy(),n},dC=e=>Object.assign(y1(e),E1(e)),b1=dC,w1=e=>Object.assign(S1(e),_1(e)),x1=e=>Array.isArray(e)?e:[e],uC=e=>{let n="#text";for(let t in e)e.hasOwnProperty(t)&&e[t][n]!==void 0?e[t]=e[t][n]:typeof e[t]=="object"&&e[t]!==null&&(e[t]=uC(e[t]));return e},C1=e=>e!=null,kh=class{trace(){}debug(){}info(){}warn(){}error(){}};function fC(e,n,t){let r,s,o;if(typeof n>"u"&&typeof t>"u")r={},o=e;else{if(r=e,typeof n=="function")return s=n,o=t,v1(r,s,o);o=n}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){r[i]=o[i];continue}mC(r,null,o,i)}return r}var R1=e=>{let n={};for(let[t,r]of Object.entries(e||{}))n[t]=[,r];return n},T1=(e,n)=>{let t={};for(let r in n)mC(t,e,n,r);return t},v1=(e,n,t)=>fC(e,Object.entries(t).reduce((r,[s,o])=>(Array.isArray(o)?r[s]=o:typeof o=="function"?r[s]=[n,o()]:r[s]=[n,o],r),{})),mC=(e,n,t,r)=>{if(n!==null){let i=t[r];typeof i=="function"&&(i=[,i]);let[a=A1,l=I1,d=r]=i;(typeof a=="function"&&a(n[d])||typeof a!="function"&&a)&&(e[r]=l(n[d]));return}let[s,o]=t[r];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,l=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[r]=i:l&&(e[r]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[r]=o)}},A1=e=>e!=null,I1=e=>e,P1=e=>{if(e!==e)return"NaN";switch(e){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return e}},N1=e=>e.toISOString().replace(".000Z","Z"),Mh=e=>{if(e==null)return{};if(Array.isArray(e))return e.filter(n=>n!=null).map(Mh);if(typeof e=="object"){let n={};for(let t of Object.keys(e))e[t]!=null&&(n[t]=Mh(e[t]));return n}return e};Object.defineProperty(Te,"collectBody",{enumerable:!0,get:function(){return $h.collectBody}});Object.defineProperty(Te,"extendedEncodeURIComponent",{enumerable:!0,get:function(){return $h.extendedEncodeURIComponent}});Object.defineProperty(Te,"resolvedPath",{enumerable:!0,get:function(){return $h.resolvedPath}});Te.Client=Ph;Te.Command=Sl;Te.NoOpLogger=kh;Te.SENSITIVE_STRING=u1;Te.ServiceException=Oh;Te._json=Mh;Te.convertMap=R1;Te.createAggregatedClient=f1;Te.decorateServiceException=cC;Te.emitWarningIfUnsupportedVersion=g1;Te.getArrayIfSingleItem=x1;Te.getDefaultClientConfiguration=b1;Te.getDefaultExtensionConfiguration=dC;Te.getValueFromTextNode=uC;Te.isSerializableHeaderValue=C1;Te.loadConfigsForDefaultMode=h1;Te.map=fC;Te.resolveDefaultRuntimeConfig=w1;Te.serializeDateTime=N1;Te.serializeFloat=P1;Te.take=T1;Te.throwDefaultError=lC;Te.withBaseException=m1;Object.keys(oC).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Te,e)&&Object.defineProperty(Te,e,{enumerable:!0,get:function(){return oC[e]}})})});var pC,hC,El,Fh=x(()=>{c();pC=C(fe()),hC=C(Je()),El=(e,n)=>(0,pC.collectBody)(e,n).then(t=>(n?.utf8Encoder??hC.toUtf8)(t))});var Ps,Lh,Kr,Ti=x(()=>{c();Fh();Ps=(e,n)=>El(e,n).then(t=>{if(t.length)try{return JSON.parse(t)}catch(r){throw r?.name==="SyntaxError"&&Object.defineProperty(r,"$responseBodyText",{value:t}),r}return{}}),Lh=async(e,n)=>{let t=await Ps(e,n);return t.message=t.message??t.Message,t},Kr=(e,n)=>{let t=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),r=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=t(e.headers,"x-amzn-errortype");if(s!==void 0)return r(e.headers[s]);if(n&&typeof n=="object"){let o=t(n,"code");if(o&&n[o]!==void 0)return r(n[o]);if(n.__type!==void 0)return r(n.__type)}}});var gC,vi,Uh=x(()=>{c();gt();$e();ht();gC=C(Qe());cr();eC();Ti();vi=class extends ot{settings;constructor(n){super(),this.settings=n}async read(n,t){return this._read(n,typeof t=="string"?JSON.parse(t,Zx):await Ps(t,this.serdeContext))}readObject(n,t){return this._read(n,t)}_read(n,t){let r=t!==null&&typeof t=="object",s=J.of(n);if(s.isListSchema()&&Array.isArray(t)){let i=s.getValueSchema(),a=[],l=!!s.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&a.push(this._read(i,d));return a}else if(s.isMapSchema()&&r){let i=s.getValueSchema(),a={},l=!!s.getMergedTraits().sparse;for(let[d,m]of Object.entries(t))(l||m!=null)&&(a[d]=this._read(i,m));return a}else if(s.isStructSchema()&&r){let i={};for(let[a,l]of s.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,m=this._read(l,t[d]);m!=null&&(i[a]=m)}return i}if(s.isBlobSchema()&&typeof t=="string")return(0,gC.fromBase64)(t);let o=s.getMergedTraits().mediaType;if(s.isStringSchema()&&typeof t=="string"&&o&&(o==="application/json"||o.endsWith("+json")))return lt.from(t);if(s.isTimestampSchema()&&t!=null)switch(bt(s,this.settings)){case 5:return ap(t);case 6:return cp(t);case 7:return lp(t);default:return console.warn("Missing timestamp format, parsing value with Date constructor:",t),new Date(t)}if(s.isBigIntegerSchema()&&(typeof t=="number"||typeof t=="string"))return BigInt(t);if(s.isBigDecimalSchema()&&t!=null){if(t instanceof ke)return t;let i=t;return i.type==="bigDecimal"&&"string"in i?new ke(i.string,i.type):new ke(String(t),"bigDecimal")}if(s.isNumericSchema()&&typeof t=="string")switch(t){case"Infinity":return 1/0;case"-Infinity":return-1/0;case"NaN":return NaN}if(s.isDocumentSchema())if(r){let i=Array.isArray(t)?[]:{};for(let[a,l]of Object.entries(t))l instanceof ke?i[a]=l:i[a]=this._read(s,l);return i}else return structuredClone(t);return t}}});var yC,_l,SC=x(()=>{c();ht();yC="\u039D",_l=class{values=new Map;counter=0;stage=0;createReplacer(){if(this.stage===1)throw new Error("@aws-sdk/core/protocols - JsonReplacer already created.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");return this.stage=1,(n,t)=>{if(t instanceof ke){let r=`${yC+"nv"+this.counter++}_`+t.string;return this.values.set(`"${r}"`,t.string),r}if(typeof t=="bigint"){let r=t.toString(),s=`${yC+"b"+this.counter++}_`+r;return this.values.set(`"${s}"`,r),s}return t}}replaceInJson(n){if(this.stage===0)throw new Error("@aws-sdk/core/protocols - JsonReplacer not created yet.");if(this.stage===2)throw new Error("@aws-sdk/core/protocols - JsonReplacer exhausted.");if(this.stage=2,this.counter===0)return n;for(let[t,r]of this.values)n=n.replace(t,r);return n}}});var EC,Ai,Bh=x(()=>{c();gt();$e();ht();EC=C(Qe());cr();SC();Ai=class extends ot{settings;buffer;rootSchema;constructor(n){super(),this.settings=n}write(n,t){this.rootSchema=J.of(n),this.buffer=this._write(this.rootSchema,t)}writeDiscriminatedDocument(n,t){this.write(n,t),typeof this.buffer=="object"&&(this.buffer.__type=J.of(n).getName(!0))}flush(){let{rootSchema:n}=this;if(this.rootSchema=void 0,n?.isStructSchema()||n?.isDocumentSchema()){let t=new _l;return t.replaceInJson(JSON.stringify(this.buffer,t.createReplacer(),0))}return this.buffer}_write(n,t,r){let s=t!==null&&typeof t=="object",o=J.of(n);if(o.isListSchema()&&Array.isArray(t)){let i=o.getValueSchema(),a=[],l=!!o.getMergedTraits().sparse;for(let d of t)(l||d!=null)&&a.push(this._write(i,d));return a}else if(o.isMapSchema()&&s){let i=o.getValueSchema(),a={},l=!!o.getMergedTraits().sparse;for(let[d,m]of Object.entries(t))(l||m!=null)&&(a[d]=this._write(i,m));return a}else if(o.isStructSchema()&&s){let i={};for(let[a,l]of o.structIterator()){let d=this.settings.jsonName?l.getMergedTraits().jsonName??a:a,m=this._write(l,t[a],o);m!==void 0&&(i[d]=m)}return i}if(!(t===null&&r?.isStructSchema())){if(o.isBlobSchema()&&(t instanceof Uint8Array||typeof t=="string")||o.isDocumentSchema()&&t instanceof Uint8Array)return o===this.rootSchema?t:this.serdeContext?.base64Encoder?this.serdeContext?.base64Encoder(t):(0,EC.toBase64)(t);if((o.isTimestampSchema()||o.isDocumentSchema())&&t instanceof Date)switch(bt(o,this.settings)){case 5:return t.toISOString().replace(".000Z","Z");case 6:return fi(t);case 7:return t.getTime()/1e3;default:return console.warn("Missing timestamp format, using epoch seconds",t),t.getTime()/1e3}if(o.isNumericSchema()&&typeof t=="number"&&(Math.abs(t)===1/0||isNaN(t)))return String(t);if(o.isStringSchema()){if(typeof t>"u"&&o.isIdempotencyToken())return(0,tn.v4)();let i=o.getMergedTraits().mediaType;if(t!=null&&i&&(i==="application/json"||i.endsWith("+json")))return lt.from(t)}if(o.isDocumentSchema())if(s){let i=Array.isArray(t)?[]:{};for(let[a,l]of Object.entries(t))l instanceof ke?i[a]=l:i[a]=this._write(o,l);return i}else return structuredClone(t);return t}}}});var Xr,bl=x(()=>{c();cr();Uh();Bh();Xr=class extends ot{settings;constructor(n){super(),this.settings=n}createSerializer(){let n=new Ai(this.settings);return n.setSerdeContext(this.serdeContext),n}createDeserializer(){let n=new vi(this.settings);return n.setSerdeContext(this.serdeContext),n}}});var Yr,wl=x(()=>{c();gt();$e();Is();bl();Ti();Yr=class extends _n{serializer;deserializer;serviceTarget;codec;mixin=new vt;awsQueryCompatible;constructor({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r}){super({defaultNamespace:n}),this.serviceTarget=t,this.codec=new Xr({timestampFormat:{useTrait:!0,default:7},jsonName:!1}),this.serializer=this.codec.createSerializer(),this.deserializer=this.codec.createDeserializer(),this.awsQueryCompatible=!!r}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);return s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":`application/x-amz-json-${this.getJsonRpcVersion()}`,"x-amz-target":`${this.serviceTarget}.${n.name}`}),this.awsQueryCompatible&&(s.headers["x-amzn-query-mode"]="true"),(Gt(n.input)==="unit"||!s.body)&&(s.body="{}"),s}getPayloadCodec(){return this.codec}async handleError(n,t,r,s,o){this.awsQueryCompatible&&this.mixin.setQueryCompatError(s,r);let i=Kr(r,s)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,s,o),d=J.of(a),m=s.message??s.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m),g={};for(let[E,R]of d.structIterator()){let A=R.getMergedTraits().jsonName??E;g[E]=this.codec.createDeserializer().readObject(R,s[A])}throw this.awsQueryCompatible&&this.mixin.queryCompatOutput(s,g),Object.assign(y,l,{$fault:d.getMergedTraits().error,message:m},g)}}});var zh,_C=x(()=>{c();wl();zh=class extends Yr{constructor({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r}){super({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r})}getShapeId(){return"aws.protocols#awsJson1_0"}getJsonRpcVersion(){return"1.0"}getDefaultContentType(){return"application/x-amz-json-1.0"}}});var jh,bC=x(()=>{c();wl();jh=class extends Yr{constructor({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r}){super({defaultNamespace:n,serviceTarget:t,awsQueryCompatible:r})}getShapeId(){return"aws.protocols#awsJson1_1"}getJsonRpcVersion(){return"1.1"}getDefaultContentType(){return"application/x-amz-json-1.1"}}});var Hh,wC=x(()=>{c();gt();$e();Is();bl();Ti();Hh=class extends Fr{serializer;deserializer;codec;mixin=new vt;constructor({defaultNamespace:n}){super({defaultNamespace:n});let t={timestampFormat:{useTrait:!0,default:7},httpBindings:!0,jsonName:!0};this.codec=new Xr(t),this.serializer=new Br(this.codec.createSerializer(),t),this.deserializer=new Ur(this.codec.createDeserializer(),t)}getShapeId(){return"aws.protocols#restJson1"}getPayloadCodec(){return this.codec}setSerdeContext(n){this.codec.setSerdeContext(n),super.setSerdeContext(n)}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r),o=J.of(n.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]&&!s.body&&(s.body="{}"),s}async handleError(n,t,r,s,o){let i=Kr(r,s)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,s,o),d=J.of(a),m=s.message??s.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m);await this.deserializeHttpMessage(a,t,r,s);let g={};for(let[E,R]of d.structIterator()){let A=R.getMergedTraits().jsonName??E;g[E]=this.codec.createDeserializer().readObject(R,s[A])}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/json"}}});var xC,D1,CC=x(()=>{c();xC=C(fe()),D1=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,(0,xC.expectUnion)(e)}});var TC=O((I7,RC)=>{c();(()=>{"use strict";var e={d:(u,f)=>{for(var S in f)e.o(f,S)&&!e.o(u,S)&&Object.defineProperty(u,S,{enumerable:!0,get:f[S]})},o:(u,f)=>Object.prototype.hasOwnProperty.call(u,f),r:u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{XMLBuilder:()=>Vn,XMLParser:()=>q0,XMLValidator:()=>Q0});let t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r=new RegExp("^["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$");function s(u,f){let S=[],w=f.exec(u);for(;w;){let _=[];_.startIndex=f.lastIndex-w[0].length;let b=w.length;for(let P=0;P<b;P++)_.push(w[P]);S.push(_),w=f.exec(u)}return S}let o=function(u){return r.exec(u)!=null},i={allowBooleanAttributes:!1,unpairedTags:[]};function a(u,f){f=Object.assign({},i,f);let S=[],w=!1,_=!1;u[0]==="\uFEFF"&&(u=u.substr(1));for(let b=0;b<u.length;b++)if(u[b]==="<"&&u[b+1]==="?"){if(b+=2,b=d(u,b),b.err)return b}else{if(u[b]!=="<"){if(l(u[b]))continue;return I("InvalidChar","char '"+u[b]+"' is not expected.",ee(u,b))}{let P=b;if(b++,u[b]==="!"){b=m(u,b);continue}{let T=!1;u[b]==="/"&&(T=!0,b++);let N="";for(;b<u.length&&u[b]!==">"&&u[b]!==" "&&u[b]!=="	"&&u[b]!==`
`&&u[b]!=="\r";b++)N+=u[b];if(N=N.trim(),N[N.length-1]==="/"&&(N=N.substring(0,N.length-1),b--),!o(N)){let Z;return Z=N.trim().length===0?"Invalid space after '<'.":"Tag '"+N+"' is an invalid name.",I("InvalidTag",Z,ee(u,b))}let L=g(u,b);if(L===!1)return I("InvalidAttr","Attributes for '"+N+"' have open quote.",ee(u,b));let oe=L.value;if(b=L.index,oe[oe.length-1]==="/"){let Z=b-oe.length;oe=oe.substring(0,oe.length-1);let ye=R(oe,f);if(ye!==!0)return I(ye.err.code,ye.err.msg,ee(u,Z+ye.err.line));w=!0}else if(T){if(!L.tagClosed)return I("InvalidTag","Closing tag '"+N+"' doesn't have proper closing.",ee(u,b));if(oe.trim().length>0)return I("InvalidTag","Closing tag '"+N+"' can't have attributes or invalid starting.",ee(u,P));if(S.length===0)return I("InvalidTag","Closing tag '"+N+"' has not been opened.",ee(u,P));{let Z=S.pop();if(N!==Z.tagName){let ye=ee(u,Z.tagStartPos);return I("InvalidTag","Expected closing tag '"+Z.tagName+"' (opened in line "+ye.line+", col "+ye.col+") instead of closing tag '"+N+"'.",ee(u,P))}S.length==0&&(_=!0)}}else{let Z=R(oe,f);if(Z!==!0)return I(Z.err.code,Z.err.msg,ee(u,b-oe.length+Z.err.line));if(_===!0)return I("InvalidXml","Multiple possible root nodes found.",ee(u,b));f.unpairedTags.indexOf(N)!==-1||S.push({tagName:N,tagStartPos:P}),w=!0}for(b++;b<u.length;b++)if(u[b]==="<"){if(u[b+1]==="!"){b++,b=m(u,b);continue}if(u[b+1]!=="?")break;if(b=d(u,++b),b.err)return b}else if(u[b]==="&"){let Z=A(u,b);if(Z==-1)return I("InvalidChar","char '&' is not expected.",ee(u,b));b=Z}else if(_===!0&&!l(u[b]))return I("InvalidXml","Extra text at the end",ee(u,b));u[b]==="<"&&b--}}}return w?S.length==1?I("InvalidTag","Unclosed tag '"+S[0].tagName+"'.",ee(u,S[0].tagStartPos)):!(S.length>0)||I("InvalidXml","Invalid '"+JSON.stringify(S.map((b=>b.tagName)),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):I("InvalidXml","Start tag expected.",1)}function l(u){return u===" "||u==="	"||u===`
`||u==="\r"}function d(u,f){let S=f;for(;f<u.length;f++)if(!(u[f]!="?"&&u[f]!=" ")){let w=u.substr(S,f-S);if(f>5&&w==="xml")return I("InvalidXml","XML declaration allowed only at the start of the document.",ee(u,f));if(u[f]=="?"&&u[f+1]==">"){f++;break}}return f}function m(u,f){if(u.length>f+5&&u[f+1]==="-"&&u[f+2]==="-"){for(f+=3;f<u.length;f++)if(u[f]==="-"&&u[f+1]==="-"&&u[f+2]===">"){f+=2;break}}else if(u.length>f+8&&u[f+1]==="D"&&u[f+2]==="O"&&u[f+3]==="C"&&u[f+4]==="T"&&u[f+5]==="Y"&&u[f+6]==="P"&&u[f+7]==="E"){let S=1;for(f+=8;f<u.length;f++)if(u[f]==="<")S++;else if(u[f]===">"&&(S--,S===0))break}else if(u.length>f+9&&u[f+1]==="["&&u[f+2]==="C"&&u[f+3]==="D"&&u[f+4]==="A"&&u[f+5]==="T"&&u[f+6]==="A"&&u[f+7]==="["){for(f+=8;f<u.length;f++)if(u[f]==="]"&&u[f+1]==="]"&&u[f+2]===">"){f+=2;break}}return f}let h='"',y="'";function g(u,f){let S="",w="",_=!1;for(;f<u.length;f++){if(u[f]===h||u[f]===y)w===""?w=u[f]:w!==u[f]||(w="");else if(u[f]===">"&&w===""){_=!0;break}S+=u[f]}return w===""&&{value:S,index:f,tagClosed:_}}let E=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function R(u,f){let S=s(u,E),w={};for(let _=0;_<S.length;_++){if(S[_][1].length===0)return I("InvalidAttr","Attribute '"+S[_][2]+"' has no space in starting.",re(S[_]));if(S[_][3]!==void 0&&S[_][4]===void 0)return I("InvalidAttr","Attribute '"+S[_][2]+"' is without value.",re(S[_]));if(S[_][3]===void 0&&!f.allowBooleanAttributes)return I("InvalidAttr","boolean attribute '"+S[_][2]+"' is not allowed.",re(S[_]));let b=S[_][2];if(!M(b))return I("InvalidAttr","Attribute '"+b+"' is an invalid name.",re(S[_]));if(w.hasOwnProperty(b))return I("InvalidAttr","Attribute '"+b+"' is repeated.",re(S[_]));w[b]=1}return!0}function A(u,f){if(u[++f]===";")return-1;if(u[f]==="#")return(function(w,_){let b=/\d/;for(w[_]==="x"&&(_++,b=/[\da-fA-F]/);_<w.length;_++){if(w[_]===";")return _;if(!w[_].match(b))break}return-1})(u,++f);let S=0;for(;f<u.length;f++,S++)if(!(u[f].match(/\w/)&&S<20)){if(u[f]===";")break;return-1}return f}function I(u,f,S){return{err:{code:u,msg:f,line:S.line||S,col:S.col}}}function M(u){return o(u)}function ee(u,f){let S=u.substring(0,f).split(/\r?\n/);return{line:S.length,col:S[S.length-1].length+1}}function re(u){return u.startIndex+u[1].length}let ae={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(u,f){return f},attributeValueProcessor:function(u,f){return f},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(u,f,S){return u},captureMetaData:!1},Ie;Ie=typeof Symbol!="function"?"@@xmlMetadata":Symbol("XML Node Metadata");class Ue{constructor(f){this.tagname=f,this.child=[],this[":@"]={}}add(f,S){f==="__proto__"&&(f="#__proto__"),this.child.push({[f]:S})}addChild(f,S){f.tagname==="__proto__"&&(f.tagname="#__proto__"),f[":@"]&&Object.keys(f[":@"]).length>0?this.child.push({[f.tagname]:f.child,":@":f[":@"]}):this.child.push({[f.tagname]:f.child}),S!==void 0&&(this.child[this.child.length-1][Ie]={startIndex:S})}static getMetaDataSymbol(){return Ie}}function de(u,f){let S={};if(u[f+3]!=="O"||u[f+4]!=="C"||u[f+5]!=="T"||u[f+6]!=="Y"||u[f+7]!=="P"||u[f+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{f+=9;let w=1,_=!1,b=!1,P="";for(;f<u.length;f++)if(u[f]!=="<"||b)if(u[f]===">"){if(b?u[f-1]==="-"&&u[f-2]==="-"&&(b=!1,w--):w--,w===0)break}else u[f]==="["?_=!0:P+=u[f];else{if(_&&Dr(u,"!ENTITY",f)){let T,N;f+=7,[T,N,f]=ve(u,f+1),N.indexOf("&")===-1&&(S[T]={regx:RegExp(`&${T};`,"g"),val:N})}else if(_&&Dr(u,"!ELEMENT",f)){f+=8;let{index:T}=x0(u,f+1);f=T}else if(_&&Dr(u,"!ATTLIST",f))f+=8;else if(_&&Dr(u,"!NOTATION",f)){f+=9;let{index:T}=Be(u,f+1);f=T}else{if(!Dr(u,"!--",f))throw new Error("Invalid DOCTYPE");b=!0}w++,P=""}if(w!==0)throw new Error("Unclosed DOCTYPE")}return{entities:S,i:f}}let ge=(u,f)=>{for(;f<u.length&&/\s/.test(u[f]);)f++;return f};function ve(u,f){f=ge(u,f);let S="";for(;f<u.length&&!/\s/.test(u[f])&&u[f]!=='"'&&u[f]!=="'";)S+=u[f],f++;if(em(S),f=ge(u,f),u.substring(f,f+6).toUpperCase()==="SYSTEM")throw new Error("External entities are not supported");if(u[f]==="%")throw new Error("Parameter entities are not supported");let w="";return[f,w]=ls(u,f,"entity"),[S,w,--f]}function Be(u,f){f=ge(u,f);let S="";for(;f<u.length&&!/\s/.test(u[f]);)S+=u[f],f++;em(S),f=ge(u,f);let w=u.substring(f,f+6).toUpperCase();if(w!=="SYSTEM"&&w!=="PUBLIC")throw new Error(`Expected SYSTEM or PUBLIC, found "${w}"`);f+=w.length,f=ge(u,f);let _=null,b=null;if(w==="PUBLIC")[f,_]=ls(u,f,"publicIdentifier"),u[f=ge(u,f)]!=='"'&&u[f]!=="'"||([f,b]=ls(u,f,"systemIdentifier"));else if(w==="SYSTEM"&&([f,b]=ls(u,f,"systemIdentifier"),!b))throw new Error("Missing mandatory system identifier for SYSTEM notation");return{notationName:S,publicIdentifier:_,systemIdentifier:b,index:--f}}function ls(u,f,S){let w="",_=u[f];if(_!=='"'&&_!=="'")throw new Error(`Expected quoted string, found "${_}"`);for(f++;f<u.length&&u[f]!==_;)w+=u[f],f++;if(u[f]!==_)throw new Error(`Unterminated ${S} value`);return[++f,w]}function x0(u,f){f=ge(u,f);let S="";for(;f<u.length&&!/\s/.test(u[f]);)S+=u[f],f++;if(!em(S))throw new Error(`Invalid element name: "${S}"`);let w="";if(u[f=ge(u,f)]==="E"&&Dr(u,"MPTY",f))f+=4;else if(u[f]==="A"&&Dr(u,"NY",f))f+=2;else{if(u[f]!=="(")throw new Error(`Invalid Element Expression, found "${u[f]}"`);for(f++;f<u.length&&u[f]!==")";)w+=u[f],f++;if(u[f]!==")")throw new Error("Unterminated content model")}return{elementName:S,contentModel:w.trim(),index:f}}function Dr(u,f,S){for(let w=0;w<f.length;w++)if(f[w]!==u[S+w+1])return!1;return!0}function em(u){if(o(u))return u;throw new Error(`Invalid entity name ${u}`)}let C0=/^[-+]?0x[a-fA-F0-9]+$/,R0=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,T0={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0},v0=/^([-+])?(0*)(\d*(\.\d*)?[eE][-\+]?\d+)$/;function JS(u){return typeof u=="function"?u:Array.isArray(u)?f=>{for(let S of u)if(typeof S=="string"&&f===S||S instanceof RegExp&&S.test(f))return!0}:()=>!1}class A0{constructor(f){this.options=f,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(S,w)=>String.fromCodePoint(Number.parseInt(w,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(S,w)=>String.fromCodePoint(Number.parseInt(w,16))}},this.addExternalEntities=I0,this.parseXml=k0,this.parseTextData=P0,this.resolveNameSpace=N0,this.buildAttributesMap=O0,this.isItStopNode=L0,this.replaceEntitiesValue=$0,this.readStopNodeData=U0,this.saveTextToParentTag=F0,this.addChild=M0,this.ignoreAttributesFn=JS(this.options.ignoreAttributes)}}function I0(u){let f=Object.keys(u);for(let S=0;S<f.length;S++){let w=f[S];this.lastEntities[w]={regex:new RegExp("&"+w+";","g"),val:u[w]}}}function P0(u,f,S,w,_,b,P){if(u!==void 0&&(this.options.trimValues&&!w&&(u=u.trim()),u.length>0)){P||(u=this.replaceEntitiesValue(u));let T=this.options.tagValueProcessor(f,u,S,_,b);return T==null?u:typeof T!=typeof u||T!==u?T:this.options.trimValues||u.trim()===u?QS(u,this.options.parseTagValue,this.options.numberParseOptions):u}}function N0(u){if(this.options.removeNSPrefix){let f=u.split(":"),S=u.charAt(0)==="/"?"/":"";if(f[0]==="xmlns")return"";f.length===2&&(u=S+f[1])}return u}let D0=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function O0(u,f,S){if(this.options.ignoreAttributes!==!0&&typeof u=="string"){let w=s(u,D0),_=w.length,b={};for(let P=0;P<_;P++){let T=this.resolveNameSpace(w[P][1]);if(this.ignoreAttributesFn(T,f))continue;let N=w[P][4],L=this.options.attributeNamePrefix+T;if(T.length)if(this.options.transformAttributeName&&(L=this.options.transformAttributeName(L)),L==="__proto__"&&(L="#__proto__"),N!==void 0){this.options.trimValues&&(N=N.trim()),N=this.replaceEntitiesValue(N);let oe=this.options.attributeValueProcessor(T,N,f);b[L]=oe==null?N:typeof oe!=typeof N||oe!==N?oe:QS(N,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(b[L]=!0)}if(!Object.keys(b).length)return;if(this.options.attributesGroupName){let P={};return P[this.options.attributesGroupName]=b,P}return b}}let k0=function(u){u=u.replace(/\r\n?/g,`
`);let f=new Ue("!xml"),S=f,w="",_="";for(let b=0;b<u.length;b++)if(u[b]==="<")if(u[b+1]==="/"){let P=Or(u,">",b,"Closing Tag is not closed."),T=u.substring(b+2,P).trim();if(this.options.removeNSPrefix){let oe=T.indexOf(":");oe!==-1&&(T=T.substr(oe+1))}this.options.transformTagName&&(T=this.options.transformTagName(T)),S&&(w=this.saveTextToParentTag(w,S,_));let N=_.substring(_.lastIndexOf(".")+1);if(T&&this.options.unpairedTags.indexOf(T)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${T}>`);let L=0;N&&this.options.unpairedTags.indexOf(N)!==-1?(L=_.lastIndexOf(".",_.lastIndexOf(".")-1),this.tagsNodeStack.pop()):L=_.lastIndexOf("."),_=_.substring(0,L),S=this.tagsNodeStack.pop(),w="",b=P}else if(u[b+1]==="?"){let P=tm(u,b,!1,"?>");if(!P)throw new Error("Pi Tag is not closed.");if(w=this.saveTextToParentTag(w,S,_),!(this.options.ignoreDeclaration&&P.tagName==="?xml"||this.options.ignorePiTags)){let T=new Ue(P.tagName);T.add(this.options.textNodeName,""),P.tagName!==P.tagExp&&P.attrExpPresent&&(T[":@"]=this.buildAttributesMap(P.tagExp,_,P.tagName)),this.addChild(S,T,_,b)}b=P.closeIndex+1}else if(u.substr(b+1,3)==="!--"){let P=Or(u,"-->",b+4,"Comment is not closed.");if(this.options.commentPropName){let T=u.substring(b+4,P-2);w=this.saveTextToParentTag(w,S,_),S.add(this.options.commentPropName,[{[this.options.textNodeName]:T}])}b=P}else if(u.substr(b+1,2)==="!D"){let P=de(u,b);this.docTypeEntities=P.entities,b=P.i}else if(u.substr(b+1,2)==="!["){let P=Or(u,"]]>",b,"CDATA is not closed.")-2,T=u.substring(b+9,P);w=this.saveTextToParentTag(w,S,_);let N=this.parseTextData(T,S.tagname,_,!0,!1,!0,!0);N==null&&(N=""),this.options.cdataPropName?S.add(this.options.cdataPropName,[{[this.options.textNodeName]:T}]):S.add(this.options.textNodeName,N),b=P+2}else{let P=tm(u,b,this.options.removeNSPrefix),T=P.tagName,N=P.rawTagName,L=P.tagExp,oe=P.attrExpPresent,Z=P.closeIndex;this.options.transformTagName&&(T=this.options.transformTagName(T)),S&&w&&S.tagname!=="!xml"&&(w=this.saveTextToParentTag(w,S,_,!1));let ye=S;ye&&this.options.unpairedTags.indexOf(ye.tagname)!==-1&&(S=this.tagsNodeStack.pop(),_=_.substring(0,_.lastIndexOf("."))),T!==f.tagname&&(_+=_?"."+T:T);let Re=b;if(this.isItStopNode(this.options.stopNodes,_,T)){let Se="";if(L.length>0&&L.lastIndexOf("/")===L.length-1)T[T.length-1]==="/"?(T=T.substr(0,T.length-1),_=_.substr(0,_.length-1),L=T):L=L.substr(0,L.length-1),b=P.closeIndex;else if(this.options.unpairedTags.indexOf(T)!==-1)b=P.closeIndex;else{let Jt=this.readStopNodeData(u,N,Z+1);if(!Jt)throw new Error(`Unexpected end of ${N}`);b=Jt.i,Se=Jt.tagContent}let He=new Ue(T);T!==L&&oe&&(He[":@"]=this.buildAttributesMap(L,_,T)),Se&&(Se=this.parseTextData(Se,T,_,!0,oe,!0,!0)),_=_.substr(0,_.lastIndexOf(".")),He.add(this.options.textNodeName,Se),this.addChild(S,He,_,Re)}else{if(L.length>0&&L.lastIndexOf("/")===L.length-1){T[T.length-1]==="/"?(T=T.substr(0,T.length-1),_=_.substr(0,_.length-1),L=T):L=L.substr(0,L.length-1),this.options.transformTagName&&(T=this.options.transformTagName(T));let Se=new Ue(T);T!==L&&oe&&(Se[":@"]=this.buildAttributesMap(L,_,T)),this.addChild(S,Se,_,Re),_=_.substr(0,_.lastIndexOf("."))}else{let Se=new Ue(T);this.tagsNodeStack.push(S),T!==L&&oe&&(Se[":@"]=this.buildAttributesMap(L,_,T)),this.addChild(S,Se,_,Re),S=Se}w="",b=Z}}else w+=u[b];return f.child};function M0(u,f,S,w){this.options.captureMetaData||(w=void 0);let _=this.options.updateTag(f.tagname,S,f[":@"]);_===!1||(typeof _=="string"&&(f.tagname=_),u.addChild(f,w))}let $0=function(u){if(this.options.processEntities){for(let f in this.docTypeEntities){let S=this.docTypeEntities[f];u=u.replace(S.regx,S.val)}for(let f in this.lastEntities){let S=this.lastEntities[f];u=u.replace(S.regex,S.val)}if(this.options.htmlEntities)for(let f in this.htmlEntities){let S=this.htmlEntities[f];u=u.replace(S.regex,S.val)}u=u.replace(this.ampEntity.regex,this.ampEntity.val)}return u};function F0(u,f,S,w){return u&&(w===void 0&&(w=f.child.length===0),(u=this.parseTextData(u,f.tagname,S,!1,!!f[":@"]&&Object.keys(f[":@"]).length!==0,w))!==void 0&&u!==""&&f.add(this.options.textNodeName,u),u=""),u}function L0(u,f,S){let w="*."+S;for(let _ in u){let b=u[_];if(w===b||f===b)return!0}return!1}function Or(u,f,S,w){let _=u.indexOf(f,S);if(_===-1)throw new Error(w);return _+f.length-1}function tm(u,f,S,w=">"){let _=(function(Z,ye,Re=">"){let Se,He="";for(let Jt=ye;Jt<Z.length;Jt++){let Gn=Z[Jt];if(Se)Gn===Se&&(Se="");else if(Gn==='"'||Gn==="'")Se=Gn;else if(Gn===Re[0]){if(!Re[1])return{data:He,index:Jt};if(Z[Jt+1]===Re[1])return{data:He,index:Jt}}else Gn==="	"&&(Gn=" ");He+=Gn}})(u,f+1,w);if(!_)return;let b=_.data,P=_.index,T=b.search(/\s/),N=b,L=!0;T!==-1&&(N=b.substring(0,T),b=b.substring(T+1).trimStart());let oe=N;if(S){let Z=N.indexOf(":");Z!==-1&&(N=N.substr(Z+1),L=N!==_.data.substr(Z+1))}return{tagName:N,tagExp:b,closeIndex:P,attrExpPresent:L,rawTagName:oe}}function U0(u,f,S){let w=S,_=1;for(;S<u.length;S++)if(u[S]==="<")if(u[S+1]==="/"){let b=Or(u,">",S,`${f} is not closed`);if(u.substring(S+2,b).trim()===f&&(_--,_===0))return{tagContent:u.substring(w,S),i:b};S=b}else if(u[S+1]==="?")S=Or(u,"?>",S+1,"StopNode is not closed.");else if(u.substr(S+1,3)==="!--")S=Or(u,"-->",S+3,"StopNode is not closed.");else if(u.substr(S+1,2)==="![")S=Or(u,"]]>",S,"StopNode is not closed.")-2;else{let b=tm(u,S,">");b&&((b&&b.tagName)===f&&b.tagExp[b.tagExp.length-1]!=="/"&&_++,S=b.closeIndex)}}function QS(u,f,S){if(f&&typeof u=="string"){let w=u.trim();return w==="true"||w!=="false"&&(function(_,b={}){if(b=Object.assign({},T0,b),!_||typeof _!="string")return _;let P=_.trim();if(b.skipLike!==void 0&&b.skipLike.test(P))return _;if(_==="0")return 0;if(b.hex&&C0.test(P))return(function(N){if(parseInt)return parseInt(N,16);if(Number.parseInt)return Number.parseInt(N,16);if(window&&window.parseInt)return window.parseInt(N,16);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")})(P);if(P.search(/.+[eE].+/)!==-1)return(function(N,L,oe){if(!oe.eNotation)return N;let Z=L.match(v0);if(Z){let ye=Z[1]||"",Re=Z[3].indexOf("e")===-1?"E":"e",Se=Z[2],He=ye?N[Se.length+1]===Re:N[Se.length]===Re;return Se.length>1&&He?N:Se.length!==1||!Z[3].startsWith(`.${Re}`)&&Z[3][0]!==Re?oe.leadingZeros&&!He?(L=(Z[1]||"")+Z[3],Number(L)):N:Number(L)}return N})(_,P,b);{let N=R0.exec(P);if(N){let L=N[1]||"",oe=N[2],Z=((T=N[3])&&T.indexOf(".")!==-1&&((T=T.replace(/0+$/,""))==="."?T="0":T[0]==="."?T="0"+T:T[T.length-1]==="."&&(T=T.substring(0,T.length-1))),T),ye=L?_[oe.length+1]===".":_[oe.length]===".";if(!b.leadingZeros&&(oe.length>1||oe.length===1&&!ye))return _;{let Re=Number(P),Se=String(Re);if(Re===0||Re===-0)return Re;if(Se.search(/[eE]/)!==-1)return b.eNotation?Re:_;if(P.indexOf(".")!==-1)return Se==="0"||Se===Z||Se===`${L}${Z}`?Re:_;let He=oe?Z:P;return oe?He===Se||L+He===Se?Re:_:He===Se||He===L+Se?Re:_}}return _}var T})(u,S)}return u!==void 0?u:""}let nm=Ue.getMetaDataSymbol();function B0(u,f){return ZS(u,f)}function ZS(u,f,S){let w,_={};for(let b=0;b<u.length;b++){let P=u[b],T=z0(P),N="";if(N=S===void 0?T:S+"."+T,T===f.textNodeName)w===void 0?w=P[T]:w+=""+P[T];else{if(T===void 0)continue;if(P[T]){let L=ZS(P[T],f,N),oe=H0(L,f);P[nm]!==void 0&&(L[nm]=P[nm]),P[":@"]?j0(L,P[":@"],N,f):Object.keys(L).length!==1||L[f.textNodeName]===void 0||f.alwaysCreateTextNode?Object.keys(L).length===0&&(f.alwaysCreateTextNode?L[f.textNodeName]="":L=""):L=L[f.textNodeName],_[T]!==void 0&&_.hasOwnProperty(T)?(Array.isArray(_[T])||(_[T]=[_[T]]),_[T].push(L)):f.isArray(T,N,oe)?_[T]=[L]:_[T]=L}}}return typeof w=="string"?w.length>0&&(_[f.textNodeName]=w):w!==void 0&&(_[f.textNodeName]=w),_}function z0(u){let f=Object.keys(u);for(let S=0;S<f.length;S++){let w=f[S];if(w!==":@")return w}}function j0(u,f,S,w){if(f){let _=Object.keys(f),b=_.length;for(let P=0;P<b;P++){let T=_[P];w.isArray(T,S+"."+T,!0,!0)?u[T]=[f[T]]:u[T]=f[T]}}}function H0(u,f){let{textNodeName:S}=f,w=Object.keys(u).length;return w===0||!(w!==1||!u[S]&&typeof u[S]!="boolean"&&u[S]!==0)}class q0{constructor(f){this.externalEntities={},this.options=(function(S){return Object.assign({},ae,S)})(f)}parse(f,S){if(typeof f!="string"){if(!f.toString)throw new Error("XML data is accepted in String or Bytes[] form.");f=f.toString()}if(S){S===!0&&(S={});let b=a(f,S);if(b!==!0)throw Error(`${b.err.msg}:${b.err.line}:${b.err.col}`)}let w=new A0(this.options);w.addExternalEntities(this.externalEntities);let _=w.parseXml(f);return this.options.preserveOrder||_===void 0?_:B0(_,this.options)}addEntity(f,S){if(S.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(f.indexOf("&")!==-1||f.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(S==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[f]=S}static getMetaDataSymbol(){return Ue.getMetaDataSymbol()}}function V0(u,f){let S="";return f.format&&f.indentBy.length>0&&(S=`
`),eE(u,f,"",S)}function eE(u,f,S,w){let _="",b=!1;for(let P=0;P<u.length;P++){let T=u[P],N=G0(T);if(N===void 0)continue;let L="";if(L=S.length===0?N:`${S}.${N}`,N===f.textNodeName){let Re=T[N];W0(L,f)||(Re=f.tagValueProcessor(N,Re),Re=nE(Re,f)),b&&(_+=w),_+=Re,b=!1;continue}if(N===f.cdataPropName){b&&(_+=w),_+=`<![CDATA[${T[N][0][f.textNodeName]}]]>`,b=!1;continue}if(N===f.commentPropName){_+=w+`<!--${T[N][0][f.textNodeName]}-->`,b=!0;continue}if(N[0]==="?"){let Re=tE(T[":@"],f),Se=N==="?xml"?"":w,He=T[N][0][f.textNodeName];He=He.length!==0?" "+He:"",_+=Se+`<${N}${He}${Re}?>`,b=!0;continue}let oe=w;oe!==""&&(oe+=f.indentBy);let Z=w+`<${N}${tE(T[":@"],f)}`,ye=eE(T[N],f,L,oe);f.unpairedTags.indexOf(N)!==-1?f.suppressUnpairedNode?_+=Z+">":_+=Z+"/>":ye&&ye.length!==0||!f.suppressEmptyNode?ye&&ye.endsWith(">")?_+=Z+`>${ye}${w}</${N}>`:(_+=Z+">",ye&&w!==""&&(ye.includes("/>")||ye.includes("</"))?_+=w+f.indentBy+ye+w:_+=ye,_+=`</${N}>`):_+=Z+"/>",b=!0}return _}function G0(u){let f=Object.keys(u);for(let S=0;S<f.length;S++){let w=f[S];if(u.hasOwnProperty(w)&&w!==":@")return w}}function tE(u,f){let S="";if(u&&!f.ignoreAttributes)for(let w in u){if(!u.hasOwnProperty(w))continue;let _=f.attributeValueProcessor(w,u[w]);_=nE(_,f),_===!0&&f.suppressBooleanAttributes?S+=` ${w.substr(f.attributeNamePrefix.length)}`:S+=` ${w.substr(f.attributeNamePrefix.length)}="${_}"`}return S}function W0(u,f){let S=(u=u.substr(0,u.length-f.textNodeName.length-1)).substr(u.lastIndexOf(".")+1);for(let w in f.stopNodes)if(f.stopNodes[w]===u||f.stopNodes[w]==="*."+S)return!0;return!1}function nE(u,f){if(u&&u.length>0&&f.processEntities)for(let S=0;S<f.entities.length;S++){let w=f.entities[S];u=u.replace(w.regex,w.val)}return u}let K0={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,f){return f},attributeValueProcessor:function(u,f){return f},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function Vn(u){this.options=Object.assign({},K0,u),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=JS(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=J0),this.processTextOrObjNode=X0,this.options.format?(this.indentate=Y0,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function X0(u,f,S,w){let _=this.j2x(u,S+1,w.concat(f));return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],f,_.attrStr,S):this.buildObjectNode(_.val,f,_.attrStr,S)}function Y0(u){return this.options.indentBy.repeat(u)}function J0(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}Vn.prototype.build=function(u){return this.options.preserveOrder?V0(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0,[]).val)},Vn.prototype.j2x=function(u,f,S){let w="",_="",b=S.join(".");for(let P in u)if(Object.prototype.hasOwnProperty.call(u,P))if(u[P]===void 0)this.isAttribute(P)&&(_+="");else if(u[P]===null)this.isAttribute(P)||P===this.options.cdataPropName?_+="":P[0]==="?"?_+=this.indentate(f)+"<"+P+"?"+this.tagEndChar:_+=this.indentate(f)+"<"+P+"/"+this.tagEndChar;else if(u[P]instanceof Date)_+=this.buildTextValNode(u[P],P,"",f);else if(typeof u[P]!="object"){let T=this.isAttribute(P);if(T&&!this.ignoreAttributesFn(T,b))w+=this.buildAttrPairStr(T,""+u[P]);else if(!T)if(P===this.options.textNodeName){let N=this.options.tagValueProcessor(P,""+u[P]);_+=this.replaceEntitiesValue(N)}else _+=this.buildTextValNode(u[P],P,"",f)}else if(Array.isArray(u[P])){let T=u[P].length,N="",L="";for(let oe=0;oe<T;oe++){let Z=u[P][oe];if(Z!==void 0)if(Z===null)P[0]==="?"?_+=this.indentate(f)+"<"+P+"?"+this.tagEndChar:_+=this.indentate(f)+"<"+P+"/"+this.tagEndChar;else if(typeof Z=="object")if(this.options.oneListGroup){let ye=this.j2x(Z,f+1,S.concat(P));N+=ye.val,this.options.attributesGroupName&&Z.hasOwnProperty(this.options.attributesGroupName)&&(L+=ye.attrStr)}else N+=this.processTextOrObjNode(Z,P,f,S);else if(this.options.oneListGroup){let ye=this.options.tagValueProcessor(P,Z);ye=this.replaceEntitiesValue(ye),N+=ye}else N+=this.buildTextValNode(Z,P,"",f)}this.options.oneListGroup&&(N=this.buildObjectNode(N,P,L,f)),_+=N}else if(this.options.attributesGroupName&&P===this.options.attributesGroupName){let T=Object.keys(u[P]),N=T.length;for(let L=0;L<N;L++)w+=this.buildAttrPairStr(T[L],""+u[P][T[L]])}else _+=this.processTextOrObjNode(u[P],P,f,S);return{attrStr:w,val:_}},Vn.prototype.buildAttrPairStr=function(u,f){return f=this.options.attributeValueProcessor(u,""+f),f=this.replaceEntitiesValue(f),this.options.suppressBooleanAttributes&&f==="true"?" "+u:" "+u+'="'+f+'"'},Vn.prototype.buildObjectNode=function(u,f,S,w){if(u==="")return f[0]==="?"?this.indentate(w)+"<"+f+S+"?"+this.tagEndChar:this.indentate(w)+"<"+f+S+this.closeTag(f)+this.tagEndChar;{let _="</"+f+this.tagEndChar,b="";return f[0]==="?"&&(b="?",_=""),!S&&S!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&f===this.options.commentPropName&&b.length===0?this.indentate(w)+`<!--${u}-->`+this.newLine:this.indentate(w)+"<"+f+S+b+this.tagEndChar+u+this.indentate(w)+_:this.indentate(w)+"<"+f+S+b+">"+u+_}},Vn.prototype.closeTag=function(u){let f="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(f="/"):f=this.options.suppressEmptyNode?"/":`></${u}`,f},Vn.prototype.buildTextValNode=function(u,f,S,w){if(this.options.cdataPropName!==!1&&f===this.options.cdataPropName)return this.indentate(w)+`<![CDATA[${u}]]>`+this.newLine;if(this.options.commentPropName!==!1&&f===this.options.commentPropName)return this.indentate(w)+`<!--${u}-->`+this.newLine;if(f[0]==="?")return this.indentate(w)+"<"+f+S+"?"+this.tagEndChar;{let _=this.options.tagValueProcessor(f,u);return _=this.replaceEntitiesValue(_),_===""?this.indentate(w)+"<"+f+S+this.closeTag(f)+this.tagEndChar:this.indentate(w)+"<"+f+S+">"+_+"</"+f+this.tagEndChar}},Vn.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let f=0;f<this.options.entities.length;f++){let S=this.options.entities[f];u=u.replace(S.regex,S.val)}return u};let Q0={validate:a};RC.exports=n})()});var vC=O(Vh=>{"use strict";c();Object.defineProperty(Vh,"__esModule",{value:!0});Vh.parseXML=k1;var O1=TC(),qh=new O1.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(e,n)=>n.trim()===""&&n.includes(`
`)?"":void 0});qh.addEntity("#xD","\r");qh.addEntity("#10",`
`);function k1(e){return qh.parse(e,!0)}});var Rl=O(Cl=>{"use strict";c();var M1=vC();function $1(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function F1(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var xl=class{value;constructor(n){this.value=n}toString(){return F1(""+this.value)}},Gh=class e{name;children;attributes={};static of(n,t,r){let s=new e(n);return t!==void 0&&s.addChildNode(new xl(t)),r!==void 0&&s.withName(r),s}constructor(n,t=[]){this.name=n,this.children=t}withName(n){return this.name=n,this}addAttribute(n,t){return this.attributes[n]=t,this}addChildNode(n){return this.children.push(n),this}removeAttribute(n){return delete this.attributes[n],this}n(n){return this.name=n,this}c(n){return this.children.push(n),this}a(n,t){return t!=null&&(this.attributes[n]=t),this}cc(n,t,r=t){if(n[t]!=null){let s=e.of(t,n[t]).withName(r);this.c(s)}}l(n,t,r,s){n[t]!=null&&s().map(i=>{i.withName(r),this.c(i)})}lc(n,t,r,s){if(n[t]!=null){let o=s(),i=new e(r);o.map(a=>{i.c(a)}),this.c(i)}}toString(){let n=!!this.children.length,t=`<${this.name}`,r=this.attributes;for(let s of Object.keys(r)){let o=r[s];o!=null&&(t+=` ${s}="${$1(""+o)}"`)}return t+=n?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};Object.defineProperty(Cl,"parseXML",{enumerable:!0,get:function(){return M1.parseXML}});Cl.XmlNode=Gh;Cl.XmlText=xl});var AC,IC,PC,Jr,Tl=x(()=>{c();AC=C(Rl());gt();$e();IC=C(fe()),PC=C(Je());cr();Jr=class extends ot{settings;stringDeserializer;constructor(n){super(),this.settings=n,this.stringDeserializer=new Lr(n)}setSerdeContext(n){this.serdeContext=n,this.stringDeserializer.setSerdeContext(n)}read(n,t,r){let s=J.of(n),o=s.getMemberSchemas();if(s.isStructSchema()&&s.isMemberSchema()&&!!Object.values(o).find(d=>!!d.getMemberTraits().eventPayload)){let d={},m=Object.keys(o)[0];return o[m].isBlobSchema()?d[m]=t:d[m]=this.read(o[m],t),d}let a=(this.serdeContext?.utf8Encoder??PC.toUtf8)(t),l=this.parseXml(a);return this.readSchema(n,r?l[r]:l)}readSchema(n,t){let r=J.of(n);if(r.isUnitSchema())return;let s=r.getMergedTraits();if(r.isListSchema()&&!Array.isArray(t))return this.readSchema(r,[t]);if(t==null)return t;if(typeof t=="object"){let o=!!s.sparse,i=!!s.xmlFlattened;if(r.isListSchema()){let l=r.getValueSchema(),d=[],m=l.getMergedTraits().xmlName??"member",h=i?t:(t[0]??t)[m],y=Array.isArray(h)?h:[h];for(let g of y)(g!=null||o)&&d.push(this.readSchema(l,g));return d}let a={};if(r.isMapSchema()){let l=r.getKeySchema(),d=r.getValueSchema(),m;i?m=Array.isArray(t)?t:[t]:m=Array.isArray(t.entry)?t.entry:[t.entry];let h=l.getMergedTraits().xmlName??"key",y=d.getMergedTraits().xmlName??"value";for(let g of m){let E=g[h],R=g[y];(R!=null||o)&&(a[E]=this.readSchema(d,R))}return a}if(r.isStructSchema()){for(let[l,d]of r.structIterator()){let m=d.getMergedTraits(),h=m.httpPayload?m.xmlName??d.getName():d.getMemberTraits().xmlName??l;t[h]!=null&&(a[l]=this.readSchema(d,t[h]))}return a}if(r.isDocumentSchema())return t;throw new Error(`@aws-sdk/core/protocols - xml deserializer unhandled schema type for ${r.getName(!0)}`)}return r.isListSchema()?[]:r.isMapSchema()||r.isStructSchema()?{}:this.stringDeserializer.read(r,t)}parseXml(n){if(n.length){let t;try{t=(0,AC.parseXML)(n)}catch(i){throw i&&typeof i=="object"&&Object.defineProperty(i,"$responseBodyText",{value:n}),i}let r="#text",s=Object.keys(t)[0],o=t[s];return o[r]&&(o[s]=o[r],delete o[r]),(0,IC.getValueFromTextNode)(o)}return{}}}});var NC,DC,vl,OC=x(()=>{c();gt();$e();ht();NC=C(fe()),DC=C(Qe());cr();vl=class extends ot{settings;buffer;constructor(n){super(),this.settings=n}write(n,t,r=""){this.buffer===void 0&&(this.buffer="");let s=J.of(n);if(r&&!r.endsWith(".")&&(r+="."),s.isBlobSchema())(typeof t=="string"||t instanceof Uint8Array)&&(this.writeKey(r),this.writeValue((this.serdeContext?.base64Encoder??DC.toBase64)(t)));else if(s.isBooleanSchema()||s.isNumericSchema()||s.isStringSchema())t!=null?(this.writeKey(r),this.writeValue(String(t))):s.isIdempotencyToken()&&(this.writeKey(r),this.writeValue((0,tn.v4)()));else if(s.isBigIntegerSchema())t!=null&&(this.writeKey(r),this.writeValue(String(t)));else if(s.isBigDecimalSchema())t!=null&&(this.writeKey(r),this.writeValue(t instanceof ke?t.string:String(t)));else if(s.isTimestampSchema()){if(t instanceof Date)switch(this.writeKey(r),bt(s,this.settings)){case 5:this.writeValue(t.toISOString().replace(".000Z","Z"));break;case 6:this.writeValue((0,NC.dateToUtcString)(t));break;case 7:this.writeValue(String(t.getTime()/1e3));break}}else{if(s.isDocumentSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unsupported document type ${s.getName(!0)}`);if(s.isListSchema()){if(Array.isArray(t))if(t.length===0)this.settings.serializeEmptyLists&&(this.writeKey(r),this.writeValue(""));else{let o=s.getValueSchema(),i=this.settings.flattenLists||s.getMergedTraits().xmlFlattened,a=1;for(let l of t){if(l==null)continue;let d=this.getKey("member",o.getMergedTraits().xmlName),m=i?`${r}${a}`:`${r}${d}.${a}`;this.write(o,l,m),++a}}}else if(s.isMapSchema()){if(t&&typeof t=="object"){let o=s.getKeySchema(),i=s.getValueSchema(),a=s.getMergedTraits().xmlFlattened,l=1;for(let[d,m]of Object.entries(t)){if(m==null)continue;let h=this.getKey("key",o.getMergedTraits().xmlName),y=a?`${r}${l}.${h}`:`${r}entry.${l}.${h}`,g=this.getKey("value",i.getMergedTraits().xmlName),E=a?`${r}${l}.${g}`:`${r}entry.${l}.${g}`;this.write(o,d,y),this.write(i,m,E),++l}}}else if(s.isStructSchema()){if(t&&typeof t=="object")for(let[o,i]of s.structIterator()){if(t[o]==null&&!i.isIdempotencyToken())continue;let a=this.getKey(o,i.getMergedTraits().xmlName),l=`${r}${a}`;this.write(i,t[o],l)}}else if(!s.isUnitSchema())throw new Error(`@aws-sdk/core/protocols - QuerySerializer unrecognized schema type ${s.getName(!0)}`)}}flush(){if(this.buffer===void 0)throw new Error("@aws-sdk/core/protocols - QuerySerializer cannot flush with nothing written to buffer.");let n=this.buffer;return delete this.buffer,n}getKey(n,t){let r=t??n;return this.settings.capitalizeKeys?r[0].toUpperCase()+r.slice(1):r}writeKey(n){n.endsWith(".")&&(n=n.slice(0,n.length-1)),this.buffer+=`&${Qt(n)}=`}writeValue(n){this.buffer+=Qt(n)}}});var Ii,Wh=x(()=>{c();gt();$e();Is();Tl();OC();Ii=class extends _n{options;serializer;deserializer;mixin=new vt;constructor(n){super({defaultNamespace:n.defaultNamespace}),this.options=n;let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!1,xmlNamespace:n.xmlNamespace,serviceNamespace:n.defaultNamespace,serializeEmptyLists:!0};this.serializer=new vl(t),this.deserializer=new Jr(t)}getShapeId(){return"aws.protocols#awsQuery"}setSerdeContext(n){this.serializer.setSerdeContext(n),this.deserializer.setSerdeContext(n)}getPayloadCodec(){throw new Error("AWSQuery protocol has no payload codec.")}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r);s.path.endsWith("/")||(s.path+="/"),Object.assign(s.headers,{"content-type":"application/x-www-form-urlencoded"}),(Gt(n.input)==="unit"||!s.body)&&(s.body="");let o=n.name.split("#")[1]??n.name;return s.body=`Action=${o}&Version=${this.options.version}`+s.body,s.body.endsWith("&")&&(s.body=s.body.slice(-1)),s}async deserializeResponse(n,t,r){let s=this.deserializer,o=J.of(n.output),i={};if(r.statusCode>=300){let h=await Vt(r.body,t);h.byteLength>0&&Object.assign(i,await s.read(15,h)),await this.handleError(n,t,r,i,this.deserializeMetadata(r))}for(let h in r.headers){let y=r.headers[h];delete r.headers[h],r.headers[h.toLowerCase()]=y}let a=n.name.split("#")[1]??n.name,l=o.isStructSchema()&&this.useNestedResult()?a+"Result":void 0,d=await Vt(r.body,t);return d.byteLength>0&&Object.assign(i,await s.read(o,d,l)),{$metadata:this.deserializeMetadata(r),...i}}useNestedResult(){return!0}async handleError(n,t,r,s,o){let i=this.loadQueryErrorCode(r,s)??"Unknown",a=this.loadQueryError(s),l=this.loadQueryErrorMessage(s);a.message=l,a.Error={Type:a.Type,Code:a.Code,Message:l};let{errorSchema:d,errorMetadata:m}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,a,o,(R,A)=>{try{return R.getSchema(A)}catch{return R.find(M=>J.of(M).getMergedTraits().awsQueryError?.[0]===A)}}),h=J.of(d),y=qe.for(d[1]).getErrorCtor(d)??Error,g=new y(l),E={Error:a.Error};for(let[R,A]of h.structIterator()){let I=A.getMergedTraits().xmlName??R,M=a[I]??s[I];E[R]=this.deserializer.readSchema(A,M)}throw Object.assign(g,m,{$fault:h.getMergedTraits().error,message:l},E)}loadQueryErrorCode(n,t){let r=(t.Errors?.[0]?.Error??t.Errors?.Error??t.Error)?.Code;if(r!==void 0)return r;if(n.statusCode==404)return"NotFound"}loadQueryError(n){return n.Errors?.[0]?.Error??n.Errors?.Error??n.Error}loadQueryErrorMessage(n){let t=this.loadQueryError(n);return t?.message??t?.Message??n.message??n.Message??"Unknown"}getDefaultContentType(){return"application/x-www-form-urlencoded"}}});var Kh,kC=x(()=>{c();Wh();Kh=class extends Ii{options;constructor(n){super(n),this.options=n;let t={capitalizeKeys:!0,flattenLists:!0,serializeEmptyLists:!1};Object.assign(this.serializer.settings,t)}useNestedResult(){return!1}}});var MC,$C,Pi,Xh,Yh,Jh=x(()=>{c();MC=C(Rl()),$C=C(fe());Fh();Pi=(e,n)=>El(e,n).then(t=>{if(t.length){let r;try{r=(0,MC.parseXML)(t)}catch(a){throw a&&typeof a=="object"&&Object.defineProperty(a,"$responseBodyText",{value:t}),a}let s="#text",o=Object.keys(r)[0],i=r[o];return i[s]&&(i[o]=i[s],delete i[s]),(0,$C.getValueFromTextNode)(i)}return{}}),Xh=async(e,n)=>{let t=await Pi(e,n);return t.Error&&(t.Error.message=t.Error.message??t.Error.Message),t},Yh=(e,n)=>{if(n?.Error?.Code!==void 0)return n.Error.Code;if(n?.Code!==void 0)return n.Code;if(e.statusCode==404)return"NotFound"}});var At,Qh,Al,Ni,Zh=x(()=>{c();At=C(Rl());gt();$e();ht();Qh=C(fe()),Al=C(Qe());cr();Ni=class extends ot{settings;stringBuffer;byteBuffer;buffer;constructor(n){super(),this.settings=n}write(n,t){let r=J.of(n);if(r.isStringSchema()&&typeof t=="string")this.stringBuffer=t;else if(r.isBlobSchema())this.byteBuffer="byteLength"in t?t:(this.serdeContext?.base64Decoder??Al.fromBase64)(t);else{this.buffer=this.writeStruct(r,t,void 0);let s=r.getMergedTraits();s.httpPayload&&!s.xmlName&&this.buffer.withName(r.getName())}}flush(){if(this.byteBuffer!==void 0){let t=this.byteBuffer;return delete this.byteBuffer,t}if(this.stringBuffer!==void 0){let t=this.stringBuffer;return delete this.stringBuffer,t}let n=this.buffer;return this.settings.xmlNamespace&&(n?.attributes?.xmlns||n.addAttribute("xmlns",this.settings.xmlNamespace)),delete this.buffer,n.toString()}writeStruct(n,t,r){let s=n.getMergedTraits(),o=n.isMemberSchema()&&!s.httpPayload?n.getMemberTraits().xmlName??n.getMemberName():s.xmlName??n.getName();if(!o||!n.isStructSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write struct with empty name or non-struct, schema=${n.getName(!0)}.`);let i=At.XmlNode.of(o),[a,l]=this.getXmlnsAttribute(n,r);for(let[d,m]of n.structIterator()){let h=t[d];if(h!=null||m.isIdempotencyToken()){if(m.getMergedTraits().xmlAttribute){i.addAttribute(m.getMergedTraits().xmlName??d,this.writeSimple(m,h));continue}if(m.isListSchema())this.writeList(m,h,i,l);else if(m.isMapSchema())this.writeMap(m,h,i,l);else if(m.isStructSchema())i.addChildNode(this.writeStruct(m,h,l));else{let y=At.XmlNode.of(m.getMergedTraits().xmlName??m.getMemberName());this.writeSimpleInto(m,h,y,l),i.addChildNode(y)}}}return l&&i.addAttribute(a,l),i}writeList(n,t,r,s){if(!n.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member list: ${n.getName(!0)}`);let o=n.getMergedTraits(),i=n.getValueSchema(),a=i.getMergedTraits(),l=!!a.sparse,d=!!o.xmlFlattened,[m,h]=this.getXmlnsAttribute(n,s),y=(g,E)=>{if(i.isListSchema())this.writeList(i,Array.isArray(E)?E:[E],g,h);else if(i.isMapSchema())this.writeMap(i,E,g,h);else if(i.isStructSchema()){let R=this.writeStruct(i,E,h);g.addChildNode(R.withName(d?o.xmlName??n.getMemberName():a.xmlName??"member"))}else{let R=At.XmlNode.of(d?o.xmlName??n.getMemberName():a.xmlName??"member");this.writeSimpleInto(i,E,R,h),g.addChildNode(R)}};if(d)for(let g of t)(l||g!=null)&&y(r,g);else{let g=At.XmlNode.of(o.xmlName??n.getMemberName());h&&g.addAttribute(m,h);for(let E of t)(l||E!=null)&&y(g,E);r.addChildNode(g)}}writeMap(n,t,r,s,o=!1){if(!n.isMemberSchema())throw new Error(`@aws-sdk/core/protocols - xml serializer, cannot write non-member map: ${n.getName(!0)}`);let i=n.getMergedTraits(),a=n.getKeySchema(),d=a.getMergedTraits().xmlName??"key",m=n.getValueSchema(),h=m.getMergedTraits(),y=h.xmlName??"value",g=!!h.sparse,E=!!i.xmlFlattened,[R,A]=this.getXmlnsAttribute(n,s),I=(M,ee,re)=>{let ae=At.XmlNode.of(d,ee),[Ie,Ue]=this.getXmlnsAttribute(a,A);Ue&&ae.addAttribute(Ie,Ue),M.addChildNode(ae);let de=At.XmlNode.of(y);m.isListSchema()?this.writeList(m,re,de,A):m.isMapSchema()?this.writeMap(m,re,de,A,!0):m.isStructSchema()?de=this.writeStruct(m,re,A):this.writeSimpleInto(m,re,de,A),M.addChildNode(de)};if(E){for(let[M,ee]of Object.entries(t))if(g||ee!=null){let re=At.XmlNode.of(i.xmlName??n.getMemberName());I(re,M,ee),r.addChildNode(re)}}else{let M;o||(M=At.XmlNode.of(i.xmlName??n.getMemberName()),A&&M.addAttribute(R,A),r.addChildNode(M));for(let[ee,re]of Object.entries(t))if(g||re!=null){let ae=At.XmlNode.of("entry");I(ae,ee,re),(o?r:M).addChildNode(ae)}}}writeSimple(n,t){if(t===null)throw new Error("@aws-sdk/core/protocols - (XML serializer) cannot write null value.");let r=J.of(n),s=null;if(t&&typeof t=="object")if(r.isBlobSchema())s=(this.serdeContext?.base64Encoder??Al.toBase64)(t);else if(r.isTimestampSchema()&&t instanceof Date)switch(bt(r,this.settings)){case 5:s=t.toISOString().replace(".000Z","Z");break;case 6:s=(0,Qh.dateToUtcString)(t);break;case 7:s=String(t.getTime()/1e3);break;default:console.warn("Missing timestamp format, using http date",t),s=(0,Qh.dateToUtcString)(t);break}else{if(r.isBigDecimalSchema()&&t)return t instanceof ke?t.string:String(t);throw r.isMapSchema()||r.isListSchema()?new Error("@aws-sdk/core/protocols - xml serializer, cannot call _write() on List/Map schema, call writeList or writeMap() instead."):new Error(`@aws-sdk/core/protocols - xml serializer, unhandled schema type for object value and schema: ${r.getName(!0)}`)}if((r.isBooleanSchema()||r.isNumericSchema()||r.isBigIntegerSchema()||r.isBigDecimalSchema())&&(s=String(t)),r.isStringSchema()&&(t===void 0&&r.isIdempotencyToken()?s=(0,tn.v4)():s=String(t)),s===null)throw new Error(`Unhandled schema-value pair ${r.getName(!0)}=${t}`);return s}writeSimpleInto(n,t,r,s){let o=this.writeSimple(n,t),i=J.of(n),a=new At.XmlText(o),[l,d]=this.getXmlnsAttribute(i,s);d&&r.addAttribute(l,d),r.addChildNode(a)}getXmlnsAttribute(n,t){let r=n.getMergedTraits(),[s,o]=r.xmlNamespace??[];return o&&o!==t?[s?`xmlns:${s}`:"xmlns",o]:[void 0,void 0]}}});var Di,eg=x(()=>{c();cr();Tl();Zh();Di=class extends ot{settings;constructor(n){super(),this.settings=n}createSerializer(){let n=new Ni(this.settings);return n.setSerdeContext(this.serdeContext),n}createDeserializer(){let n=new Jr(this.settings);return n.setSerdeContext(this.serdeContext),n}}});var tg,FC=x(()=>{c();gt();$e();Is();Jh();eg();tg=class extends Fr{codec;serializer;deserializer;mixin=new vt;constructor(n){super(n);let t={timestampFormat:{useTrait:!0,default:5},httpBindings:!0,xmlNamespace:n.xmlNamespace,serviceNamespace:n.defaultNamespace};this.codec=new Di(t),this.serializer=new Br(this.codec.createSerializer(),t),this.deserializer=new Ur(this.codec.createDeserializer(),t)}getPayloadCodec(){return this.codec}getShapeId(){return"aws.protocols#restXml"}async serializeRequest(n,t,r){let s=await super.serializeRequest(n,t,r),o=J.of(n.input);if(!s.headers["content-type"]){let i=this.mixin.resolveRestContentType(this.getDefaultContentType(),o);i&&(s.headers["content-type"]=i)}return s.headers["content-type"]===this.getDefaultContentType()&&typeof s.body=="string"&&(s.body='<?xml version="1.0" encoding="UTF-8"?>'+s.body),s}async deserializeResponse(n,t,r){return super.deserializeResponse(n,t,r)}async handleError(n,t,r,s,o){let i=Yh(r,s)??"Unknown",{errorSchema:a,errorMetadata:l}=await this.mixin.getErrorSchemaOrThrowBaseException(i,this.options.defaultNamespace,r,s,o),d=J.of(a),m=s.Error?.message??s.Error?.Message??s.message??s.Message??"Unknown",h=qe.for(a[1]).getErrorCtor(a)??Error,y=new h(m);await this.deserializeHttpMessage(a,t,r,s);let g={};for(let[E,R]of d.structIterator()){let A=R.getMergedTraits().xmlName??E,I=s.Error?.[A]??s[A];g[E]=this.codec.createDeserializer().readSchema(R,I)}throw Object.assign(y,l,{$fault:d.getMergedTraits().error,message:m},g)}getDefaultContentType(){return"application/xml"}}});var LC=x(()=>{c();Jx();Qx();_C();bC();wl();wC();bl();Uh();Bh();CC();Ti();kC();Wh();FC();eg();Tl();Zh();Jh()});var rn={};Tt(rn,{AWSSDKSigV4Signer:()=>qp,AwsEc2QueryProtocol:()=>Kh,AwsJson1_0Protocol:()=>zh,AwsJson1_1Protocol:()=>jh,AwsJsonRpcProtocol:()=>Yr,AwsQueryProtocol:()=>Ii,AwsRestJsonProtocol:()=>Hh,AwsRestXmlProtocol:()=>tg,AwsSdkSigV4ASigner:()=>bi,AwsSdkSigV4Signer:()=>St,AwsSmithyRpcV2CborProtocol:()=>Th,JsonCodec:()=>Xr,JsonShapeDeserializer:()=>vi,JsonShapeSerializer:()=>Ai,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Rs,NODE_SIGV4A_CONFIG_OPTIONS:()=>ax,XmlCodec:()=>Di,XmlShapeDeserializer:()=>Jr,XmlShapeSerializer:()=>Ni,_toBool:()=>c1,_toNum:()=>l1,_toStr:()=>a1,awsExpectUnion:()=>D1,emitWarningIfUnsupportedVersion:()=>ws,getBearerTokenEnvKey:()=>tl,loadRestJsonErrorCode:()=>Kr,loadRestXmlErrorCode:()=>Yh,parseJsonBody:()=>Ps,parseJsonErrorBody:()=>Lh,parseXmlBody:()=>Pi,parseXmlErrorBody:()=>Xh,resolveAWSSDKSigV4Config:()=>Ox,resolveAwsSdkSigV4AConfig:()=>ix,resolveAwsSdkSigV4Config:()=>Gr,setCredentialFeature:()=>tr,setFeature:()=>qw,setTokenFeature:()=>Gw,state:()=>el,validateSigningProperties:()=>Cs});var We=x(()=>{c();Kt();lh();LC()});var Ds=O(Ns=>{"use strict";c();var L1=(yt(),we(Es)),U1=bs(),B1=Ne(),sn=(We(),we(rn)),jC=void 0;function z1(e){return e===void 0?!0:typeof e=="string"&&e.length<=50}function j1(e){let n=L1.normalizeProvider(e.userAgentAppId??jC),{customUserAgent:t}=e;return Object.assign(e,{customUserAgent:typeof t=="string"?[[t]]:t,userAgentAppId:async()=>{let r=await n();if(!z1(r)){let s=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?console:e.logger;typeof r!="string"?s?.warn("userAgentAppId must be a string or undefined."):r.length>50&&s?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return r}})}var H1=/\d{12}\.ddb/;async function q1(e,n,t){if(t.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&sn.setFeature(e,"PROTOCOL_RPC_V2_CBOR","M"),typeof n.retryStrategy=="function"){let o=await n.retryStrategy();typeof o.acquireInitialRetryToken=="function"?o.constructor?.name?.includes("Adaptive")?sn.setFeature(e,"RETRY_MODE_ADAPTIVE","F"):sn.setFeature(e,"RETRY_MODE_STANDARD","E"):sn.setFeature(e,"RETRY_MODE_LEGACY","D")}if(typeof n.accountIdEndpointMode=="function"){let o=e.endpointV2;switch(String(o?.url?.hostname).match(H1)&&sn.setFeature(e,"ACCOUNT_ID_ENDPOINT","O"),await n.accountIdEndpointMode?.()){case"disabled":sn.setFeature(e,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":sn.setFeature(e,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":sn.setFeature(e,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let s=e.__smithy_context?.selectedHttpAuthScheme?.identity;if(s?.$source){let o=s;o.accountId&&sn.setFeature(e,"RESOLVED_ACCOUNT_ID","T");for(let[i,a]of Object.entries(o.$source??{}))sn.setFeature(e,i,a)}}var UC="user-agent",ng="x-amz-user-agent",BC=" ",rg="/",V1=/[^!$%&'*+\-.^_`|~\w]/g,G1=/[^!$%&'*+\-.^_`|~\w#]/g,zC="-",W1=1024;function K1(e){let n="";for(let t in e){let r=e[t];if(n.length+r.length+1<=W1){n.length?n+=","+r:n+=r;continue}break}return n}var HC=e=>(n,t)=>async r=>{let{request:s}=r;if(!B1.HttpRequest.isInstance(s))return n(r);let{headers:o}=s,i=t?.userAgent?.map(Il)||[],a=(await e.defaultUserAgentProvider()).map(Il);await q1(t,e,r);let l=t;a.push(`m/${K1(Object.assign({},t.__smithy_context?.features,l.__aws_sdk_context?.features))}`);let d=e?.customUserAgent?.map(Il)||[],m=await e.userAgentAppId();m&&a.push(Il(["app",`${m}`]));let h=U1.getUserAgentPrefix(),y=(h?[h]:[]).concat([...a,...i,...d]).join(BC),g=[...a.filter(E=>E.startsWith("aws-sdk-")),...d].join(BC);return e.runtime!=="browser"?(g&&(o[ng]=o[ng]?`${o[UC]} ${g}`:g),o[UC]=y):o[ng]=y,n({...r,request:s})},Il=e=>{let n=e[0].split(rg).map(i=>i.replace(V1,zC)).join(rg),t=e[1]?.replace(G1,zC),r=n.indexOf(rg),s=n.substring(0,r),o=n.substring(r+1);return s==="api"&&(o=o.toLowerCase()),[s,o,t].filter(i=>i&&i.length>0).reduce((i,a,l)=>{switch(l){case 0:return a;case 1:return`${i}/${a}`;default:return`${i}#${a}`}},"")},qC={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},X1=e=>({applyToStack:n=>{n.add(HC(e),qC)}});Ns.DEFAULT_UA_APP_ID=jC;Ns.getUserAgentMiddlewareOptions=qC;Ns.getUserAgentPlugin=X1;Ns.resolveUserAgentConfig=j1;Ns.userAgentMiddleware=HC});var VC=O(Os=>{"use strict";c();var Y1=(e,n,t)=>{if(n in e){if(e[n]==="true")return!0;if(e[n]==="false")return!1;throw new Error(`Cannot load ${t} "${n}". Expected "true" or "false", got ${e[n]}.`)}},J1=(e,n,t)=>{if(!(n in e))return;let r=parseInt(e[n],10);if(Number.isNaN(r))throw new TypeError(`Cannot load ${t} '${n}'. Expected number, got '${e[n]}'.`);return r};Os.SelectorType=void 0;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Os.SelectorType||(Os.SelectorType={}));Os.booleanSelector=Y1;Os.numberSelector=J1});var It=O(Ze=>{"use strict";c();var dr=VC(),Pl=pt(),Q1=Hr(),KC="AWS_USE_DUALSTACK_ENDPOINT",XC="use_dualstack_endpoint",Z1=!1,eM={environmentVariableSelector:e=>dr.booleanSelector(e,KC,dr.SelectorType.ENV),configFileSelector:e=>dr.booleanSelector(e,XC,dr.SelectorType.CONFIG),default:!1},YC="AWS_USE_FIPS_ENDPOINT",JC="use_fips_endpoint",tM=!1,nM={environmentVariableSelector:e=>dr.booleanSelector(e,YC,dr.SelectorType.ENV),configFileSelector:e=>dr.booleanSelector(e,JC,dr.SelectorType.CONFIG),default:!1},rM=e=>{let{tls:n,endpoint:t,urlParser:r,useDualstackEndpoint:s}=e;return Object.assign(e,{tls:n??!0,endpoint:Pl.normalizeProvider(typeof t=="string"?r(t):t),isCustomEndpoint:!0,useDualstackEndpoint:Pl.normalizeProvider(s??!1)})},sM=async e=>{let{tls:n=!0}=e,t=await e.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(t))throw new Error("Invalid region in client config");let s=await e.useDualstackEndpoint(),o=await e.useFipsEndpoint(),{hostname:i}=await e.regionInfoProvider(t,{useDualstackEndpoint:s,useFipsEndpoint:o})??{};if(!i)throw new Error("Cannot resolve hostname from client config");return e.urlParser(`${n?"https:":"http:"}//${i}`)},oM=e=>{let n=Pl.normalizeProvider(e.useDualstackEndpoint??!1),{endpoint:t,useFipsEndpoint:r,urlParser:s,tls:o}=e;return Object.assign(e,{tls:o??!0,endpoint:t?Pl.normalizeProvider(typeof t=="string"?s(t):t):()=>sM({...e,useDualstackEndpoint:n,useFipsEndpoint:r}),isCustomEndpoint:!!t,useDualstackEndpoint:n})},QC="AWS_REGION",ZC="region",iM={environmentVariableSelector:e=>e[QC],configFileSelector:e=>e[ZC],default:()=>{throw new Error("Region is missing")}},aM={preferredFile:"credentials"},GC=new Set,cM=(e,n=Q1.isValidHostLabel)=>{if(!GC.has(e)&&!n(e))if(e==="*")console.warn('@smithy/config-resolver WARN - Please use the caller region instead of "*". See "sigv4a" in https://github.com/aws/aws-sdk-js-v3/blob/main/supplemental-docs/CLIENTS.md.');else throw new Error(`Region not accepted: region="${e}" is not a valid hostname component.`);else GC.add(e)},eR=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips")),lM=e=>eR(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e,dM=e=>{let{region:n,useFipsEndpoint:t}=e;if(!n)throw new Error("Region is missing");return Object.assign(e,{region:async()=>{let r=typeof n=="function"?await n():n,s=lM(r);return cM(s),s},useFipsEndpoint:async()=>{let r=typeof n=="string"?n:await n();return eR(r)?!0:typeof t!="function"?Promise.resolve(!!t):t()}})},WC=(e=[],{useFipsEndpoint:n,useDualstackEndpoint:t})=>e.find(({tags:r})=>n===r.includes("fips")&&t===r.includes("dualstack"))?.hostname,uM=(e,{regionHostname:n,partitionHostname:t})=>n||(t?t.replace("{region}",e):void 0),fM=(e,{partitionHash:n})=>Object.keys(n||{}).find(t=>n[t].regions.includes(e))??"aws",mM=(e,{signingRegion:n,regionRegex:t,useFipsEndpoint:r})=>{if(n)return n;if(r){let s=t.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),o=e.match(s);if(o)return o[0].slice(1,-1)}},pM=(e,{useFipsEndpoint:n=!1,useDualstackEndpoint:t=!1,signingService:r,regionHash:s,partitionHash:o})=>{let i=fM(e,{partitionHash:o}),a=e in s?e:o[i]?.endpoint??e,l={useFipsEndpoint:n,useDualstackEndpoint:t},d=WC(s[a]?.variants,l),m=WC(o[i]?.variants,l),h=uM(a,{regionHostname:d,partitionHostname:m});if(h===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:n,useDualstackEndpoint:t}}`);let y=mM(h,{signingRegion:s[a]?.signingRegion,regionRegex:o[i].regionRegex,useFipsEndpoint:n});return{partition:i,signingService:r,hostname:h,...y&&{signingRegion:y},...s[a]?.signingService&&{signingService:s[a].signingService}}};Ze.CONFIG_USE_DUALSTACK_ENDPOINT=XC;Ze.CONFIG_USE_FIPS_ENDPOINT=JC;Ze.DEFAULT_USE_DUALSTACK_ENDPOINT=Z1;Ze.DEFAULT_USE_FIPS_ENDPOINT=tM;Ze.ENV_USE_DUALSTACK_ENDPOINT=KC;Ze.ENV_USE_FIPS_ENDPOINT=YC;Ze.NODE_REGION_CONFIG_FILE_OPTIONS=aM;Ze.NODE_REGION_CONFIG_OPTIONS=iM;Ze.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS=eM;Ze.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS=nM;Ze.REGION_ENV_NAME=QC;Ze.REGION_INI_NAME=ZC;Ze.getRegionInfo=pM;Ze.resolveCustomEndpointsConfig=rM;Ze.resolveEndpointsConfig=oM;Ze.resolveRegionConfig=dM});var Oi=O(Nl=>{"use strict";c();var hM=Ne(),tR="content-length";function nR(e){return n=>async t=>{let r=t.request;if(hM.HttpRequest.isInstance(r)){let{body:s,headers:o}=r;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(tR)===-1)try{let i=e(s);r.headers={...r.headers,[tR]:String(i)}}catch{}}return n({...t,request:r})}}var rR={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},gM=e=>({applyToStack:n=>{n.add(nR(e.bodyLengthChecker),rR)}});Nl.contentLengthMiddleware=nR;Nl.contentLengthMiddlewareOptions=rR;Nl.getContentLengthPlugin=gM});var og=O(Dl=>{"use strict";c();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.getHomeDir=void 0;var yM=Ee("os"),SM=Ee("path"),sg={},EM=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",_M=()=>{let{HOME:e,USERPROFILE:n,HOMEPATH:t,HOMEDRIVE:r=`C:${SM.sep}`}=process.env;if(e)return e;if(n)return n;if(t)return`${r}${t}`;let s=EM();return sg[s]||(sg[s]=(0,yM.homedir)()),sg[s]};Dl.getHomeDir=_M});var ig=O(Ol=>{"use strict";c();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.getSSOTokenFilepath=void 0;var bM=Ee("crypto"),wM=Ee("path"),xM=og(),CM=e=>{let t=(0,bM.createHash)("sha1").update(e).digest("hex");return(0,wM.join)((0,xM.getHomeDir)(),".aws","sso","cache",`${t}.json`)};Ol.getSSOTokenFilepath=CM});var sR=O(ur=>{"use strict";c();Object.defineProperty(ur,"__esModule",{value:!0});ur.getSSOTokenFromFile=ur.tokenIntercept=void 0;var RM=Ee("fs"),TM=ig(),{readFile:vM}=RM.promises;ur.tokenIntercept={};var AM=async e=>{if(ur.tokenIntercept[e])return ur.tokenIntercept[e];let n=(0,TM.getSSOTokenFilepath)(e),t=await vM(n,"utf8");return JSON.parse(t)};ur.getSSOTokenFromFile=AM});var oR=O(wt=>{"use strict";c();Object.defineProperty(wt,"__esModule",{value:!0});wt.slurpFile=wt.fileIntercept=wt.filePromisesHash=void 0;var IM=Ee("fs"),{readFile:PM}=IM.promises;wt.filePromisesHash={};wt.fileIntercept={};var NM=(e,n)=>wt.fileIntercept[e]!==void 0?wt.fileIntercept[e]:((!wt.filePromisesHash[e]||n?.ignoreCache)&&(wt.filePromisesHash[e]=PM(e,"utf8")),wt.filePromisesHash[e]);wt.slurpFile=NM});var vn=O(Et=>{"use strict";c();var ki=og(),iR=ig(),ag=sR(),kl=Ee("path"),Ml=Wn(),Mi=oR(),cR="AWS_PROFILE",lR="default",DM=e=>e.profile||process.env[cR]||lR,Qr=".",OM=e=>Object.entries(e).filter(([n])=>{let t=n.indexOf(Qr);return t===-1?!1:Object.values(Ml.IniSectionType).includes(n.substring(0,t))}).reduce((n,[t,r])=>{let s=t.indexOf(Qr),o=t.substring(0,s)===Ml.IniSectionType.PROFILE?t.substring(s+1):t;return n[o]=r,n},{...e.default&&{default:e.default}}),kM="AWS_CONFIG_FILE",dR=()=>process.env[kM]||kl.join(ki.getHomeDir(),".aws","config"),MM="AWS_SHARED_CREDENTIALS_FILE",$M=()=>process.env[MM]||kl.join(ki.getHomeDir(),".aws","credentials"),FM=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,LM=["__proto__","profile __proto__"],cg=e=>{let n={},t,r;for(let s of e.split(/\r?\n/)){let o=s.split(/(^|\s)[;#]/)[0].trim();if(o[0]==="["&&o[o.length-1]==="]"){t=void 0,r=void 0;let a=o.substring(1,o.length-1),l=FM.exec(a);if(l){let[,d,,m]=l;Object.values(Ml.IniSectionType).includes(d)&&(t=[d,m].join(Qr))}else t=a;if(LM.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(t){let a=o.indexOf("=");if(![0,-1].includes(a)){let[l,d]=[o.substring(0,a).trim(),o.substring(a+1).trim()];if(d==="")r=l;else{r&&s.trimStart()===s&&(r=void 0),n[t]=n[t]||{};let m=r?[r,l].join(Qr):l;n[t][m]=d}}}}return n},aR=()=>({}),uR=async(e={})=>{let{filepath:n=$M(),configFilepath:t=dR()}=e,r=ki.getHomeDir(),s="~/",o=n;n.startsWith(s)&&(o=kl.join(r,n.slice(2)));let i=t;t.startsWith(s)&&(i=kl.join(r,t.slice(2)));let a=await Promise.all([Mi.slurpFile(i,{ignoreCache:e.ignoreCache}).then(cg).then(OM).catch(aR),Mi.slurpFile(o,{ignoreCache:e.ignoreCache}).then(cg).catch(aR)]);return{configFile:a[0],credentialsFile:a[1]}},UM=e=>Object.entries(e).filter(([n])=>n.startsWith(Ml.IniSectionType.SSO_SESSION+Qr)).reduce((n,[t,r])=>({...n,[t.substring(t.indexOf(Qr)+1)]:r}),{}),BM=()=>({}),zM=async(e={})=>Mi.slurpFile(e.configFilepath??dR()).then(cg).then(UM).catch(BM),jM=(...e)=>{let n={};for(let t of e)for(let[r,s]of Object.entries(t))n[r]!==void 0?Object.assign(n[r],s):n[r]=s;return n},HM=async e=>{let n=await uR(e);return jM(n.configFile,n.credentialsFile)},qM={getFileRecord(){return Mi.fileIntercept},interceptFile(e,n){Mi.fileIntercept[e]=Promise.resolve(n)},getTokenRecord(){return ag.tokenIntercept},interceptToken(e,n){ag.tokenIntercept[e]=n}};Object.defineProperty(Et,"getSSOTokenFromFile",{enumerable:!0,get:function(){return ag.getSSOTokenFromFile}});Et.CONFIG_PREFIX_SEPARATOR=Qr;Et.DEFAULT_PROFILE=lR;Et.ENV_PROFILE=cR;Et.externalDataInterceptor=qM;Et.getProfileName=DM;Et.loadSharedConfigFiles=uR;Et.loadSsoSessionData=zM;Et.parseKnownFiles=HM;Object.keys(ki).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Et,e)&&Object.defineProperty(Et,e,{enumerable:!0,get:function(){return ki[e]}})});Object.keys(iR).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Et,e)&&Object.defineProperty(Et,e,{enumerable:!0,get:function(){return iR[e]}})})});var An=O(pR=>{"use strict";c();var $i=ut(),fR=vn();function mR(e){try{let n=new Set(Array.from(e.match(/([A-Z_]){3,}/g)??[]));return n.delete("CONFIG"),n.delete("CONFIG_PREFIX_SEPARATOR"),n.delete("ENV"),[...n].join(", ")}catch{return e}}var VM=(e,n)=>async()=>{try{let t=e(process.env,n);if(t===void 0)throw new Error;return t}catch(t){throw new $i.CredentialsProviderError(t.message||`Not found in ENV: ${mR(e.toString())}`,{logger:n?.logger})}},GM=(e,{preferredFile:n="config",...t}={})=>async()=>{let r=fR.getProfileName(t),{configFile:s,credentialsFile:o}=await fR.loadSharedConfigFiles(t),i=o[r]||{},a=s[r]||{},l=n==="config"?{...i,...a}:{...a,...i};try{let m=e(l,n==="config"?s:o);if(m===void 0)throw new Error;return m}catch(d){throw new $i.CredentialsProviderError(d.message||`Not found in config files w/ profile [${r}]: ${mR(e.toString())}`,{logger:t.logger})}},WM=e=>typeof e=="function",KM=e=>WM(e)?async()=>await e():$i.fromStatic(e),XM=({environmentVariableSelector:e,configFileSelector:n,default:t},r={})=>{let{signingName:s,logger:o}=r,i={signingName:s,logger:o};return $i.memoize($i.chain(VM(e,i),GM(n,r),KM(t)))};pR.loadConfig=XM});var SR=O($l=>{"use strict";c();Object.defineProperty($l,"__esModule",{value:!0});$l.getEndpointUrlConfig=void 0;var hR=vn(),gR="AWS_ENDPOINT_URL",yR="endpoint_url",YM=e=>({environmentVariableSelector:n=>{let t=e.split(" ").map(o=>o.toUpperCase()),r=n[[gR,...t].join("_")];if(r)return r;let s=n[gR];if(s)return s},configFileSelector:(n,t)=>{if(t&&n.services){let s=t[["services",n.services].join(hR.CONFIG_PREFIX_SEPARATOR)];if(s){let o=e.split(" ").map(a=>a.toLowerCase()),i=s[[o.join("_"),yR].join(hR.CONFIG_PREFIX_SEPARATOR)];if(i)return i}}let r=n[yR];if(r)return r},default:void 0});$l.getEndpointUrlConfig=YM});var ER=O(Fl=>{"use strict";c();Object.defineProperty(Fl,"__esModule",{value:!0});Fl.getEndpointFromConfig=void 0;var JM=An(),QM=SR(),ZM=async e=>(0,JM.loadConfig)((0,QM.getEndpointUrlConfig)(e??""))();Fl.getEndpointFromConfig=ZM});var fr=O(In=>{"use strict";c();var bR=ER(),_R=er(),e$=(yt(),we(Es)),Ll=pt(),t$=Xn(),n$=async e=>{let n=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=n.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),a$(n)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!i$(n)||n.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||n.toLowerCase()!==n||n.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},r$=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,s$=/(\d+\.){3}\d+/,o$=/\.\./,i$=e=>r$.test(e)&&!s$.test(e)&&!o$.test(e),a$=e=>{let[n,t,r,,,s]=e.split(":"),o=n==="arn"&&e.split(":").length>=6,i=!!(o&&t&&r&&s);if(o&&!i)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return i},c$=(e,n,t)=>{let r=async()=>{let s=t[e]??t[n];return typeof s=="function"?s():s};return e==="credentialScope"||n==="CredentialScope"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.credentialScope??s?.CredentialScope}:e==="accountId"||n==="AccountId"?async()=>{let s=typeof t.credentials=="function"?await t.credentials():t.credentials;return s?.accountId??s?.AccountId}:e==="endpoint"||n==="endpoint"?async()=>{if(t.isCustomEndpoint===!1)return;let s=await r();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:l}=s;return`${o}//${i}${a?":"+a:""}${l}`}}return s}:r},lg=e=>typeof e=="object"?"url"in e?_R.parseUrl(e.url):e:_R.parseUrl(e),wR=async(e,n,t,r)=>{if(!t.isCustomEndpoint){let i;t.serviceConfiguredEndpoint?i=await t.serviceConfiguredEndpoint():i=await bR.getEndpointFromConfig(t.serviceId),i&&(t.endpoint=()=>Promise.resolve(lg(i)),t.isCustomEndpoint=!0)}let s=await xR(e,n,t);if(typeof t.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return t.endpointProvider(s,r)},xR=async(e,n,t)=>{let r={},s=n?.getEndpointParameterInstructions?.()||{};for(let[o,i]of Object.entries(s))switch(i.type){case"staticContextParams":r[o]=i.value;break;case"contextParams":r[o]=e[i.name];break;case"clientContextParams":case"builtInParams":r[o]=await c$(i.name,o,t)();break;case"operationContextParams":r[o]=i.get(e);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(i))}return Object.keys(s).length===0&&Object.assign(r,t),String(t.serviceId).toLowerCase()==="s3"&&await n$(r),r},CR=({config:e,instructions:n})=>(t,r)=>async s=>{e.isCustomEndpoint&&e$.setFeature(r,"ENDPOINT_OVERRIDE","N");let o=await wR(s.input,{getEndpointParameterInstructions(){return n}},{...e},r);r.endpointV2=o,r.authSchemes=o.properties?.authSchemes;let i=r.authSchemes?.[0];if(i){r.signing_region=i.signingRegion,r.signing_service=i.signingName;let l=Ll.getSmithyContext(r)?.selectedHttpAuthScheme?.httpAuthOption;l&&(l.signingProperties=Object.assign(l.signingProperties||{},{signing_region:i.signingRegion,signingRegion:i.signingRegion,signing_service:i.signingName,signingName:i.signingName,signingRegionSet:i.signingRegionSet},i.properties))}return t({...s})},RR={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:t$.serializerMiddlewareOption.name},l$=(e,n)=>({applyToStack:t=>{t.addRelativeTo(CR({config:e,instructions:n}),RR)}}),d$=e=>{let n=e.tls??!0,{endpoint:t,useDualstackEndpoint:r,useFipsEndpoint:s}=e,o=t!=null?async()=>lg(await Ll.normalizeProvider(t)()):void 0,a=Object.assign(e,{endpoint:o,tls:n,isCustomEndpoint:!!t,useDualstackEndpoint:Ll.normalizeProvider(r??!1),useFipsEndpoint:Ll.normalizeProvider(s??!1)}),l;return a.serviceConfiguredEndpoint=async()=>(e.serviceId&&!l&&(l=bR.getEndpointFromConfig(e.serviceId)),l),a},u$=e=>{let{endpoint:n}=e;return n===void 0&&(e.endpoint=async()=>{throw new Error("@smithy/middleware-endpoint: (default endpointRuleSet) endpoint is not set - you must configure an endpoint.")}),e};In.endpointMiddleware=CR;In.endpointMiddlewareOptions=RR;In.getEndpointFromInstructions=wR;In.getEndpointPlugin=l$;In.resolveEndpointConfig=d$;In.resolveEndpointRequiredConfig=u$;In.resolveParams=xR;In.toEndpointV1=lg});var ug=O(mr=>{"use strict";c();var f$=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],m$=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],p$=["TimeoutError","RequestTimeout","RequestTimeoutException"],h$=[500,502,503,504],g$=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],y$=["EHOSTUNREACH","ENETUNREACH","ENOTFOUND"],TR=e=>e?.$retryable!==void 0,S$=e=>f$.includes(e.name),vR=e=>e.$metadata?.clockSkewCorrected,AR=e=>{let n=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return e&&e instanceof TypeError?n.has(e.message):!1},E$=e=>e.$metadata?.httpStatusCode===429||m$.includes(e.name)||e.$retryable?.throttling==!0,dg=(e,n=0)=>TR(e)||vR(e)||p$.includes(e.name)||g$.includes(e?.code||"")||y$.includes(e?.code||"")||h$.includes(e.$metadata?.httpStatusCode||0)||AR(e)||e.cause!==void 0&&n<=10&&dg(e.cause,n+1),_$=e=>{if(e.$metadata?.httpStatusCode!==void 0){let n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!dg(e)}return!1};mr.isBrowserNetworkError=AR;mr.isClockSkewCorrectedError=vR;mr.isClockSkewError=S$;mr.isRetryableByTrait=TR;mr.isServerError=_$;mr.isThrottlingError=E$;mr.isTransientError=dg});var ks=O(Fe=>{"use strict";c();var b$=ug();Fe.RETRY_MODES=void 0;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Fe.RETRY_MODES||(Fe.RETRY_MODES={}));var fg=3,w$=Fe.RETRY_MODES.STANDARD,Ul=class e{static setTimeoutFn=setTimeout;beta;minCapacity;minFillRate;scaleConstant;smooth;currentCapacity=0;enabled=!1;lastMaxRate=0;measuredTxRate=0;requestCount=0;fillRate;lastThrottleTime;lastTimestamp=0;lastTxRateBucket;maxCapacity;timeWindow=0;constructor(n){this.beta=n?.beta??.7,this.minCapacity=n?.minCapacity??1,this.minFillRate=n?.minFillRate??.5,this.scaleConstant=n?.scaleConstant??.4,this.smooth=n?.smooth??.8;let t=this.getCurrentTimeInSeconds();this.lastThrottleTime=t,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(n){if(this.enabled){if(this.refillTokenBucket(),n>this.currentCapacity){let t=(n-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>e.setTimeoutFn(r,t))}this.currentCapacity=this.currentCapacity-n}}refillTokenBucket(){let n=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=n;return}let t=(n-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=n}updateClientSendingRate(n){let t;if(this.updateMeasuredRate(),b$.isThrottlingError(n)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(n){return this.getPrecise(n*this.beta)}cubicSuccess(n){return this.getPrecise(this.scaleConstant*Math.pow(n-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(n){this.refillTokenBucket(),this.fillRate=Math.max(n,this.minFillRate),this.maxCapacity=Math.max(n,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let n=this.getCurrentTimeInSeconds(),t=Math.floor(n*2)/2;if(this.requestCount++,t>this.lastTxRateBucket){let r=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}getPrecise(n){return parseFloat(n.toFixed(8))}},Fi=100,gg=20*1e3,PR=500,mg=500,NR=5,DR=10,OR=1,x$="amz-sdk-invocation-id",C$="amz-sdk-request",R$=()=>{let e=Fi;return{computeNextBackoffDelay:r=>Math.floor(Math.min(gg,Math.random()*2**r*e)),setDelayBase:r=>{e=r}}},IR=({retryDelay:e,retryCount:n,retryCost:t})=>({getRetryCount:()=>n,getRetryDelay:()=>Math.min(gg,e),getRetryCost:()=>t}),Li=class{maxAttempts;mode=Fe.RETRY_MODES.STANDARD;capacity=mg;retryBackoffStrategy=R$();maxAttemptsProvider;constructor(n){this.maxAttempts=n,this.maxAttemptsProvider=typeof n=="function"?n:async()=>n}async acquireInitialRetryToken(n){return IR({retryDelay:Fi,retryCount:0})}async refreshRetryTokenForRetry(n,t){let r=await this.getMaxAttempts();if(this.shouldRetry(n,t,r)){let s=t.errorType;this.retryBackoffStrategy.setDelayBase(s==="THROTTLING"?PR:Fi);let o=this.retryBackoffStrategy.computeNextBackoffDelay(n.getRetryCount()),i=t.retryAfterHint?Math.max(t.retryAfterHint.getTime()-Date.now()||0,o):o,a=this.getCapacityCost(s);return this.capacity-=a,IR({retryDelay:i,retryCount:n.getRetryCount()+1,retryCost:a})}throw new Error("No retry token available")}recordSuccess(n){this.capacity=Math.max(mg,this.capacity+(n.getRetryCost()??OR))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${fg}`),fg}}shouldRetry(n,t,r){return n.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(t.errorType)&&this.isRetryableError(t.errorType)}getCapacityCost(n){return n==="TRANSIENT"?DR:NR}isRetryableError(n){return n==="THROTTLING"||n==="TRANSIENT"}},pg=class{maxAttemptsProvider;rateLimiter;standardRetryStrategy;mode=Fe.RETRY_MODES.ADAPTIVE;constructor(n,t){this.maxAttemptsProvider=n;let{rateLimiter:r}=t??{};this.rateLimiter=r??new Ul,this.standardRetryStrategy=new Li(n)}async acquireInitialRetryToken(n){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(n)}async refreshRetryTokenForRetry(n,t){return this.rateLimiter.updateClientSendingRate(t),this.standardRetryStrategy.refreshRetryTokenForRetry(n,t)}recordSuccess(n){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(n)}},hg=class extends Li{computeNextBackoffDelay;constructor(n,t=Fi){super(typeof n=="function"?n:async()=>n),typeof t=="number"?this.computeNextBackoffDelay=()=>t:this.computeNextBackoffDelay=t}async refreshRetryTokenForRetry(n,t){let r=await super.refreshRetryTokenForRetry(n,t);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}};Fe.AdaptiveRetryStrategy=pg;Fe.ConfiguredRetryStrategy=hg;Fe.DEFAULT_MAX_ATTEMPTS=fg;Fe.DEFAULT_RETRY_DELAY_BASE=Fi;Fe.DEFAULT_RETRY_MODE=w$;Fe.DefaultRateLimiter=Ul;Fe.INITIAL_RETRY_TOKENS=mg;Fe.INVOCATION_ID_HEADER=x$;Fe.MAXIMUM_RETRY_DELAY=gg;Fe.NO_RETRY_INCREMENT=OR;Fe.REQUEST_HEADER=C$;Fe.RETRY_COST=NR;Fe.StandardRetryStrategy=Li;Fe.THROTTLING_RETRY_DELAY_BASE=PR;Fe.TIMEOUT_RETRY_COST=DR});var kR=O(Bl=>{"use strict";c();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.isStreamingPayload=void 0;var T$=Ee("stream"),v$=e=>e?.body instanceof T$.Readable||typeof ReadableStream<"u"&&e?.body instanceof ReadableStream;Bl.isStreamingPayload=v$});var Pn=O(Ve=>{"use strict";c();var Me=ks(),Ms=Ne(),pr=ug(),$R=mp(),MR=pt(),A$=fe(),I$=kR(),P$=(e,n)=>{let t=e,r=Me.NO_RETRY_INCREMENT,s=Me.RETRY_COST,o=Me.TIMEOUT_RETRY_COST,i=e,a=h=>h.name==="TimeoutError"?o:s,l=h=>a(h)<=i;return Object.freeze({hasRetryTokens:l,retrieveRetryTokens:h=>{if(!l(h))throw new Error("No retry token available");let y=a(h);return i-=y,y},releaseRetryTokens:h=>{i+=h??r,i=Math.min(i,t)}})},FR=(e,n)=>Math.floor(Math.min(Me.MAXIMUM_RETRY_DELAY,Math.random()*2**n*e)),LR=e=>e?pr.isRetryableByTrait(e)||pr.isClockSkewError(e)||pr.isThrottlingError(e)||pr.isTransientError(e):!1,UR=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`),zl=class{maxAttemptsProvider;retryDecider;delayDecider;retryQuota;mode=Me.RETRY_MODES.STANDARD;constructor(n,t){this.maxAttemptsProvider=n,this.retryDecider=t?.retryDecider??LR,this.delayDecider=t?.delayDecider??FR,this.retryQuota=t?.retryQuota??P$(Me.INITIAL_RETRY_TOKENS)}shouldRetry(n,t,r){return t<r&&this.retryDecider(n)&&this.retryQuota.hasRetryTokens(n)}async getMaxAttempts(){let n;try{n=await this.maxAttemptsProvider()}catch{n=Me.DEFAULT_MAX_ATTEMPTS}return n}async retry(n,t,r){let s,o=0,i=0,a=await this.getMaxAttempts(),{request:l}=t;for(Ms.HttpRequest.isInstance(l)&&(l.headers[Me.INVOCATION_ID_HEADER]=$R.v4());;)try{Ms.HttpRequest.isInstance(l)&&(l.headers[Me.REQUEST_HEADER]=`attempt=${o+1}; max=${a}`),r?.beforeRequest&&await r.beforeRequest();let{response:d,output:m}=await n(t);return r?.afterRequest&&r.afterRequest(d),this.retryQuota.releaseRetryTokens(s),m.$metadata.attempts=o+1,m.$metadata.totalRetryDelay=i,{response:d,output:m}}catch(d){let m=UR(d);if(o++,this.shouldRetry(m,o,a)){s=this.retryQuota.retrieveRetryTokens(m);let h=this.delayDecider(pr.isThrottlingError(m)?Me.THROTTLING_RETRY_DELAY_BASE:Me.DEFAULT_RETRY_DELAY_BASE,o),y=N$(m.$response),g=Math.max(y||0,h);i+=g,await new Promise(E=>setTimeout(E,g));continue}throw m.$metadata||(m.$metadata={}),m.$metadata.attempts=o,m.$metadata.totalRetryDelay=i,m}}},N$=e=>{if(!Ms.HttpResponse.isInstance(e))return;let n=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!n)return;let t=e.headers[n],r=Number(t);return Number.isNaN(r)?new Date(t).getTime()-Date.now():r*1e3},yg=class extends zl{rateLimiter;constructor(n,t){let{rateLimiter:r,...s}=t??{};super(n,s),this.rateLimiter=r??new Me.DefaultRateLimiter,this.mode=Me.RETRY_MODES.ADAPTIVE}async retry(n,t){return super.retry(n,t,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},Sg="AWS_MAX_ATTEMPTS",Eg="max_attempts",D$={environmentVariableSelector:e=>{let n=e[Sg];if(!n)return;let t=parseInt(n);if(Number.isNaN(t))throw new Error(`Environment variable ${Sg} mast be a number, got "${n}"`);return t},configFileSelector:e=>{let n=e[Eg];if(!n)return;let t=parseInt(n);if(Number.isNaN(t))throw new Error(`Shared config file entry ${Eg} mast be a number, got "${n}"`);return t},default:Me.DEFAULT_MAX_ATTEMPTS},O$=e=>{let{retryStrategy:n,retryMode:t,maxAttempts:r}=e,s=MR.normalizeProvider(r??Me.DEFAULT_MAX_ATTEMPTS);return Object.assign(e,{maxAttempts:s,retryStrategy:async()=>n||(await MR.normalizeProvider(t)()===Me.RETRY_MODES.ADAPTIVE?new Me.AdaptiveRetryStrategy(s):new Me.StandardRetryStrategy(s))})},BR="AWS_RETRY_MODE",zR="retry_mode",k$={environmentVariableSelector:e=>e[BR],configFileSelector:e=>e[zR],default:Me.DEFAULT_RETRY_MODE},jR=()=>e=>async n=>{let{request:t}=n;return Ms.HttpRequest.isInstance(t)&&(delete t.headers[Me.INVOCATION_ID_HEADER],delete t.headers[Me.REQUEST_HEADER]),e(n)},HR={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},M$=e=>({applyToStack:n=>{n.addRelativeTo(jR(),HR)}}),qR=e=>(n,t)=>async r=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if($$(s)){s=s;let i=await s.acquireInitialRetryToken(t.partition_id),a=new Error,l=0,d=0,{request:m}=r,h=Ms.HttpRequest.isInstance(m);for(h&&(m.headers[Me.INVOCATION_ID_HEADER]=$R.v4());;)try{h&&(m.headers[Me.REQUEST_HEADER]=`attempt=${l+1}; max=${o}`);let{response:y,output:g}=await n(r);return s.recordSuccess(i),g.$metadata.attempts=l+1,g.$metadata.totalRetryDelay=d,{response:y,output:g}}catch(y){let g=F$(y);if(a=UR(y),h&&I$.isStreamingPayload(m))throw(t.logger instanceof A$.NoOpLogger?console:t.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{i=await s.refreshRetryTokenForRetry(i,g)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=l+1,a.$metadata.totalRetryDelay=d,a}l=i.getRetryCount();let E=i.getRetryDelay();d+=E,await new Promise(R=>setTimeout(R,E))}}else return s=s,s?.mode&&(t.userAgent=[...t.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(n,r)},$$=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",F$=e=>{let n={error:e,errorType:L$(e)},t=GR(e.$response);return t&&(n.retryAfterHint=t),n},L$=e=>pr.isThrottlingError(e)?"THROTTLING":pr.isTransientError(e)?"TRANSIENT":pr.isServerError(e)?"SERVER_ERROR":"CLIENT_ERROR",VR={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},U$=e=>({applyToStack:n=>{n.add(qR(e),VR)}}),GR=e=>{if(!Ms.HttpResponse.isInstance(e))return;let n=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!n)return;let t=e.headers[n],r=Number(t);return Number.isNaN(r)?new Date(t):new Date(r*1e3)};Ve.AdaptiveRetryStrategy=yg;Ve.CONFIG_MAX_ATTEMPTS=Eg;Ve.CONFIG_RETRY_MODE=zR;Ve.ENV_MAX_ATTEMPTS=Sg;Ve.ENV_RETRY_MODE=BR;Ve.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=D$;Ve.NODE_RETRY_MODE_CONFIG_OPTIONS=k$;Ve.StandardRetryStrategy=zl;Ve.defaultDelayDecider=FR;Ve.defaultRetryDecider=LR;Ve.getOmitRetryHeadersPlugin=M$;Ve.getRetryAfterHint=GR;Ve.getRetryPlugin=U$;Ve.omitRetryHeadersMiddleware=jR;Ve.omitRetryHeadersMiddlewareOptions=HR;Ve.resolveRetryConfig=O$;Ve.retryMiddleware=qR;Ve.retryMiddlewareOptions=VR});var bg=O(hr=>{"use strict";c();Object.defineProperty(hr,"__esModule",{value:!0});hr.resolveHttpAuthSchemeConfig=hr.defaultSESHttpAuthSchemeProvider=hr.defaultSESHttpAuthSchemeParametersProvider=void 0;var B$=(We(),we(rn)),_g=pt(),z$=async(e,n,t)=>({operation:(0,_g.getSmithyContext)(n).operation,region:await(0,_g.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});hr.defaultSESHttpAuthSchemeParametersProvider=z$;function j$(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"ses",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}var H$=e=>{let n=[];switch(e.operation){default:n.push(j$(e))}return n};hr.defaultSESHttpAuthSchemeProvider=H$;var q$=e=>{let n=(0,B$.resolveAwsSdkSigV4Config)(e);return Object.assign(n,{authSchemePreference:(0,_g.normalizeProvider)(e.authSchemePreference??[])})};hr.resolveHttpAuthSchemeConfig=q$});var WR=O((Iee,V$)=>{V$.exports={name:"@aws-sdk/client-ses",description:"AWS SDK for JavaScript Ses Client for Node.js, Browser and React Native",version:"3.926.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-ses","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo ses"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.926.0","@aws-sdk/credential-provider-node":"3.926.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.926.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.926.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0","@smithy/util-waiter":"^4.2.4",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-ses",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-ses"}}});var wg=O(gr=>{"use strict";c();var G$=(Kt(),we(nr)),W$=ut(),KR="AWS_ACCESS_KEY_ID",XR="AWS_SECRET_ACCESS_KEY",YR="AWS_SESSION_TOKEN",JR="AWS_CREDENTIAL_EXPIRATION",QR="AWS_CREDENTIAL_SCOPE",ZR="AWS_ACCOUNT_ID",K$=e=>async()=>{e?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let n=process.env[KR],t=process.env[XR],r=process.env[YR],s=process.env[JR],o=process.env[QR],i=process.env[ZR];if(n&&t){let a={accessKeyId:n,secretAccessKey:t,...r&&{sessionToken:r},...s&&{expiration:new Date(s)},...o&&{credentialScope:o},...i&&{accountId:i}};return G$.setCredentialFeature(a,"CREDENTIALS_ENV_VARS","g"),a}throw new W$.CredentialsProviderError("Unable to find environment variable credentials.",{logger:e?.logger})};gr.ENV_ACCOUNT_ID=ZR;gr.ENV_CREDENTIAL_SCOPE=QR;gr.ENV_EXPIRATION=JR;gr.ENV_KEY=KR;gr.ENV_SECRET=XR;gr.ENV_SESSION=YR;gr.fromEnv=K$});var Bi=O(it=>{"use strict";c();var on=ut(),X$=Ee("url"),Y$=Ee("buffer"),J$=Ee("http"),vg=An(),Q$=er();function Ui(e){return new Promise((n,t)=>{let r=J$.request({method:"GET",...e,hostname:e.hostname?.replace(/^\[(.+)\]$/,"$1")});r.on("error",s=>{t(Object.assign(new on.ProviderError("Unable to connect to instance metadata service"),s)),r.destroy()}),r.on("timeout",()=>{t(new on.ProviderError("TimeoutError from instance metadata service")),r.destroy()}),r.on("response",s=>{let{statusCode:o=400}=s;(o<200||300<=o)&&(t(Object.assign(new on.ProviderError("Error response received from instance metadata service"),{statusCode:o})),r.destroy());let i=[];s.on("data",a=>{i.push(a)}),s.on("end",()=>{n(Y$.Buffer.concat(i)),r.destroy()})}),r.end()})}var rT=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",sT=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration),...e.AccountId&&{accountId:e.AccountId}}),oT=1e3,iT=0,Ag=({maxRetries:e=iT,timeout:n=oT})=>({maxRetries:e,timeout:n}),Cg=(e,n)=>{let t=e();for(let r=0;r<n;r++)t=t.catch(e);return t},jl="AWS_CONTAINER_CREDENTIALS_FULL_URI",Hl="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",Rg="AWS_CONTAINER_AUTHORIZATION_TOKEN",Z$=(e={})=>{let{timeout:n,maxRetries:t}=Ag(e);return()=>Cg(async()=>{let r=await sF({logger:e.logger}),s=JSON.parse(await eF(n,r));if(!rT(s))throw new on.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:e.logger});return sT(s)},t)},eF=async(e,n)=>(process.env[Rg]&&(n.headers={...n.headers,Authorization:process.env[Rg]}),(await Ui({...n,timeout:e})).toString()),tF="169.254.170.2",nF={localhost:!0,"127.0.0.1":!0},rF={"http:":!0,"https:":!0},sF=async({logger:e})=>{if(process.env[Hl])return{hostname:tF,path:process.env[Hl]};if(process.env[jl]){let n=X$.parse(process.env[jl]);if(!n.hostname||!(n.hostname in nF))throw new on.CredentialsProviderError(`${n.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:e});if(!n.protocol||!(n.protocol in rF))throw new on.CredentialsProviderError(`${n.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:e});return{...n,port:n.port?parseInt(n.port,10):void 0}}throw new on.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${Hl} or ${jl} environment variable is set`,{tryNextLink:!1,logger:e})},Tg=class e extends on.CredentialsProviderError{tryNextLink;name="InstanceMetadataV1FallbackError";constructor(n,t=!0){super(n,t),this.tryNextLink=t,Object.setPrototypeOf(this,e.prototype)}};it.Endpoint=void 0;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(it.Endpoint||(it.Endpoint={}));var oF="AWS_EC2_METADATA_SERVICE_ENDPOINT",iF="ec2_metadata_service_endpoint",aF={environmentVariableSelector:e=>e[oF],configFileSelector:e=>e[iF],default:void 0},$s;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})($s||($s={}));var cF="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",lF="ec2_metadata_service_endpoint_mode",dF={environmentVariableSelector:e=>e[cF],configFileSelector:e=>e[lF],default:$s.IPv4},aT=async()=>Q$.parseUrl(await uF()||await fF()),uF=async()=>vg.loadConfig(aF)(),fF=async()=>{let e=await vg.loadConfig(dF)();switch(e){case $s.IPv4:return it.Endpoint.IPv4;case $s.IPv6:return it.Endpoint.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values($s)}`)}},mF=300,pF=300,hF="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",eT=(e,n)=>{let t=mF+Math.floor(Math.random()*pF),r=new Date(Date.now()+t*1e3);n.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(r)}.
For more information, please visit: `+hF);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:r}},gF=(e,n={})=>{let t=n?.logger||console,r;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=eT(s,t))}catch(o){if(r)t.warn("Credential renew failed: ",o),s=eT(r,t);else throw o}return r=s,s}},cT="/latest/meta-data/iam/security-credentials/",yF="/latest/api/token",xg="AWS_EC2_METADATA_V1_DISABLED",tT="ec2_metadata_v1_disabled",nT="x-aws-ec2-metadata-token",SF=(e={})=>gF(EF(e),{logger:e.logger}),EF=(e={})=>{let n=!1,{logger:t,profile:r}=e,{timeout:s,maxRetries:o}=Ag(e),i=async(a,l)=>{if(n||l.headers?.[nT]==null){let h=!1,y=!1,g=await vg.loadConfig({environmentVariableSelector:E=>{let R=E[xg];if(y=!!R&&R!=="false",R===void 0)throw new on.CredentialsProviderError(`${xg} not set in env, checking config file next.`,{logger:e.logger});return y},configFileSelector:E=>{let R=E[tT];return h=!!R&&R!=="false",h},default:!1},{profile:r})();if(e.ec2MetadataV1Disabled||g){let E=[];throw e.ec2MetadataV1Disabled&&E.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),h&&E.push(`config file profile (${tT})`),y&&E.push(`process environment variable (${xg})`),new Tg(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${E.join(", ")}].`)}}let m=(await Cg(async()=>{let h;try{h=await bF(l)}catch(y){throw y.statusCode===401&&(n=!1),y}return h},a)).trim();return Cg(async()=>{let h;try{h=await wF(m,l,e)}catch(y){throw y.statusCode===401&&(n=!1),y}return h},a)};return async()=>{let a=await aT();if(n)return t?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),i(o,{...a,timeout:s});{let l;try{l=(await _F({...a,timeout:s})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return(d.message==="TimeoutError"||[403,404,405].includes(d.statusCode))&&(n=!0),t?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),i(o,{...a,timeout:s})}return i(o,{...a,headers:{[nT]:l},timeout:s})}}},_F=async e=>Ui({...e,path:yF,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),bF=async e=>(await Ui({...e,path:cT})).toString(),wF=async(e,n,t)=>{let r=JSON.parse((await Ui({...n,path:cT+e})).toString());if(!rT(r))throw new on.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return sT(r)};it.DEFAULT_MAX_RETRIES=iT;it.DEFAULT_TIMEOUT=oT;it.ENV_CMDS_AUTH_TOKEN=Rg;it.ENV_CMDS_FULL_URI=jl;it.ENV_CMDS_RELATIVE_URI=Hl;it.fromContainerMetadata=Z$;it.fromInstanceMetadata=SF;it.getInstanceMetadataEndpoint=aT;it.httpRequest=Ui;it.providerConfigFromInit=Ag});var lT=O(ql=>{"use strict";c();Object.defineProperty(ql,"__esModule",{value:!0});ql.checkUrl=void 0;var xF=ut(),CF="169.254.170.2",RF="169.254.170.23",TF="[fd00:ec2::23]",vF=(e,n)=>{if(e.protocol!=="https:"&&!(e.hostname===CF||e.hostname===RF||e.hostname===TF)){if(e.hostname.includes("[")){if(e.hostname==="[::1]"||e.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(e.hostname==="localhost")return;let t=e.hostname.split("."),r=s=>{let o=parseInt(s,10);return 0<=o&&o<=255};if(t[0]==="127"&&r(t[1])&&r(t[2])&&r(t[3])&&t.length===4)return}throw new xF.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:n})}};ql.checkUrl=vF});var dT=O(Vl=>{"use strict";c();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.createGetRequest=NF;Vl.getCredentials=DF;var Ig=ut(),AF=Ne(),IF=fe(),PF=Nc();function NF(e){return new AF.HttpRequest({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((n,[t,r])=>(n[t]=r,n),{}),fragment:e.hash})}async function DF(e,n){let r=await(0,PF.sdkStreamMixin)(e.body).transformToString();if(e.statusCode===200){let s=JSON.parse(r);if(typeof s.AccessKeyId!="string"||typeof s.SecretAccessKey!="string"||typeof s.Token!="string"||typeof s.Expiration!="string")throw new Ig.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:n});return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.Token,expiration:(0,IF.parseRfc3339DateTime)(s.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let s={};try{s=JSON.parse(r)}catch{}throw Object.assign(new Ig.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:n}),{Code:s.Code,Message:s.Message})}throw new Ig.CredentialsProviderError(`Server responded with status: ${e.statusCode}`,{logger:n})}});var uT=O(Gl=>{"use strict";c();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.retryWrapper=void 0;var OF=(e,n,t)=>async()=>{for(let r=0;r<n;++r)try{return await e()}catch{await new Promise(o=>setTimeout(o,t))}return await e()};Gl.retryWrapper=OF});var pT=O(Wl=>{"use strict";c();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.fromHttp=void 0;var kF=(pi(),we(mi)),MF=(Kt(),we(nr)),$F=kr(),fT=ut(),FF=kF.__importDefault(Ee("fs/promises")),LF=lT(),mT=dT(),UF=uT(),BF="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",zF="http://169.254.170.2",jF="AWS_CONTAINER_CREDENTIALS_FULL_URI",HF="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",qF="AWS_CONTAINER_AUTHORIZATION_TOKEN",VF=(e={})=>{e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let n,t=e.awsContainerCredentialsRelativeUri??process.env[BF],r=e.awsContainerCredentialsFullUri??process.env[jF],s=e.awsContainerAuthorizationToken??process.env[qF],o=e.awsContainerAuthorizationTokenFile??process.env[HF],i=e.logger?.constructor?.name==="NoOpLogger"||!e.logger?.warn?console.warn:e.logger.warn.bind(e.logger);if(t&&r&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),i("awsContainerCredentialsFullUri will take precedence.")),s&&o&&(i("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),i("awsContainerAuthorizationToken will take precedence.")),r)n=r;else if(t)n=`${zF}${t}`;else throw new fT.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:e.logger});let a=new URL(n);(0,LF.checkUrl)(a,e.logger);let l=$F.NodeHttpHandler.create({requestTimeout:e.timeout??1e3,connectionTimeout:e.timeout??1e3});return(0,UF.retryWrapper)(async()=>{let d=(0,mT.createGetRequest)(a);s?d.headers.Authorization=s:o&&(d.headers.Authorization=(await FF.default.readFile(o)).toString());try{let m=await l.handle(d);return(0,mT.getCredentials)(m.response).then(h=>(0,MF.setCredentialFeature)(h,"CREDENTIALS_HTTP","z"))}catch(m){throw new fT.CredentialsProviderError(String(m),{logger:e.logger})}},e.maxRetries??3,e.timeout??1e3)};Wl.fromHttp=VF});var Pg=O(Kl=>{"use strict";c();Object.defineProperty(Kl,"__esModule",{value:!0});Kl.fromHttp=void 0;var GF=pT();Object.defineProperty(Kl,"fromHttp",{enumerable:!0,get:function(){return GF.fromHttp}})});function WF(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function KF(e){return{schemeId:"smithy.api#noAuth"}}var zi,hT,gT,yT,Ng=x(()=>{c();We();zi=C(pt()),hT=async(e,n,t)=>({operation:(0,zi.getSmithyContext)(n).operation,region:await(0,zi.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});gT=e=>{let n=[];switch(e.operation){case"CreateToken":{n.push(KF(e));break}default:n.push(WF(e))}return n},yT=e=>{let n=Gr(e);return Object.assign(n,{authSchemePreference:(0,zi.normalizeProvider)(e.authSchemePreference??[])})}});var ST,ET,Dg=x(()=>{c();ST=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),ET={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Xl,Og=x(()=>{Xl={name:"@aws-sdk/nested-clients",version:"3.926.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},sideEffects:!1,author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.926.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.926.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.926.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var ji=O(Zr=>{"use strict";c();var _T=Ee("os"),kg=Ee("process"),YF=Ds(),bT={isCrtAvailable:!1},JF=()=>bT.isCrtAvailable?["md/crt-avail"]:null,wT=({serviceId:e,clientVersion:n})=>async t=>{let r=[["aws-sdk-js",n],["ua","2.1"],[`os/${_T.platform()}`,_T.release()],["lang/js"],["md/nodejs",`${kg.versions.node}`]],s=JF();s&&r.push(s),e&&r.push([`api/${e}`,n]),kg.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${kg.env.AWS_EXECUTION_ENV}`]);let o=await t?.userAgentAppId?.();return o?[...r,[`app/${o}`]]:[...r]},QF=wT,xT="AWS_SDK_UA_APP_ID",CT="sdk_ua_app_id",ZF="sdk-ua-app-id",eL={environmentVariableSelector:e=>e[xT],configFileSelector:e=>e[CT]??e[ZF],default:YF.DEFAULT_UA_APP_ID};Zr.NODE_APP_ID_CONFIG_OPTIONS=eL;Zr.UA_APP_ID_ENV_NAME=xT;Zr.UA_APP_ID_INI_NAME=CT;Zr.createDefaultUserAgentProvider=wT;Zr.crtAvailability=bT;Zr.defaultUserAgent=QF});var Hi=O(vT=>{"use strict";c();var Mg=us(),tL=Je(),nL=Ee("buffer"),RT=Ee("crypto"),$g=class{algorithmIdentifier;secret;hash;constructor(n,t){this.algorithmIdentifier=n,this.secret=t,this.reset()}update(n,t){this.hash.update(tL.toUint8Array(TT(n,t)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?RT.createHmac(this.algorithmIdentifier,TT(this.secret)):RT.createHash(this.algorithmIdentifier)}};function TT(e,n){return nL.Buffer.isBuffer(e)?e:typeof e=="string"?Mg.fromString(e,n):ArrayBuffer.isView(e)?Mg.fromArrayBuffer(e.buffer,e.byteOffset,e.byteLength):Mg.fromArrayBuffer(e)}vT.Hash=$g});var qi=O(AT=>{"use strict";c();var Fg=Ee("node:fs"),rL=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.byteLength(e);if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.start=="number"&&typeof e.end=="number")return e.end+1-e.start;if(e instanceof Fg.ReadStream){if(e.path!=null)return Fg.lstatSync(e.path).size;if(typeof e.fd=="number")return Fg.fstatSync(e.fd).size}throw new Error(`Body Length computation failed for ${e}`)};AT.calculateBodyLength=rL});var LT,Nt,IT,Vi,Fs,Ls,Nn,Lg,Ug,PT,NT,DT,UT,BT,Pt,OT,zT,kT,MT,$T,FT,sL,jT,HT=x(()=>{c();LT="required",Nt="argv",IT="isSet",Vi="booleanEquals",Fs="error",Ls="endpoint",Nn="tree",Lg="PartitionResult",Ug="getAttr",PT={[LT]:!1,type:"string"},NT={[LT]:!0,default:!1,type:"boolean"},DT={ref:"Endpoint"},UT={fn:Vi,[Nt]:[{ref:"UseFIPS"},!0]},BT={fn:Vi,[Nt]:[{ref:"UseDualStack"},!0]},Pt={},OT={fn:Ug,[Nt]:[{ref:Lg},"supportsFIPS"]},zT={ref:Lg},kT={fn:Vi,[Nt]:[!0,{fn:Ug,[Nt]:[zT,"supportsDualStack"]}]},MT=[UT],$T=[BT],FT=[{ref:"Region"}],sL={version:"1.0",parameters:{Region:PT,UseDualStack:NT,UseFIPS:NT,Endpoint:PT},rules:[{conditions:[{fn:IT,[Nt]:[DT]}],rules:[{conditions:MT,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Fs},{conditions:$T,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Fs},{endpoint:{url:DT,properties:Pt,headers:Pt},type:Ls}],type:Nn},{conditions:[{fn:IT,[Nt]:FT}],rules:[{conditions:[{fn:"aws.partition",[Nt]:FT,assign:Lg}],rules:[{conditions:[UT,BT],rules:[{conditions:[{fn:Vi,[Nt]:[!0,OT]},kT],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pt,headers:Pt},type:Ls}],type:Nn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Fs}],type:Nn},{conditions:MT,rules:[{conditions:[{fn:Vi,[Nt]:[OT,!0]}],rules:[{conditions:[{fn:"stringEquals",[Nt]:[{fn:Ug,[Nt]:[zT,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:Pt,headers:Pt},type:Ls},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Pt,headers:Pt},type:Ls}],type:Nn},{error:"FIPS is enabled but this partition does not support FIPS",type:Fs}],type:Nn},{conditions:$T,rules:[{conditions:[kT],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Pt,headers:Pt},type:Ls}],type:Nn},{error:"DualStack is enabled but this partition does not support DualStack",type:Fs}],type:Nn},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Pt,headers:Pt},type:Ls}],type:Nn}],type:Nn},{error:"Invalid Configuration: Missing Region",type:Fs}]},jT=sL});var qT,Us,oL,VT,GT=x(()=>{c();qT=C(bs()),Us=C(Hr());HT();oL=new Us.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),VT=(e,n={})=>oL.get(e,()=>(0,Us.resolveEndpoint)(jT,{endpointParams:e,logger:n.logger}));Us.customEndpointFunctions.aws=qT.awsEndpointFunctions});var WT,KT,Yl,Jl,XT,YT=x(()=>{c();We();yt();WT=C(fe()),KT=C(er()),Yl=C(Qe()),Jl=C(Je());Ng();GT();XT=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Yl.fromBase64,base64Encoder:e?.base64Encoder??Yl.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??VT,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??gT,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new St},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new bn}],logger:e?.logger??new WT.NoOpLogger,serviceId:e?.serviceId??"SSO OIDC",urlParser:e?.urlParser??KT.parseUrl,utf8Decoder:e?.utf8Decoder??Jl.fromUtf8,utf8Encoder:e?.utf8Encoder??Jl.toUtf8})});var Gi=O(ev=>{"use strict";c();var iL=It(),JT=An(),aL=ut(),cL="AWS_EXECUTION_ENV",QT="AWS_REGION",ZT="AWS_DEFAULT_REGION",lL="AWS_EC2_METADATA_DISABLED",dL=["in-region","cross-region","mobile","standard","legacy"],uL="/latest/meta-data/placement/region",fL="AWS_DEFAULTS_MODE",mL="defaults_mode",pL={environmentVariableSelector:e=>e[fL],configFileSelector:e=>e[mL],default:"legacy"},hL=({region:e=JT.loadConfig(iL.NODE_REGION_CONFIG_OPTIONS),defaultsMode:n=JT.loadConfig(pL)}={})=>aL.memoize(async()=>{let t=typeof n=="function"?await n():n;switch(t?.toLowerCase()){case"auto":return gL(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(t?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${dL.join(", ")}, got ${t}`)}}),gL=async e=>{if(e){let n=typeof e=="function"?await e():e,t=await yL();return t?n===t?"in-region":"cross-region":"standard"}return"standard"},yL=async()=>{if(process.env[cL]&&(process.env[QT]||process.env[ZT]))return process.env[QT]??process.env[ZT];if(!process.env[lL])try{let{getInstanceMetadataEndpoint:e,httpRequest:n}=await Promise.resolve().then(()=>C(Bi())),t=await e();return(await n({...t,path:uL})).toString()}catch{}};ev.resolveDefaultsModeConfig=hL});var Ql,Sr,tv,Zl,yr,ed,nv,rv,sv,ov,iv,av,cv=x(()=>{c();Og();We();Ql=C(ji()),Sr=C(It()),tv=C(Hi()),Zl=C(Pn()),yr=C(An()),ed=C(kr()),nv=C(qi()),rv=C(ks());YT();sv=C(fe()),ov=C(Gi()),iv=C(fe()),av=e=>{(0,iv.emitWarningIfUnsupportedVersion)(process.version);let n=(0,ov.resolveDefaultsModeConfig)(e),t=()=>n().then(sv.loadConfigsForDefaultMode),r=XT(e);ws(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,yr.loadConfig)(Rs,s),bodyLengthChecker:e?.bodyLengthChecker??nv.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,Ql.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:Xl.version}),maxAttempts:e?.maxAttempts??(0,yr.loadConfig)(Zl.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,yr.loadConfig)(Sr.NODE_REGION_CONFIG_OPTIONS,{...Sr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:ed.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,yr.loadConfig)({...Zl.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||rv.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??tv.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??ed.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,yr.loadConfig)(Sr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,yr.loadConfig)(Sr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,yr.loadConfig)(Ql.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var dv=O(Bs=>{"use strict";c();Object.defineProperty(Bs,"__esModule",{value:!0});Bs.warning=void 0;Bs.stsRegionDefaultResolver=EL;var lv=It(),SL=An();function EL(e={}){return(0,SL.loadConfig)({...lv.NODE_REGION_CONFIG_OPTIONS,async default(){return Bs.warning.silence||console.warn("@aws-sdk - WARN - default STS region of us-east-1 used. See @aws-sdk/credential-providers README and set a region explicitly."),"us-east-1"}},{...lv.NODE_REGION_CONFIG_FILE_OPTIONS,...e})}Bs.warning={silence:!1}});var zs=O(an=>{"use strict";c();var Wi=It(),uv=dv(),_L=e=>({setRegion(n){e.region=n},region(){return e.region}}),bL=e=>({region:e.region()});Object.defineProperty(an,"NODE_REGION_CONFIG_FILE_OPTIONS",{enumerable:!0,get:function(){return Wi.NODE_REGION_CONFIG_FILE_OPTIONS}});Object.defineProperty(an,"NODE_REGION_CONFIG_OPTIONS",{enumerable:!0,get:function(){return Wi.NODE_REGION_CONFIG_OPTIONS}});Object.defineProperty(an,"REGION_ENV_NAME",{enumerable:!0,get:function(){return Wi.REGION_ENV_NAME}});Object.defineProperty(an,"REGION_INI_NAME",{enumerable:!0,get:function(){return Wi.REGION_INI_NAME}});Object.defineProperty(an,"resolveRegionConfig",{enumerable:!0,get:function(){return Wi.resolveRegionConfig}});an.getAwsRegionExtensionConfiguration=_L;an.resolveAwsRegionExtensionConfiguration=bL;Object.keys(uv).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(an,e)&&Object.defineProperty(an,e,{enumerable:!0,get:function(){return uv[e]}})})});var fv,mv,pv=x(()=>{c();fv=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(i=>i.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},mv=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var td,nd,rd,hv,gv=x(()=>{c();td=C(zs()),nd=C(Ne()),rd=C(fe());pv();hv=(e,n)=>{let t=Object.assign((0,td.getAwsRegionExtensionConfiguration)(e),(0,rd.getDefaultExtensionConfiguration)(e),(0,nd.getHttpHandlerExtensionConfiguration)(e),fv(e));return n.forEach(r=>r.configure(t)),Object.assign(e,(0,td.resolveAwsRegionExtensionConfiguration)(t),(0,rd.resolveDefaultRuntimeConfig)(t),(0,nd.resolveHttpHandlerRuntimeConfig)(t),mv(t))}});var sd,yv,Sv,od,Ev,_v,bv,id,Bg,Ki,zg=x(()=>{c();sd=C(Jo()),yv=C(Qo()),Sv=C(Zo()),od=C(Ds()),Ev=C(It());yt();_v=C(Oi()),bv=C(fr()),id=C(Pn()),Bg=C(fe());Ng();Dg();cv();gv();Ki=class extends Bg.Client{config;constructor(...[n]){let t=av(n||{});super(t),this.initConfig=t;let r=ST(t),s=(0,od.resolveUserAgentConfig)(r),o=(0,id.resolveRetryConfig)(s),i=(0,Ev.resolveRegionConfig)(o),a=(0,sd.resolveHostHeaderConfig)(i),l=(0,bv.resolveEndpointConfig)(a),d=yT(l),m=hv(d,n?.extensions||[]);this.config=m,this.middlewareStack.use((0,od.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,id.getRetryPlugin)(this.config)),this.middlewareStack.use((0,_v.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,sd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,yv.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,Sv.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ti(this.config,{httpAuthSchemeParametersProvider:hT,identityProviderConfigProvider:async h=>new zr({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(ni(this.config))}destroy(){super.destroy()}}});var wv,Ke,ad=x(()=>{c();wv=C(fe()),Ke=class e extends wv.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}}});var es,wL,Xi,Yi,jg,Hg,Ji,Qi,Zi,ea,xL,ta,na,ra,sa,oa,cd=x(()=>{c();es=C(fe());ad();wL={KMS_ACCESS_DENIED:"KMS_AccessDeniedException"},Xi=class e extends Ke{name="AccessDeniedException";$fault="client";error;reason;error_description;constructor(n){super({name:"AccessDeniedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.reason=n.reason,this.error_description=n.error_description}},Yi=class e extends Ke{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(n){super({name:"AuthorizationPendingException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},jg=e=>({...e,...e.clientSecret&&{clientSecret:es.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:es.SENSITIVE_STRING},...e.codeVerifier&&{codeVerifier:es.SENSITIVE_STRING}}),Hg=e=>({...e,...e.accessToken&&{accessToken:es.SENSITIVE_STRING},...e.refreshToken&&{refreshToken:es.SENSITIVE_STRING},...e.idToken&&{idToken:es.SENSITIVE_STRING}}),Ji=class e extends Ke{name="ExpiredTokenException";$fault="client";error;error_description;constructor(n){super({name:"ExpiredTokenException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},Qi=class e extends Ke{name="InternalServerException";$fault="server";error;error_description;constructor(n){super({name:"InternalServerException",$fault:"server",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},Zi=class e extends Ke{name="InvalidClientException";$fault="client";error;error_description;constructor(n){super({name:"InvalidClientException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},ea=class e extends Ke{name="InvalidGrantException";$fault="client";error;error_description;constructor(n){super({name:"InvalidGrantException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},xL={KMS_DISABLED_KEY:"KMS_DisabledException",KMS_INVALID_KEY_USAGE:"KMS_InvalidKeyUsageException",KMS_INVALID_STATE:"KMS_InvalidStateException",KMS_KEY_NOT_FOUND:"KMS_NotFoundException"},ta=class e extends Ke{name="InvalidRequestException";$fault="client";error;reason;error_description;constructor(n){super({name:"InvalidRequestException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.reason=n.reason,this.error_description=n.error_description}},na=class e extends Ke{name="InvalidScopeException";$fault="client";error;error_description;constructor(n){super({name:"InvalidScopeException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},ra=class e extends Ke{name="SlowDownException";$fault="client";error;error_description;constructor(n){super({name:"SlowDownException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},sa=class e extends Ke{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(n){super({name:"UnauthorizedClientException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}},oa=class e extends Ke{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(n){super({name:"UnsupportedGrantTypeException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.error=n.error,this.error_description=n.error_description}}});var $,xv,Cv,CL,RL,TL,vL,AL,IL,PL,NL,DL,OL,kL,ML,$L,Dt,Rv=x(()=>{c();We();yt();$=C(fe());cd();ad();xv=async(e,n)=>{let t=yi(e,n),r={"content-type":"application/json"};t.bp("/token");let s;return s=JSON.stringify((0,$.take)(e,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:o=>(0,$._json)(o)})),t.m("POST").h(r).b(s),t.build()},Cv=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return CL(e,n);let t=(0,$.map)({$metadata:Dt(e)}),r=(0,$.expectNonNull)((0,$.expectObject)(await Ps(e.body,n)),"body"),s=(0,$.take)(r,{accessToken:$.expectString,expiresIn:$.expectInt32,idToken:$.expectString,refreshToken:$.expectString,tokenType:$.expectString});return Object.assign(t,s),t},CL=async(e,n)=>{let t={...e,body:await Lh(e.body,n)},r=Kr(e,t.body);switch(r){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await TL(t,n);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await vL(t,n);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await AL(t,n);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await IL(t,n);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await PL(t,n);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await NL(t,n);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await DL(t,n);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await OL(t,n);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await kL(t,n);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ML(t,n);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await $L(t,n);default:let s=t.body;return RL({output:e,parsedBody:s,errorCode:r})}},RL=(0,$.withBaseException)(Ke),TL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString,reason:$.expectString});Object.assign(t,s);let o=new Xi({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},vL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new Yi({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},AL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new Ji({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},IL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new Qi({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},PL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new Zi({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},NL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new ea({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},DL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString,reason:$.expectString});Object.assign(t,s);let o=new ta({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},OL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new na({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},kL=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new ra({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},ML=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new sa({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},$L=async(e,n)=>{let t=(0,$.map)({}),r=e.body,s=(0,$.take)(r,{error:$.expectString,error_description:$.expectString});Object.assign(t,s);let o=new oa({$metadata:Dt(e),...t});return(0,$.decorateServiceException)(o,e.body)},Dt=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]})});var Tv,vv,qg,ia,Vg=x(()=>{c();Tv=C(fr()),vv=C(Xn()),qg=C(fe());Dg();cd();Rv();ia=class extends qg.Command.classBuilder().ep(ET).m(function(n,t,r,s){return[(0,vv.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Tv.getEndpointPlugin)(r,n.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(jg,Hg).ser(xv).de(Cv).build(){}});var Av,FL,ld,Iv=x(()=>{c();Av=C(fe());Vg();zg();FL={CreateTokenCommand:ia},ld=class extends Ki{};(0,Av.createAggregatedClient)(FL,ld)});var Pv=x(()=>{c();Vg()});var Nv=x(()=>{c();cd()});var Gg={};Tt(Gg,{$Command:()=>qg.Command,AccessDeniedException:()=>Xi,AccessDeniedExceptionReason:()=>wL,AuthorizationPendingException:()=>Yi,CreateTokenCommand:()=>ia,CreateTokenRequestFilterSensitiveLog:()=>jg,CreateTokenResponseFilterSensitiveLog:()=>Hg,ExpiredTokenException:()=>Ji,InternalServerException:()=>Qi,InvalidClientException:()=>Zi,InvalidGrantException:()=>ea,InvalidRequestException:()=>ta,InvalidRequestExceptionReason:()=>xL,InvalidScopeException:()=>na,SSOOIDC:()=>ld,SSOOIDCClient:()=>Ki,SSOOIDCServiceException:()=>Ke,SlowDownException:()=>ra,UnauthorizedClientException:()=>sa,UnsupportedGrantTypeException:()=>oa,__Client:()=>Bg.Client});var Wg=x(()=>{c();zg();Iv();Pv();Nv();ad()});var Mv=O(ca=>{"use strict";c();var LL=(Kt(),we(nr)),UL=(lh(),we($x)),xt=ut(),aa=vn(),BL=Ee("fs"),zL=({logger:e,signingName:n}={})=>async()=>{if(e?.debug?.("@aws-sdk/token-providers - fromEnvSigningName"),!n)throw new xt.TokenProviderError("Please pass 'signingName' to compute environment variable key",{logger:e});let t=UL.getBearerTokenEnvKey(n);if(!(t in process.env))throw new xt.TokenProviderError(`Token not present in '${t}' environment variable`,{logger:e});let r={token:process.env[t]};return LL.setTokenFeature(r,"BEARER_SERVICE_ENV_VARS","3"),r},jL=300*1e3,Kg="To refresh this SSO session run 'aws sso login' with the corresponding profile.",HL=async(e,n={})=>{let{SSOOIDCClient:t}=await Promise.resolve().then(()=>(Wg(),Gg)),r=o=>n.clientConfig?.[o]??n.parentClientConfig?.[o];return new t(Object.assign({},n.clientConfig??{},{region:e??n.clientConfig?.region,logger:r("logger"),userAgentAppId:r("userAgentAppId")}))},qL=async(e,n,t={})=>{let{CreateTokenCommand:r}=await Promise.resolve().then(()=>(Wg(),Gg));return(await HL(n,t)).send(new r({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}))},Dv=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new xt.TokenProviderError(`Token is expired. ${Kg}`,!1)},ts=(e,n,t=!1)=>{if(typeof n>"u")throw new xt.TokenProviderError(`Value not present for '${e}' in SSO Token${t?". Cannot refresh":""}. ${Kg}`,!1)},{writeFile:VL}=BL.promises,GL=(e,n)=>{let t=aa.getSSOTokenFilepath(e),r=JSON.stringify(n,null,2);return VL(t,r)},Ov=new Date(0),kv=(e={})=>async({callerClientConfig:n}={})=>{let t={...e,parentClientConfig:{...n,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/token-providers - fromSso");let r=await aa.parseKnownFiles(t),s=aa.getProfileName({profile:t.profile??n?.profile}),o=r[s];if(o){if(!o.sso_session)throw new xt.TokenProviderError(`Profile '${s}' is missing required property 'sso_session'.`)}else throw new xt.TokenProviderError(`Profile '${s}' could not be found in shared credentials file.`,!1);let i=o.sso_session,l=(await aa.loadSsoSessionData(t))[i];if(!l)throw new xt.TokenProviderError(`Sso session '${i}' could not be found in shared credentials file.`,!1);for(let E of["sso_start_url","sso_region"])if(!l[E])throw new xt.TokenProviderError(`Sso session '${i}' is missing required property '${E}'.`,!1);l.sso_start_url;let d=l.sso_region,m;try{m=await aa.getSSOTokenFromFile(i)}catch{throw new xt.TokenProviderError(`The SSO session token associated with profile=${s} was not found or is invalid. ${Kg}`,!1)}ts("accessToken",m.accessToken),ts("expiresAt",m.expiresAt);let{accessToken:h,expiresAt:y}=m,g={token:h,expiration:new Date(y)};if(g.expiration.getTime()-Date.now()>jL)return g;if(Date.now()-Ov.getTime()<30*1e3)return Dv(g),g;ts("clientId",m.clientId,!0),ts("clientSecret",m.clientSecret,!0),ts("refreshToken",m.refreshToken,!0);try{Ov.setTime(Date.now());let E=await qL(m,d,t);ts("accessToken",E.accessToken),ts("expiresIn",E.expiresIn);let R=new Date(Date.now()+E.expiresIn*1e3);try{await GL(i,{...m,accessToken:E.accessToken,expiresAt:R.toISOString(),refreshToken:E.refreshToken})}catch{}return{token:E.accessToken,expiration:R}}catch{return Dv(g),g}},WL=({token:e,logger:n})=>async()=>{if(n?.debug("@aws-sdk/token-providers - fromStatic"),!e||!e.token)throw new xt.TokenProviderError("Please pass a valid token to fromStatic",!1);return e},KL=(e={})=>xt.memoize(xt.chain(kv(e),async()=>{throw new xt.TokenProviderError("Could not load token from any providers",!1)}),n=>n.expiration!==void 0&&n.expiration.getTime()-Date.now()<3e5,n=>n.expiration!==void 0);ca.fromEnvSigningName=zL;ca.fromSso=kv;ca.fromStatic=WL;ca.nodeProvider=KL});var Yg=O(Er=>{"use strict";c();Object.defineProperty(Er,"__esModule",{value:!0});Er.resolveHttpAuthSchemeConfig=Er.defaultSSOHttpAuthSchemeProvider=Er.defaultSSOHttpAuthSchemeParametersProvider=void 0;var XL=(We(),we(rn)),Xg=pt(),YL=async(e,n,t)=>({operation:(0,Xg.getSmithyContext)(n).operation,region:await(0,Xg.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});Er.defaultSSOHttpAuthSchemeParametersProvider=YL;function JL(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function dd(e){return{schemeId:"smithy.api#noAuth"}}var QL=e=>{let n=[];switch(e.operation){case"GetRoleCredentials":{n.push(dd(e));break}case"ListAccountRoles":{n.push(dd(e));break}case"ListAccounts":{n.push(dd(e));break}case"Logout":{n.push(dd(e));break}default:n.push(JL(e))}return n};Er.defaultSSOHttpAuthSchemeProvider=QL;var ZL=e=>{let n=(0,XL.resolveAwsSdkSigV4Config)(e);return Object.assign(n,{authSchemePreference:(0,Xg.normalizeProvider)(e.authSchemePreference??[])})};Er.resolveHttpAuthSchemeConfig=ZL});var $v=O((Sne,eU)=>{eU.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.926.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.926.0","@aws-sdk/middleware-host-header":"3.922.0","@aws-sdk/middleware-logger":"3.922.0","@aws-sdk/middleware-recursion-detection":"3.922.0","@aws-sdk/middleware-user-agent":"3.926.0","@aws-sdk/region-config-resolver":"3.925.0","@aws-sdk/types":"3.922.0","@aws-sdk/util-endpoints":"3.922.0","@aws-sdk/util-user-agent-browser":"3.922.0","@aws-sdk/util-user-agent-node":"3.926.0","@smithy/config-resolver":"^4.4.2","@smithy/core":"^3.17.2","@smithy/fetch-http-handler":"^5.3.5","@smithy/hash-node":"^4.2.4","@smithy/invalid-dependency":"^4.2.4","@smithy/middleware-content-length":"^4.2.4","@smithy/middleware-endpoint":"^4.3.6","@smithy/middleware-retry":"^4.4.6","@smithy/middleware-serde":"^4.2.4","@smithy/middleware-stack":"^4.2.4","@smithy/node-config-provider":"^4.3.4","@smithy/node-http-handler":"^4.4.4","@smithy/protocol-http":"^5.3.4","@smithy/smithy-client":"^4.9.2","@smithy/types":"^4.8.1","@smithy/url-parser":"^4.2.4","@smithy/util-base64":"^4.3.0","@smithy/util-body-length-browser":"^4.2.0","@smithy/util-body-length-node":"^4.2.1","@smithy/util-defaults-mode-browser":"^4.3.5","@smithy/util-defaults-mode-node":"^4.2.8","@smithy/util-endpoints":"^3.2.4","@smithy/util-middleware":"^4.2.4","@smithy/util-retry":"^4.2.4","@smithy/util-utf8":"^4.2.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.8.3"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var Jv=O(ud=>{"use strict";c();Object.defineProperty(ud,"__esModule",{value:!0});ud.ruleSet=void 0;var Wv="required",kt="fn",Mt="argv",qs="ref",Fv=!0,Lv="isSet",la="booleanEquals",js="error",Hs="endpoint",Dn="tree",Jg="PartitionResult",Qg="getAttr",Uv={[Wv]:!1,type:"string"},Bv={[Wv]:!0,default:!1,type:"boolean"},zv={[qs]:"Endpoint"},Kv={[kt]:la,[Mt]:[{[qs]:"UseFIPS"},!0]},Xv={[kt]:la,[Mt]:[{[qs]:"UseDualStack"},!0]},Ot={},jv={[kt]:Qg,[Mt]:[{[qs]:Jg},"supportsFIPS"]},Yv={[qs]:Jg},Hv={[kt]:la,[Mt]:[!0,{[kt]:Qg,[Mt]:[Yv,"supportsDualStack"]}]},qv=[Kv],Vv=[Xv],Gv=[{[qs]:"Region"}],tU={version:"1.0",parameters:{Region:Uv,UseDualStack:Bv,UseFIPS:Bv,Endpoint:Uv},rules:[{conditions:[{[kt]:Lv,[Mt]:[zv]}],rules:[{conditions:qv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:js},{conditions:Vv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:js},{endpoint:{url:zv,properties:Ot,headers:Ot},type:Hs}],type:Dn},{conditions:[{[kt]:Lv,[Mt]:Gv}],rules:[{conditions:[{[kt]:"aws.partition",[Mt]:Gv,assign:Jg}],rules:[{conditions:[Kv,Xv],rules:[{conditions:[{[kt]:la,[Mt]:[Fv,jv]},Hv],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:Hs}],type:Dn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:js}],type:Dn},{conditions:qv,rules:[{conditions:[{[kt]:la,[Mt]:[jv,Fv]}],rules:[{conditions:[{[kt]:"stringEquals",[Mt]:[{[kt]:Qg,[Mt]:[Yv,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:Ot,headers:Ot},type:Hs},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:Hs}],type:Dn},{error:"FIPS is enabled but this partition does not support FIPS",type:js}],type:Dn},{conditions:Vv,rules:[{conditions:[Hv],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ot,headers:Ot},type:Hs}],type:Dn},{error:"DualStack is enabled but this partition does not support DualStack",type:js}],type:Dn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ot,headers:Ot},type:Hs}],type:Dn}],type:Dn},{error:"Invalid Configuration: Missing Region",type:js}]};ud.ruleSet=tU});var Qv=O(fd=>{"use strict";c();Object.defineProperty(fd,"__esModule",{value:!0});fd.defaultEndpointResolver=void 0;var nU=bs(),Zg=Hr(),rU=Jv(),sU=new Zg.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),oU=(e,n={})=>sU.get(e,()=>(0,Zg.resolveEndpoint)(rU.ruleSet,{endpointParams:e,logger:n.logger}));fd.defaultEndpointResolver=oU;Zg.customEndpointFunctions.aws=nU.awsEndpointFunctions});var tA=O(md=>{"use strict";c();Object.defineProperty(md,"__esModule",{value:!0});md.getRuntimeConfig=void 0;var iU=(We(),we(rn)),aU=(yt(),we(Es)),cU=fe(),lU=er(),Zv=Qe(),eA=Je(),dU=Yg(),uU=Qv(),fU=e=>({apiVersion:"2019-06-10",base64Decoder:e?.base64Decoder??Zv.fromBase64,base64Encoder:e?.base64Encoder??Zv.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??uU.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??dU.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new iU.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new aU.NoAuthSigner}],logger:e?.logger??new cU.NoOpLogger,serviceId:e?.serviceId??"SSO",urlParser:e?.urlParser??lU.parseUrl,utf8Decoder:e?.utf8Decoder??eA.fromUtf8,utf8Encoder:e?.utf8Encoder??eA.toUtf8});md.getRuntimeConfig=fU});var iA=O(hd=>{"use strict";c();Object.defineProperty(hd,"__esModule",{value:!0});hd.getRuntimeConfig=void 0;var mU=(pi(),we(mi)),pU=mU.__importDefault($v()),nA=(We(),we(rn)),rA=ji(),pd=It(),hU=Hi(),sA=Pn(),ns=An(),oA=kr(),gU=qi(),yU=ks(),SU=tA(),EU=fe(),_U=Gi(),bU=fe(),wU=e=>{(0,bU.emitWarningIfUnsupportedVersion)(process.version);let n=(0,_U.resolveDefaultsModeConfig)(e),t=()=>n().then(EU.loadConfigsForDefaultMode),r=(0,SU.getRuntimeConfig)(e);(0,nA.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,ns.loadConfig)(nA.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??gU.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,rA.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:pU.default.version}),maxAttempts:e?.maxAttempts??(0,ns.loadConfig)(sA.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,ns.loadConfig)(pd.NODE_REGION_CONFIG_OPTIONS,{...pd.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:oA.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,ns.loadConfig)({...sA.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||yU.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??hU.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??oA.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,ns.loadConfig)(pd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,ns.loadConfig)(pd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,ns.loadConfig)(rA.NODE_APP_ID_CONFIG_OPTIONS,s)}};hd.getRuntimeConfig=wU});var RA=O(Le=>{"use strict";c();var aA=Jo(),xU=Qo(),CU=Zo(),cA=Ds(),RU=It(),On=(yt(),we(Es)),TU=Oi(),ma=fr(),lA=Pn(),X=fe(),dA=Yg(),vU=iA(),uA=zs(),fA=Ne(),xd=Xn(),da=(We(),we(rn)),AU=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),Cd={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},IU=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(i=>i.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},PU=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),NU=(e,n)=>{let t=Object.assign(uA.getAwsRegionExtensionConfiguration(e),X.getDefaultExtensionConfiguration(e),fA.getHttpHandlerExtensionConfiguration(e),IU(e));return n.forEach(r=>r.configure(t)),Object.assign(e,uA.resolveAwsRegionExtensionConfiguration(t),X.resolveDefaultRuntimeConfig(t),fA.resolveHttpHandlerRuntimeConfig(t),PU(t))},Vs=class extends X.Client{config;constructor(...[n]){let t=vU.getRuntimeConfig(n||{});super(t),this.initConfig=t;let r=AU(t),s=cA.resolveUserAgentConfig(r),o=lA.resolveRetryConfig(s),i=RU.resolveRegionConfig(o),a=aA.resolveHostHeaderConfig(i),l=ma.resolveEndpointConfig(a),d=dA.resolveHttpAuthSchemeConfig(l),m=NU(d,n?.extensions||[]);this.config=m,this.middlewareStack.use(cA.getUserAgentPlugin(this.config)),this.middlewareStack.use(lA.getRetryPlugin(this.config)),this.middlewareStack.use(TU.getContentLengthPlugin(this.config)),this.middlewareStack.use(aA.getHostHeaderPlugin(this.config)),this.middlewareStack.use(xU.getLoggerPlugin(this.config)),this.middlewareStack.use(CU.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(On.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:dA.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new On.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(On.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},_r=class e extends X.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}},gd=class e extends _r{name="InvalidRequestException";$fault="client";constructor(n){super({name:"InvalidRequestException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},yd=class e extends _r{name="ResourceNotFoundException";$fault="client";constructor(n){super({name:"ResourceNotFoundException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Sd=class e extends _r{name="TooManyRequestsException";$fault="client";constructor(n){super({name:"TooManyRequestsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Ed=class e extends _r{name="UnauthorizedException";$fault="client";constructor(n){super({name:"UnauthorizedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},mA=e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),pA=e=>({...e,...e.secretAccessKey&&{secretAccessKey:X.SENSITIVE_STRING},...e.sessionToken&&{sessionToken:X.SENSITIVE_STRING}}),hA=e=>({...e,...e.roleCredentials&&{roleCredentials:pA(e.roleCredentials)}}),gA=e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),yA=e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),SA=e=>({...e,...e.accessToken&&{accessToken:X.SENSITIVE_STRING}}),DU=async(e,n)=>{let t=On.requestBuilder(e,n),r=X.map({},X.isSerializableHeaderValue,{[vd]:e[Td]});t.bp("/federation/credentials");let s=X.map({[GU]:[,X.expectNonNull(e[VU],"roleName")],[_A]:[,X.expectNonNull(e[EA],"accountId")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},OU=async(e,n)=>{let t=On.requestBuilder(e,n),r=X.map({},X.isSerializableHeaderValue,{[vd]:e[Td]});t.bp("/assignment/roles");let s=X.map({[CA]:[,e[xA]],[wA]:[()=>e.maxResults!==void 0,()=>e[bA].toString()],[_A]:[,X.expectNonNull(e[EA],"accountId")]});return t.m("GET").h(r).q(s).b(void 0),t.build()},kU=async(e,n)=>{let t=On.requestBuilder(e,n),r=X.map({},X.isSerializableHeaderValue,{[vd]:e[Td]});t.bp("/assignment/accounts");let s=X.map({[CA]:[,e[xA]],[wA]:[()=>e.maxResults!==void 0,()=>e[bA].toString()]});return t.m("GET").h(r).q(s).b(void 0),t.build()},MU=async(e,n)=>{let t=On.requestBuilder(e,n),r=X.map({},X.isSerializableHeaderValue,{[vd]:e[Td]});return t.bp("/logout"),t.m("POST").h(r).b(void 0),t.build()},$U=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rd(e,n);let t=X.map({$metadata:br(e)}),r=X.expectNonNull(X.expectObject(await da.parseJsonBody(e.body,n)),"body"),s=X.take(r,{roleCredentials:X._json});return Object.assign(t,s),t},FU=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rd(e,n);let t=X.map({$metadata:br(e)}),r=X.expectNonNull(X.expectObject(await da.parseJsonBody(e.body,n)),"body"),s=X.take(r,{nextToken:X.expectString,roleList:X._json});return Object.assign(t,s),t},LU=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rd(e,n);let t=X.map({$metadata:br(e)}),r=X.expectNonNull(X.expectObject(await da.parseJsonBody(e.body,n)),"body"),s=X.take(r,{accountList:X._json,nextToken:X.expectString});return Object.assign(t,s),t},UU=async(e,n)=>{if(e.statusCode!==200&&e.statusCode>=300)return Rd(e,n);let t=X.map({$metadata:br(e)});return await X.collectBody(e.body,n),t},Rd=async(e,n)=>{let t={...e,body:await da.parseJsonErrorBody(e.body,n)},r=da.loadRestJsonErrorCode(e,t.body);switch(r){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await zU(t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await jU(t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await HU(t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await qU(t);default:let s=t.body;return BU({output:e,parsedBody:s,errorCode:r})}},BU=X.withBaseException(_r),zU=async(e,n)=>{let t=X.map({}),r=e.body,s=X.take(r,{message:X.expectString});Object.assign(t,s);let o=new gd({$metadata:br(e),...t});return X.decorateServiceException(o,e.body)},jU=async(e,n)=>{let t=X.map({}),r=e.body,s=X.take(r,{message:X.expectString});Object.assign(t,s);let o=new yd({$metadata:br(e),...t});return X.decorateServiceException(o,e.body)},HU=async(e,n)=>{let t=X.map({}),r=e.body,s=X.take(r,{message:X.expectString});Object.assign(t,s);let o=new Sd({$metadata:br(e),...t});return X.decorateServiceException(o,e.body)},qU=async(e,n)=>{let t=X.map({}),r=e.body,s=X.take(r,{message:X.expectString});Object.assign(t,s);let o=new Ed({$metadata:br(e),...t});return X.decorateServiceException(o,e.body)},br=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),EA="accountId",Td="accessToken",_A="account_id",bA="maxResults",wA="max_result",xA="nextToken",CA="next_token",VU="roleName",GU="role_name",vd="x-amz-sso_bearer_token",_d=class extends X.Command.classBuilder().ep(Cd).m(function(n,t,r,s){return[xd.getSerdePlugin(r,this.serialize,this.deserialize),ma.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(mA,hA).ser(DU).de($U).build(){},ua=class extends X.Command.classBuilder().ep(Cd).m(function(n,t,r,s){return[xd.getSerdePlugin(r,this.serialize,this.deserialize),ma.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(gA,void 0).ser(OU).de(FU).build(){},fa=class extends X.Command.classBuilder().ep(Cd).m(function(n,t,r,s){return[xd.getSerdePlugin(r,this.serialize,this.deserialize),ma.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(yA,void 0).ser(kU).de(LU).build(){},bd=class extends X.Command.classBuilder().ep(Cd).m(function(n,t,r,s){return[xd.getSerdePlugin(r,this.serialize,this.deserialize),ma.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(SA,void 0).ser(MU).de(UU).build(){},WU={GetRoleCredentialsCommand:_d,ListAccountRolesCommand:ua,ListAccountsCommand:fa,LogoutCommand:bd},wd=class extends Vs{};X.createAggregatedClient(WU,wd);var KU=On.createPaginator(Vs,ua,"nextToken","nextToken","maxResults"),XU=On.createPaginator(Vs,fa,"nextToken","nextToken","maxResults");Object.defineProperty(Le,"$Command",{enumerable:!0,get:function(){return X.Command}});Object.defineProperty(Le,"__Client",{enumerable:!0,get:function(){return X.Client}});Le.GetRoleCredentialsCommand=_d;Le.GetRoleCredentialsRequestFilterSensitiveLog=mA;Le.GetRoleCredentialsResponseFilterSensitiveLog=hA;Le.InvalidRequestException=gd;Le.ListAccountRolesCommand=ua;Le.ListAccountRolesRequestFilterSensitiveLog=gA;Le.ListAccountsCommand=fa;Le.ListAccountsRequestFilterSensitiveLog=yA;Le.LogoutCommand=bd;Le.LogoutRequestFilterSensitiveLog=SA;Le.ResourceNotFoundException=yd;Le.RoleCredentialsFilterSensitiveLog=pA;Le.SSO=wd;Le.SSOClient=Vs;Le.SSOServiceException=_r;Le.TooManyRequestsException=Sd;Le.UnauthorizedException=Ed;Le.paginateListAccountRoles=KU;Le.paginateListAccounts=XU});var vA=O(ey=>{"use strict";c();var TA=RA();Object.defineProperty(ey,"GetRoleCredentialsCommand",{enumerable:!0,get:function(){return TA.GetRoleCredentialsCommand}});Object.defineProperty(ey,"SSOClient",{enumerable:!0,get:function(){return TA.SSOClient}})});var ty=O(Id=>{"use strict";c();var Xt=ut(),Ad=vn(),AA=(Kt(),we(nr)),YU=Mv(),PA=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),pa=!1,IA=async({ssoStartUrl:e,ssoSession:n,ssoAccountId:t,ssoRegion:r,ssoRoleName:s,ssoClient:o,clientConfig:i,parentClientConfig:a,profile:l,filepath:d,configFilepath:m,ignoreCache:h,logger:y})=>{let g,E="To refresh this SSO session run aws sso login with the corresponding profile.";if(n)try{let Be=await YU.fromSso({profile:l,filepath:d,configFilepath:m,ignoreCache:h})();g={accessToken:Be.token,expiresAt:new Date(Be.expiration).toISOString()}}catch(Be){throw new Xt.CredentialsProviderError(Be.message,{tryNextLink:pa,logger:y})}else try{g=await Ad.getSSOTokenFromFile(e)}catch{throw new Xt.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${E}`,{tryNextLink:pa,logger:y})}if(new Date(g.expiresAt).getTime()-Date.now()<=0)throw new Xt.CredentialsProviderError(`The SSO session associated with this profile has expired. ${E}`,{tryNextLink:pa,logger:y});let{accessToken:R}=g,{SSOClient:A,GetRoleCredentialsCommand:I}=await Promise.resolve().then(function(){return vA()}),M=o||new A(Object.assign({},i??{},{logger:i?.logger??a?.logger,region:i?.region??r,userAgentAppId:i?.userAgentAppId??a?.userAgentAppId})),ee;try{ee=await M.send(new I({accountId:t,roleName:s,accessToken:R}))}catch(Be){throw new Xt.CredentialsProviderError(Be,{tryNextLink:pa,logger:y})}let{roleCredentials:{accessKeyId:re,secretAccessKey:ae,sessionToken:Ie,expiration:Ue,credentialScope:de,accountId:ge}={}}=ee;if(!re||!ae||!Ie||!Ue)throw new Xt.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:pa,logger:y});let ve={accessKeyId:re,secretAccessKey:ae,sessionToken:Ie,expiration:new Date(Ue),...de&&{credentialScope:de},...ge&&{accountId:ge}};return n?AA.setCredentialFeature(ve,"CREDENTIALS_SSO","s"):AA.setCredentialFeature(ve,"CREDENTIALS_SSO_LEGACY","u"),ve},NA=(e,n)=>{let{sso_start_url:t,sso_account_id:r,sso_region:s,sso_role_name:o}=e;if(!t||!r||!s||!o)throw new Xt.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:n});return e},JU=(e={})=>async({callerClientConfig:n}={})=>{e.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e,{ssoClient:a}=e,l=Ad.getProfileName({profile:e.profile??n?.profile});if(!t&&!r&&!s&&!o&&!i){let m=(await Ad.parseKnownFiles(e))[l];if(!m)throw new Xt.CredentialsProviderError(`Profile ${l} was not found.`,{logger:e.logger});if(!PA(m))throw new Xt.CredentialsProviderError(`Profile ${l} is not configured with SSO credentials.`,{logger:e.logger});if(m?.sso_session){let I=(await Ad.loadSsoSessionData(e))[m.sso_session],M=` configurations in profile ${l} and sso-session ${m.sso_session}`;if(s&&s!==I.sso_region)throw new Xt.CredentialsProviderError("Conflicting SSO region"+M,{tryNextLink:!1,logger:e.logger});if(t&&t!==I.sso_start_url)throw new Xt.CredentialsProviderError("Conflicting SSO start_url"+M,{tryNextLink:!1,logger:e.logger});m.sso_region=I.sso_region,m.sso_start_url=I.sso_start_url}let{sso_start_url:h,sso_account_id:y,sso_region:g,sso_role_name:E,sso_session:R}=NA(m,e.logger);return IA({ssoStartUrl:h,ssoSession:R,ssoAccountId:y,ssoRegion:g,ssoRoleName:E,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}else{if(!t||!r||!s||!o)throw new Xt.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:e.logger});return IA({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:s,ssoRoleName:o,ssoClient:a,clientConfig:e.clientConfig,parentClientConfig:e.parentClientConfig,profile:l,filepath:e.filepath,configFilepath:e.configFilepath,ignoreCache:e.ignoreCache,logger:e.logger})}};Id.fromSSO=JU;Id.isSsoProfile=PA;Id.validateSsoProfile=NA});function QU(e){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:e.region},propertiesExtractor:(n,t)=>({signingProperties:{config:n,context:t}})}}function ZU(e){return{schemeId:"smithy.api#noAuth"}}var ha,DA,OA,eB,kA,ny=x(()=>{c();We();ha=C(pt());ga();DA=async(e,n,t)=>({operation:(0,ha.getSmithyContext)(n).operation,region:await(0,ha.normalizeProvider)(e.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});OA=e=>{let n=[];switch(e.operation){case"AssumeRoleWithWebIdentity":{n.push(ZU(e));break}default:n.push(QU(e))}return n},eB=e=>Object.assign(e,{stsClientCtor:cn}),kA=e=>{let n=eB(e),t=Gr(n);return Object.assign(t,{authSchemePreference:(0,ha.normalizeProvider)(e.authSchemePreference??[])})}});var MA,Pd,Nd=x(()=>{c();MA=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"}),Pd={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var GA,ie,be,wr,et,WA,KA,Oe,$A,ln,Gs,sy,FA,ry,XA,LA,tt,UA,YA,JA,at,Ct,BA,QA,ZA,zA,eI,jA,HA,qA,VA,tB,tI,nI=x(()=>{c();GA="required",ie="type",be="argv",wr="booleanEquals",et="stringEquals",WA="sigv4",KA="us-east-1",Oe="endpoint",$A="https://sts.{Region}.{PartitionResult#dnsSuffix}",ln="tree",Gs="error",sy="getAttr",FA={[GA]:!1,[ie]:"string"},ry={[GA]:!0,default:!1,[ie]:"boolean"},XA={ref:"Endpoint"},LA={fn:"isSet",[be]:[{ref:"Region"}]},tt={ref:"Region"},UA={fn:"aws.partition",[be]:[tt],assign:"PartitionResult"},YA={ref:"UseFIPS"},JA={ref:"UseDualStack"},at={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:WA,signingName:"sts",signingRegion:KA}]},headers:{}},Ct={},BA={conditions:[{fn:et,[be]:[tt,"aws-global"]}],[Oe]:at,[ie]:Oe},QA={fn:wr,[be]:[YA,!0]},ZA={fn:wr,[be]:[JA,!0]},zA={fn:sy,[be]:[{ref:"PartitionResult"},"supportsFIPS"]},eI={ref:"PartitionResult"},jA={fn:wr,[be]:[!0,{fn:sy,[be]:[eI,"supportsDualStack"]}]},HA=[{fn:"isSet",[be]:[XA]}],qA=[QA],VA=[ZA],tB={version:"1.0",parameters:{Region:FA,UseDualStack:ry,UseFIPS:ry,Endpoint:FA,UseGlobalEndpoint:ry},rules:[{conditions:[{fn:wr,[be]:[{ref:"UseGlobalEndpoint"},!0]},{fn:"not",[be]:HA},LA,UA,{fn:wr,[be]:[YA,!1]},{fn:wr,[be]:[JA,!1]}],rules:[{conditions:[{fn:et,[be]:[tt,"ap-northeast-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"ap-south-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"ap-southeast-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"ap-southeast-2"]}],endpoint:at,[ie]:Oe},BA,{conditions:[{fn:et,[be]:[tt,"ca-central-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"eu-central-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"eu-north-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"eu-west-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"eu-west-2"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"eu-west-3"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"sa-east-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,KA]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"us-east-2"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"us-west-1"]}],endpoint:at,[ie]:Oe},{conditions:[{fn:et,[be]:[tt,"us-west-2"]}],endpoint:at,[ie]:Oe},{endpoint:{url:$A,properties:{authSchemes:[{name:WA,signingName:"sts",signingRegion:"{Region}"}]},headers:Ct},[ie]:Oe}],[ie]:ln},{conditions:HA,rules:[{conditions:qA,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ie]:Gs},{conditions:VA,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ie]:Gs},{endpoint:{url:XA,properties:Ct,headers:Ct},[ie]:Oe}],[ie]:ln},{conditions:[LA],rules:[{conditions:[UA],rules:[{conditions:[QA,ZA],rules:[{conditions:[{fn:wr,[be]:[!0,zA]},jA],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ct,headers:Ct},[ie]:Oe}],[ie]:ln},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ie]:Gs}],[ie]:ln},{conditions:qA,rules:[{conditions:[{fn:wr,[be]:[zA,!0]}],rules:[{conditions:[{fn:et,[be]:[{fn:sy,[be]:[eI,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:Ct,headers:Ct},[ie]:Oe},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ct,headers:Ct},[ie]:Oe}],[ie]:ln},{error:"FIPS is enabled but this partition does not support FIPS",[ie]:Gs}],[ie]:ln},{conditions:VA,rules:[{conditions:[jA],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ct,headers:Ct},[ie]:Oe}],[ie]:ln},{error:"DualStack is enabled but this partition does not support DualStack",[ie]:Gs}],[ie]:ln},BA,{endpoint:{url:$A,properties:Ct,headers:Ct},[ie]:Oe}],[ie]:ln}],[ie]:ln},{error:"Invalid Configuration: Missing Region",[ie]:Gs}]},tI=tB});var rI,Ws,nB,sI,oI=x(()=>{c();rI=C(bs()),Ws=C(Hr());nI();nB=new Ws.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),sI=(e,n={})=>nB.get(e,()=>(0,Ws.resolveEndpoint)(tI,{endpointParams:e,logger:n.logger}));Ws.customEndpointFunctions.aws=rI.awsEndpointFunctions});var iI,aI,Dd,Od,cI,lI=x(()=>{c();We();yt();iI=C(fe()),aI=C(er()),Dd=C(Qe()),Od=C(Je());ny();oI();cI=e=>({apiVersion:"2011-06-15",base64Decoder:e?.base64Decoder??Dd.fromBase64,base64Encoder:e?.base64Encoder??Dd.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??sI,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??OA,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new St},{schemeId:"smithy.api#noAuth",identityProvider:n=>n.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new bn}],logger:e?.logger??new iI.NoOpLogger,serviceId:e?.serviceId??"STS",urlParser:e?.urlParser??aI.parseUrl,utf8Decoder:e?.utf8Decoder??Od.fromUtf8,utf8Encoder:e?.utf8Encoder??Od.toUtf8})});var kd,Cr,dI,Md,xr,$d,uI,fI,mI,pI,hI,gI,yI=x(()=>{c();Og();We();kd=C(ji()),Cr=C(It());yt();dI=C(Hi()),Md=C(Pn()),xr=C(An()),$d=C(kr()),uI=C(qi()),fI=C(ks());lI();mI=C(fe()),pI=C(Gi()),hI=C(fe()),gI=e=>{(0,hI.emitWarningIfUnsupportedVersion)(process.version);let n=(0,pI.resolveDefaultsModeConfig)(e),t=()=>n().then(mI.loadConfigsForDefaultMode),r=cI(e);ws(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,xr.loadConfig)(Rs,s),bodyLengthChecker:e?.bodyLengthChecker??uI.calculateBodyLength,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,kd.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:Xl.version}),httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:o=>o.getIdentityProvider("aws.auth#sigv4")||(async i=>await e.credentialDefaultProvider(i?.__config||{})()),signer:new St},{schemeId:"smithy.api#noAuth",identityProvider:o=>o.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new bn}],maxAttempts:e?.maxAttempts??(0,xr.loadConfig)(Md.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,xr.loadConfig)(Cr.NODE_REGION_CONFIG_OPTIONS,{...Cr.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:$d.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,xr.loadConfig)({...Md.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||fI.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??dI.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??$d.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,xr.loadConfig)(Cr.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,xr.loadConfig)(Cr.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,xr.loadConfig)(kd.NODE_APP_ID_CONFIG_OPTIONS,s)}}});var SI,EI,_I=x(()=>{c();SI=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(i=>i.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},EI=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()})});var Fd,Ld,Ud,bI,wI=x(()=>{c();Fd=C(zs()),Ld=C(Ne()),Ud=C(fe());_I();bI=(e,n)=>{let t=Object.assign((0,Fd.getAwsRegionExtensionConfiguration)(e),(0,Ud.getDefaultExtensionConfiguration)(e),(0,Ld.getHttpHandlerExtensionConfiguration)(e),SI(e));return n.forEach(r=>r.configure(t)),Object.assign(e,(0,Fd.resolveAwsRegionExtensionConfiguration)(t),(0,Ud.resolveDefaultRuntimeConfig)(t),(0,Ld.resolveHttpHandlerRuntimeConfig)(t),EI(t))}});var Bd,xI,CI,zd,RI,TI,vI,jd,oy,cn,ga=x(()=>{c();Bd=C(Jo()),xI=C(Qo()),CI=C(Zo()),zd=C(Ds()),RI=C(It());yt();TI=C(Oi()),vI=C(fr()),jd=C(Pn()),oy=C(fe());ny();Nd();yI();wI();cn=class extends oy.Client{config;constructor(...[n]){let t=gI(n||{});super(t),this.initConfig=t;let r=MA(t),s=(0,zd.resolveUserAgentConfig)(r),o=(0,jd.resolveRetryConfig)(s),i=(0,RI.resolveRegionConfig)(o),a=(0,Bd.resolveHostHeaderConfig)(i),l=(0,vI.resolveEndpointConfig)(a),d=kA(l),m=bI(d,n?.extensions||[]);this.config=m,this.middlewareStack.use((0,zd.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,jd.getRetryPlugin)(this.config)),this.middlewareStack.use((0,TI.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,Bd.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,xI.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,CI.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(ti(this.config,{httpAuthSchemeParametersProvider:DA,identityProviderConfigProvider:async h=>new zr({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(ni(this.config))}destroy(){super.destroy()}}});var AI,_t,Hd=x(()=>{c();AI=C(fe()),_t=class e extends AI.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}}});var iy,ay,cy,ya,Sa,Ea,_a,ba,wa,ly,dy,xa,Ca=x(()=>{c();iy=C(fe());Hd();ay=e=>({...e,...e.SecretAccessKey&&{SecretAccessKey:iy.SENSITIVE_STRING}}),cy=e=>({...e,...e.Credentials&&{Credentials:ay(e.Credentials)}}),ya=class e extends _t{name="ExpiredTokenException";$fault="client";constructor(n){super({name:"ExpiredTokenException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Sa=class e extends _t{name="MalformedPolicyDocumentException";$fault="client";constructor(n){super({name:"MalformedPolicyDocumentException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Ea=class e extends _t{name="PackedPolicyTooLargeException";$fault="client";constructor(n){super({name:"PackedPolicyTooLargeException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},_a=class e extends _t{name="RegionDisabledException";$fault="client";constructor(n){super({name:"RegionDisabledException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},ba=class e extends _t{name="IDPRejectedClaimException";$fault="client";constructor(n){super({name:"IDPRejectedClaimException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},wa=class e extends _t{name="InvalidIdentityTokenException";$fault="client";constructor(n){super({name:"InvalidIdentityTokenException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},ly=e=>({...e,...e.WebIdentityToken&&{WebIdentityToken:iy.SENSITIVE_STRING}}),dy=e=>({...e,...e.Credentials&&{Credentials:ay(e.Credentials)}}),xa=class e extends _t{name="IDPCommunicationErrorException";$fault="client";constructor(n){super({name:"IDPCommunicationErrorException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}}});var II,le,PI,NI,DI,OI,kI,rB,sB,oB,iB,aB,cB,lB,dB,uB,MI,fB,mB,pB,hB,gB,yB,$I,SB,EB,FI,_B,bB,wB,xB,CB,RB,TB,Mn,vB,LI,UI,BI,zI,uy,AB,fy,Ks,IB,my,py,Xs,hy,Ys,gy,yy,Sy,Js,Qs,Ey,_y,by,Zs,wy,eo,to,xy,Cy,kn,Ry,Ty,vy,Ay,Iy,jI,Py,Ny,Dy,je,HI,PB,Oy=x(()=>{c();We();II=C(Ne()),le=C(fe());Ca();Hd();PI=async(e,n)=>{let t=UI,r;return r=HI({...dB(e,n),[zI]:AB,[jI]:BI}),LI(n,t,"/",void 0,r)},NI=async(e,n)=>{let t=UI,r;return r=HI({...uB(e,n),[zI]:IB,[jI]:BI}),LI(n,t,"/",void 0,r)},DI=async(e,n)=>{if(e.statusCode>=300)return kI(e,n);let t=await Pi(e.body,n),r={};return r=SB(t.AssumeRoleResult,n),{$metadata:Mn(e),...r}},OI=async(e,n)=>{if(e.statusCode>=300)return kI(e,n);let t=await Pi(e.body,n),r={};return r=EB(t.AssumeRoleWithWebIdentityResult,n),{$metadata:Mn(e),...r}},kI=async(e,n)=>{let t={...e,body:await Xh(e.body,n)},r=PB(e,t.body);switch(r){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await rB(t,n);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await aB(t,n);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await cB(t,n);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await lB(t,n);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await sB(t,n);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await oB(t,n);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await iB(t,n);default:let s=t.body;return vB({output:e,parsedBody:s.Error,errorCode:r})}},rB=async(e,n)=>{let t=e.body,r=_B(t.Error,n),s=new ya({$metadata:Mn(e),...r});return(0,le.decorateServiceException)(s,t)},sB=async(e,n)=>{let t=e.body,r=bB(t.Error,n),s=new xa({$metadata:Mn(e),...r});return(0,le.decorateServiceException)(s,t)},oB=async(e,n)=>{let t=e.body,r=wB(t.Error,n),s=new ba({$metadata:Mn(e),...r});return(0,le.decorateServiceException)(s,t)},iB=async(e,n)=>{let t=e.body,r=xB(t.Error,n),s=new wa({$metadata:Mn(e),...r});return(0,le.decorateServiceException)(s,t)},aB=async(e,n)=>{let t=e.body,r=CB(t.Error,n),s=new Sa({$metadata:Mn(e),...r});return(0,le.decorateServiceException)(s,t)},cB=async(e,n)=>{let t=e.body,r=RB(t.Error,n),s=new Ea({$metadata:Mn(e),...r});return(0,le.decorateServiceException)(s,t)},lB=async(e,n)=>{let t=e.body,r=TB(t.Error,n),s=new _a({$metadata:Mn(e),...r});return(0,le.decorateServiceException)(s,t)},dB=(e,n)=>{let t={};if(e[eo]!=null&&(t[eo]=e[eo]),e[to]!=null&&(t[to]=e[to]),e[Qs]!=null){let r=MI(e[Qs],n);e[Qs]?.length===0&&(t.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{let i=`PolicyArns.${s}`;t[i]=o})}if(e[Js]!=null&&(t[Js]=e[Js]),e[Ys]!=null&&(t[Ys]=e[Ys]),e[vy]!=null){let r=yB(e[vy],n);e[vy]?.length===0&&(t.Tags=[]),Object.entries(r).forEach(([s,o])=>{let i=`Tags.${s}`;t[i]=o})}if(e[Iy]!=null){let r=gB(e[Iy],n);e[Iy]?.length===0&&(t.TransitiveTagKeys=[]),Object.entries(r).forEach(([s,o])=>{let i=`TransitiveTagKeys.${s}`;t[i]=o})}if(e[yy]!=null&&(t[yy]=e[yy]),e[Ry]!=null&&(t[Ry]=e[Ry]),e[Ay]!=null&&(t[Ay]=e[Ay]),e[kn]!=null&&(t[kn]=e[kn]),e[_y]!=null){let r=pB(e[_y],n);e[_y]?.length===0&&(t.ProvidedContexts=[]),Object.entries(r).forEach(([s,o])=>{let i=`ProvidedContexts.${s}`;t[i]=o})}return t},uB=(e,n)=>{let t={};if(e[eo]!=null&&(t[eo]=e[eo]),e[to]!=null&&(t[to]=e[to]),e[Ny]!=null&&(t[Ny]=e[Ny]),e[by]!=null&&(t[by]=e[by]),e[Qs]!=null){let r=MI(e[Qs],n);e[Qs]?.length===0&&(t.PolicyArns=[]),Object.entries(r).forEach(([s,o])=>{let i=`PolicyArns.${s}`;t[i]=o})}return e[Js]!=null&&(t[Js]=e[Js]),e[Ys]!=null&&(t[Ys]=e[Ys]),t},MI=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=fB(s,n);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},fB=(e,n)=>{let t={};return e[Dy]!=null&&(t[Dy]=e[Dy]),t},mB=(e,n)=>{let t={};return e[Ey]!=null&&(t[Ey]=e[Ey]),e[hy]!=null&&(t[hy]=e[hy]),t},pB=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=mB(s,n);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},hB=(e,n)=>{let t={};return e[Sy]!=null&&(t[Sy]=e[Sy]),e[Py]!=null&&(t[Py]=e[Py]),t},gB=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},yB=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=hB(s,n);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},$I=(e,n)=>{let t={};return e[fy]!=null&&(t[fy]=(0,le.expectString)(e[fy])),e[my]!=null&&(t[my]=(0,le.expectString)(e[my])),t},SB=(e,n)=>{let t={};return e[Xs]!=null&&(t[Xs]=FI(e[Xs],n)),e[Ks]!=null&&(t[Ks]=$I(e[Ks],n)),e[Zs]!=null&&(t[Zs]=(0,le.strictParseInt32)(e[Zs])),e[kn]!=null&&(t[kn]=(0,le.expectString)(e[kn])),t},EB=(e,n)=>{let t={};return e[Xs]!=null&&(t[Xs]=FI(e[Xs],n)),e[Cy]!=null&&(t[Cy]=(0,le.expectString)(e[Cy])),e[Ks]!=null&&(t[Ks]=$I(e[Ks],n)),e[Zs]!=null&&(t[Zs]=(0,le.strictParseInt32)(e[Zs])),e[wy]!=null&&(t[wy]=(0,le.expectString)(e[wy])),e[py]!=null&&(t[py]=(0,le.expectString)(e[py])),e[kn]!=null&&(t[kn]=(0,le.expectString)(e[kn])),t},FI=(e,n)=>{let t={};return e[uy]!=null&&(t[uy]=(0,le.expectString)(e[uy])),e[xy]!=null&&(t[xy]=(0,le.expectString)(e[xy])),e[Ty]!=null&&(t[Ty]=(0,le.expectString)(e[Ty])),e[gy]!=null&&(t[gy]=(0,le.expectNonNull)((0,le.parseRfc3339DateTimeWithOffset)(e[gy]))),t},_B=(e,n)=>{let t={};return e[je]!=null&&(t[je]=(0,le.expectString)(e[je])),t},bB=(e,n)=>{let t={};return e[je]!=null&&(t[je]=(0,le.expectString)(e[je])),t},wB=(e,n)=>{let t={};return e[je]!=null&&(t[je]=(0,le.expectString)(e[je])),t},xB=(e,n)=>{let t={};return e[je]!=null&&(t[je]=(0,le.expectString)(e[je])),t},CB=(e,n)=>{let t={};return e[je]!=null&&(t[je]=(0,le.expectString)(e[je])),t},RB=(e,n)=>{let t={};return e[je]!=null&&(t[je]=(0,le.expectString)(e[je])),t},TB=(e,n)=>{let t={};return e[je]!=null&&(t[je]=(0,le.expectString)(e[je])),t},Mn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),vB=(0,le.withBaseException)(_t),LI=async(e,n,t,r,s)=>{let{hostname:o,protocol:i="https",port:a,path:l}=await e.endpoint(),d={protocol:i,hostname:o,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:n};return r!==void 0&&(d.hostname=r),s!==void 0&&(d.body=s),new II.HttpRequest(d)},UI={"content-type":"application/x-www-form-urlencoded"},BI="2011-06-15",zI="Action",uy="AccessKeyId",AB="AssumeRole",fy="AssumedRoleId",Ks="AssumedRoleUser",IB="AssumeRoleWithWebIdentity",my="Arn",py="Audience",Xs="Credentials",hy="ContextAssertion",Ys="DurationSeconds",gy="Expiration",yy="ExternalId",Sy="Key",Js="Policy",Qs="PolicyArns",Ey="ProviderArn",_y="ProvidedContexts",by="ProviderId",Zs="PackedPolicySize",wy="Provider",eo="RoleArn",to="RoleSessionName",xy="SecretAccessKey",Cy="SubjectFromWebIdentityToken",kn="SourceIdentity",Ry="SerialNumber",Ty="SessionToken",vy="Tags",Ay="TokenCode",Iy="TransitiveTagKeys",jI="Version",Py="Value",Ny="WebIdentityToken",Dy="arn",je="message",HI=e=>Object.entries(e).map(([n,t])=>(0,le.extendedEncodeURIComponent)(n)+"="+(0,le.extendedEncodeURIComponent)(t)).join("&"),PB=(e,n)=>{if(n.Error?.Code!==void 0)return n.Error.Code;if(e.statusCode==404)return"NotFound"}});var qI,VI,GI,rs,qd=x(()=>{c();qI=C(fr()),VI=C(Xn()),GI=C(fe());Nd();Ca();Oy();rs=class extends GI.Command.classBuilder().ep(Pd).m(function(n,t,r,s){return[(0,VI.getSerdePlugin)(r,this.serialize,this.deserialize),(0,qI.getEndpointPlugin)(r,n.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,cy).ser(PI).de(DI).build(){}});var WI,KI,XI,ss,Vd=x(()=>{c();WI=C(fr()),KI=C(Xn()),XI=C(fe());Nd();Ca();Oy();ss=class extends XI.Command.classBuilder().ep(Pd).m(function(n,t,r,s){return[(0,KI.getSerdePlugin)(r,this.serialize,this.deserialize),(0,WI.getEndpointPlugin)(r,n.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(ly,dy).ser(NI).de(OI).build(){}});var YI,NB,Gd,JI=x(()=>{c();YI=C(fe());qd();Vd();ga();NB={AssumeRoleCommand:rs,AssumeRoleWithWebIdentityCommand:ss},Gd=class extends cn{};(0,YI.createAggregatedClient)(NB,Gd)});var QI=x(()=>{c();qd();Vd()});var ZI=x(()=>{c();Ca()});var eP,tP,nP,rP,sP,oP,iP=x(()=>{c();Kt();eP=C(zs());qd();Vd();tP=e=>{if(typeof e?.Arn=="string"){let n=e.Arn.split(":");if(n.length>4&&n[4]!=="")return n[4]}},nP=async(e,n,t,r={})=>{let s=typeof e=="function"?await e():e,o=typeof n=="function"?await n():n,i=await(0,eP.stsRegionDefaultResolver)(r)();return t?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${s} (credential provider clientConfig)`,`${o} (contextual client)`,`${i} (STS default: AWS_REGION, profile region, or us-east-1)`),s??o??i},rP=(e,n)=>{let t,r;return async(s,o)=>{if(r=s,!t){let{logger:m=e?.parentClientConfig?.logger,profile:h=e?.parentClientConfig?.profile,region:y,requestHandler:g=e?.parentClientConfig?.requestHandler,credentialProviderLogger:E,userAgentAppId:R=e?.parentClientConfig?.userAgentAppId}=e,A=await nP(y,e?.parentClientConfig?.region,E,{logger:m,profile:h}),I=!oP(g);t=new n({...e,userAgentAppId:R,profile:h,credentialDefaultProvider:()=>async()=>r,region:A,requestHandler:I?g:void 0,logger:m})}let{Credentials:i,AssumedRoleUser:a}=await t.send(new rs(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);let l=tP(a),d={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...l&&{accountId:l}};return tr(d,"CREDENTIALS_STS_ASSUME_ROLE","i"),d}},sP=(e,n)=>{let t;return async r=>{if(!t){let{logger:l=e?.parentClientConfig?.logger,profile:d=e?.parentClientConfig?.profile,region:m,requestHandler:h=e?.parentClientConfig?.requestHandler,credentialProviderLogger:y,userAgentAppId:g=e?.parentClientConfig?.userAgentAppId}=e,E=await nP(m,e?.parentClientConfig?.region,y,{logger:l,profile:d}),R=!oP(h);t=new n({...e,userAgentAppId:g,profile:d,region:E,requestHandler:R?h:void 0,logger:l})}let{Credentials:s,AssumedRoleUser:o}=await t.send(new ss(r));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${r.RoleArn}`);let i=tP(o),a={accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration,...s.CredentialScope&&{credentialScope:s.CredentialScope},...i&&{accountId:i}};return i&&tr(a,"RESOLVED_ACCOUNT_ID","T"),tr(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},oP=e=>e?.metadata?.handlerProtocol==="h2"});var aP,cP,lP,DB,dP=x(()=>{c();iP();ga();aP=(e,n)=>n?class extends e{constructor(r){super(r);for(let s of n)this.middlewareStack.use(s)}}:e,cP=(e={},n)=>rP(e,aP(cn,n)),lP=(e={},n)=>sP(e,aP(cn,n)),DB=e=>n=>e({roleAssumer:cP(n),roleAssumerWithWebIdentity:lP(n),...n})});var ky={};Tt(ky,{AssumeRoleCommand:()=>rs,AssumeRoleResponseFilterSensitiveLog:()=>cy,AssumeRoleWithWebIdentityCommand:()=>ss,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>ly,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>dy,CredentialsFilterSensitiveLog:()=>ay,ExpiredTokenException:()=>ya,IDPCommunicationErrorException:()=>xa,IDPRejectedClaimException:()=>ba,InvalidIdentityTokenException:()=>wa,MalformedPolicyDocumentException:()=>Sa,PackedPolicyTooLargeException:()=>Ea,RegionDisabledException:()=>_a,STS:()=>Gd,STSClient:()=>cn,STSServiceException:()=>_t,__Client:()=>oy.Client,decorateDefaultCredentialProvider:()=>DB,getDefaultRoleAssumer:()=>cP,getDefaultRoleAssumerWithWebIdentity:()=>lP});var My=x(()=>{c();ga();JI();QI();ZI();dP();Hd()});var Ly=O(uP=>{"use strict";c();var Fy=vn(),$y=ut(),OB=Ee("child_process"),kB=Ee("util"),MB=(Kt(),we(nr)),$B=(e,n,t)=>{if(n.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(n.AccessKeyId===void 0||n.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(n.Expiration){let o=new Date;if(new Date(n.Expiration)<o)throw Error(`Profile ${e} credential_process returned expired credentials.`)}let r=n.AccountId;!r&&t?.[e]?.aws_account_id&&(r=t[e].aws_account_id);let s={accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,...n.SessionToken&&{sessionToken:n.SessionToken},...n.Expiration&&{expiration:new Date(n.Expiration)},...n.CredentialScope&&{credentialScope:n.CredentialScope},...r&&{accountId:r}};return MB.setCredentialFeature(s,"CREDENTIALS_PROCESS","w"),s},FB=async(e,n,t)=>{let r=n[e];if(n[e]){let s=r.credential_process;if(s!==void 0){let o=kB.promisify(Fy.externalDataInterceptor?.getTokenRecord?.().exec??OB.exec);try{let{stdout:i}=await o(s),a;try{a=JSON.parse(i.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return $B(e,a,n)}catch(i){throw new $y.CredentialsProviderError(i.message,{logger:t})}}else throw new $y.CredentialsProviderError(`Profile ${e} did not contain credential_process.`,{logger:t})}else throw new $y.CredentialsProviderError(`Profile ${e} could not be found in shared credentials file.`,{logger:t})},LB=(e={})=>async({callerClientConfig:n}={})=>{e.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let t=await Fy.parseKnownFiles(e);return FB(Fy.getProfileName({profile:e.profile??n?.profile}),t,e.logger)};uP.fromProcess=LB});var Uy=O(dn=>{"use strict";c();var UB=dn&&dn.__createBinding||(Object.create?(function(e,n,t,r){r===void 0&&(r=t);var s=Object.getOwnPropertyDescriptor(n,t);(!s||("get"in s?!n.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,s)}):(function(e,n,t,r){r===void 0&&(r=t),e[r]=n[t]})),BB=dn&&dn.__setModuleDefault||(Object.create?(function(e,n){Object.defineProperty(e,"default",{enumerable:!0,value:n})}):function(e,n){e.default=n}),zB=dn&&dn.__importStar||(function(){var e=function(n){return e=Object.getOwnPropertyNames||function(t){var r=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[r.length]=s);return r},e(n)};return function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var r=e(n),s=0;s<r.length;s++)r[s]!=="default"&&UB(t,n,r[s]);return BB(t,n),t}})();Object.defineProperty(dn,"__esModule",{value:!0});dn.fromWebToken=void 0;var jB=e=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:t,roleSessionName:r,webIdentityToken:s,providerId:o,policyArns:i,policy:a,durationSeconds:l}=e,{roleAssumerWithWebIdentity:d}=e;if(!d){let{getDefaultRoleAssumerWithWebIdentity:m}=await Promise.resolve().then(()=>zB((My(),we(ky))));d=m({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...n?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:o,PolicyArns:i,Policy:a,DurationSeconds:l})};dn.fromWebToken=jB});var mP=O(Wd=>{"use strict";c();Object.defineProperty(Wd,"__esModule",{value:!0});Wd.fromTokenFile=void 0;var HB=(Kt(),we(nr)),qB=ut(),VB=vn(),GB=Ee("fs"),WB=Uy(),fP="AWS_WEB_IDENTITY_TOKEN_FILE",KB="AWS_ROLE_ARN",XB="AWS_ROLE_SESSION_NAME",YB=(e={})=>async n=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let t=e?.webIdentityTokenFile??process.env[fP],r=e?.roleArn??process.env[KB],s=e?.roleSessionName??process.env[XB];if(!t||!r)throw new qB.CredentialsProviderError("Web identity configuration not specified",{logger:e.logger});let o=await(0,WB.fromWebToken)({...e,webIdentityToken:VB.externalDataInterceptor?.getTokenRecord?.()[t]??(0,GB.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:s})(n);return t===process.env[fP]&&(0,HB.setCredentialFeature)(o,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),o};Wd.fromTokenFile=YB});var By=O(Ra=>{"use strict";c();var pP=mP(),hP=Uy();Object.keys(pP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ra,e)&&Object.defineProperty(Ra,e,{enumerable:!0,get:function(){return pP[e]}})});Object.keys(hP).forEach(function(e){e!=="default"&&!Object.prototype.hasOwnProperty.call(Ra,e)&&Object.defineProperty(Ra,e,{enumerable:!0,get:function(){return hP[e]}})})});var bP=O(_P=>{"use strict";c();var jy=vn(),Ta=ut(),Rr=(Kt(),we(nr)),JB=(e,n,t)=>{let r={EcsContainer:async s=>{let{fromHttp:o}=await Promise.resolve().then(()=>C(Pg())),{fromContainerMetadata:i}=await Promise.resolve().then(()=>C(Bi()));return t?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>Ta.chain(o(s??{}),i(s))().then(zy)},Ec2InstanceMetadata:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:o}=await Promise.resolve().then(()=>C(Bi()));return async()=>o(s)().then(zy)},Environment:async s=>{t?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:o}=await Promise.resolve().then(()=>C(wg()));return async()=>o(s)().then(zy)}};if(e in r)return r[e];throw new Ta.CredentialsProviderError(`Unsupported credential source in profile ${n}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:t})},zy=e=>Rr.setCredentialFeature(e,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),QB=(e,{profile:n="default",logger:t}={})=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(ZB(e,{profile:n,logger:t})||ez(e,{profile:n,logger:t})),ZB=(e,{profile:n,logger:t})=>{let r=typeof e.source_profile=="string"&&typeof e.credential_source>"u";return r&&t?.debug?.(`    ${n} isAssumeRoleWithSourceProfile source_profile=${e.source_profile}`),r},ez=(e,{profile:n,logger:t})=>{let r=typeof e.credential_source=="string"&&typeof e.source_profile>"u";return r&&t?.debug?.(`    ${n} isCredentialSourceProfile credential_source=${e.credential_source}`),r},tz=async(e,n,t,r={},s)=>{t.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let o=n[e],{source_profile:i,region:a}=o;if(!t.roleAssumer){let{getDefaultRoleAssumer:d}=await Promise.resolve().then(()=>(My(),ky));t.roleAssumer=d({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...t?.parentClientConfig,region:a??t?.parentClientConfig?.region}},t.clientPlugins)}if(i&&i in r)throw new Ta.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${jy.getProfileName(t)}. Profiles visited: `+Object.keys(r).join(", "),{logger:t.logger});t.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${i?`source_profile=[${i}]`:`profile=[${e}]`}`);let l=i?s(i,n,t,{...r,[i]:!0},gP(n[i]??{})):(await JB(o.credential_source,e,t.logger)(t))();if(gP(o))return l.then(d=>Rr.setCredentialFeature(d,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let d={RoleArn:o.role_arn,RoleSessionName:o.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:o.external_id,DurationSeconds:parseInt(o.duration_seconds||"3600",10)},{mfa_serial:m}=o;if(m){if(!t.mfaCodeProvider)throw new Ta.CredentialsProviderError(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:t.logger,tryNextLink:!1});d.SerialNumber=m,d.TokenCode=await t.mfaCodeProvider(m)}let h=await l;return t.roleAssumer(h,d).then(y=>Rr.setCredentialFeature(y,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},gP=e=>!e.role_arn&&!!e.credential_source,nz=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",rz=async(e,n)=>Promise.resolve().then(()=>C(Ly())).then(({fromProcess:t})=>t({...e,profile:n})().then(r=>Rr.setCredentialFeature(r,"CREDENTIALS_PROFILE_PROCESS","v"))),sz=async(e,n,t={})=>{let{fromSSO:r}=await Promise.resolve().then(()=>C(ty()));return r({profile:e,logger:t.logger,parentClientConfig:t.parentClientConfig,clientConfig:t.clientConfig})().then(s=>n.sso_session?Rr.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO","r"):Rr.setCredentialFeature(s,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},oz=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string"),yP=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1&&["undefined","string"].indexOf(typeof e.aws_account_id)>-1,SP=async(e,n)=>{n?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let t={accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token,...e.aws_credential_scope&&{credentialScope:e.aws_credential_scope},...e.aws_account_id&&{accountId:e.aws_account_id}};return Rr.setCredentialFeature(t,"CREDENTIALS_PROFILE","n")},iz=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,az=async(e,n)=>Promise.resolve().then(()=>C(By())).then(({fromTokenFile:t})=>t({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:n.roleAssumerWithWebIdentity,logger:n.logger,parentClientConfig:n.parentClientConfig})().then(r=>Rr.setCredentialFeature(r,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),EP=async(e,n,t,r={},s=!1)=>{let o=n[e];if(Object.keys(r).length>0&&yP(o))return SP(o,t);if(s||QB(o,{profile:e,logger:t.logger}))return tz(e,n,t,r,EP);if(yP(o))return SP(o,t);if(iz(o))return az(o,t);if(nz(o))return rz(t,e);if(oz(o))return await sz(e,o,t);throw new Ta.CredentialsProviderError(`Could not resolve credentials using profile: [${e}] in configuration/credentials file(s).`,{logger:t.logger})},cz=(e={})=>async({callerClientConfig:n}={})=>{let t={...e,parentClientConfig:{...n,...e.parentClientConfig}};t.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let r=await jy.parseKnownFiles(t);return EP(jy.getProfileName({profile:e.profile??n?.profile}),r,t)};_P.fromIni=cz});var RP=O(Kd=>{"use strict";c();var Hy=wg(),va=ut(),lz=vn(),wP="AWS_EC2_METADATA_DISABLED",dz=async e=>{let{ENV_CMDS_FULL_URI:n,ENV_CMDS_RELATIVE_URI:t,fromContainerMetadata:r,fromInstanceMetadata:s}=await Promise.resolve().then(()=>C(Bi()));if(process.env[t]||process.env[n]){e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:o}=await Promise.resolve().then(()=>C(Pg()));return va.chain(o(e),r(e))}return process.env[wP]&&process.env[wP]!=="false"?async()=>{throw new va.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:e.logger})}:(e.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),s(e))};function uz(e,n){let t=fz(e),r,s,o,i=async a=>{if(a?.forceRefresh)return await t(a);if(o?.expiration&&o?.expiration?.getTime()<Date.now()&&(o=void 0),r)await r;else if(!o||n?.(o))if(o)s||(s=t(a).then(l=>{o=l,s=void 0}));else return r=t(a).then(l=>{o=l,r=void 0}),i(a);return o};return i}var fz=e=>async n=>{let t;for(let r of e)try{return await r(n)}catch(s){if(t=s,s?.tryNextLink)continue;throw s}throw t},xP=!1,mz=(e={})=>uz([async()=>{if(e.profile??process.env[lz.ENV_PROFILE])throw process.env[Hy.ENV_KEY]&&process.env[Hy.ENV_SECRET]&&(xP||((e.logger?.warn&&e.logger?.constructor?.name!=="NoOpLogger"?e.logger.warn.bind(e.logger):console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),xP=!0)),new va.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:e.logger,tryNextLink:!0});return e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),Hy.fromEnv(e)()},async n=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:s,ssoRoleName:o,ssoSession:i}=e;if(!t&&!r&&!s&&!o&&!i)throw new va.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:e.logger});let{fromSSO:a}=await Promise.resolve().then(()=>C(ty()));return a(e)(n)},async n=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:t}=await Promise.resolve().then(()=>C(bP()));return t(e)(n)},async n=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:t}=await Promise.resolve().then(()=>C(Ly()));return t(e)(n)},async n=>{e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:t}=await Promise.resolve().then(()=>C(By()));return t(e)(n)},async()=>(e.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await dz(e))()),async()=>{throw new va.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:e.logger})}],CP),pz=e=>e?.expiration!==void 0,CP=e=>e?.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5;Kd.credentialsTreatedAsExpired=CP;Kd.credentialsWillNeedRefresh=pz;Kd.defaultProvider=mz});var UP=O(Xd=>{"use strict";c();Object.defineProperty(Xd,"__esModule",{value:!0});Xd.ruleSet=void 0;var $P="required",fn="fn",mn="argv",ro="ref",TP=!0,vP="isSet",Ia="booleanEquals",no="error",Aa="endpoint",$n="tree",qy="PartitionResult",AP={[$P]:!1,type:"string"},IP={[$P]:!0,default:!1,type:"boolean"},PP={[ro]:"Endpoint"},FP={[fn]:Ia,[mn]:[{[ro]:"UseFIPS"},!0]},LP={[fn]:Ia,[mn]:[{[ro]:"UseDualStack"},!0]},un={},NP={[fn]:"getAttr",[mn]:[{[ro]:qy},"supportsFIPS"]},DP={[fn]:Ia,[mn]:[!0,{[fn]:"getAttr",[mn]:[{[ro]:qy},"supportsDualStack"]}]},OP=[FP],kP=[LP],MP=[{[ro]:"Region"}],hz={version:"1.0",parameters:{Region:AP,UseDualStack:IP,UseFIPS:IP,Endpoint:AP},rules:[{conditions:[{[fn]:vP,[mn]:[PP]}],rules:[{conditions:OP,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:no},{conditions:kP,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:no},{endpoint:{url:PP,properties:un,headers:un},type:Aa}],type:$n},{conditions:[{[fn]:vP,[mn]:MP}],rules:[{conditions:[{[fn]:"aws.partition",[mn]:MP,assign:qy}],rules:[{conditions:[FP,LP],rules:[{conditions:[{[fn]:Ia,[mn]:[TP,NP]},DP],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:un,headers:un},type:Aa}],type:$n},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:no}],type:$n},{conditions:OP,rules:[{conditions:[{[fn]:Ia,[mn]:[NP,TP]}],rules:[{endpoint:{url:"https://email-fips.{Region}.{PartitionResult#dnsSuffix}",properties:un,headers:un},type:Aa}],type:$n},{error:"FIPS is enabled but this partition does not support FIPS",type:no}],type:$n},{conditions:kP,rules:[{conditions:[DP],rules:[{endpoint:{url:"https://email.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:un,headers:un},type:Aa}],type:$n},{error:"DualStack is enabled but this partition does not support DualStack",type:no}],type:$n},{endpoint:{url:"https://email.{Region}.{PartitionResult#dnsSuffix}",properties:un,headers:un},type:Aa}],type:$n}],type:$n},{error:"Invalid Configuration: Missing Region",type:no}]};Xd.ruleSet=hz});var BP=O(Yd=>{"use strict";c();Object.defineProperty(Yd,"__esModule",{value:!0});Yd.defaultEndpointResolver=void 0;var gz=bs(),Vy=Hr(),yz=UP(),Sz=new Vy.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Ez=(e,n={})=>Sz.get(e,()=>(0,Vy.resolveEndpoint)(yz.ruleSet,{endpointParams:e,logger:n.logger}));Yd.defaultEndpointResolver=Ez;Vy.customEndpointFunctions.aws=gz.awsEndpointFunctions});var HP=O(Jd=>{"use strict";c();Object.defineProperty(Jd,"__esModule",{value:!0});Jd.getRuntimeConfig=void 0;var _z=(We(),we(rn)),bz=fe(),wz=er(),zP=Qe(),jP=Je(),xz=bg(),Cz=BP(),Rz=e=>({apiVersion:"2010-12-01",base64Decoder:e?.base64Decoder??zP.fromBase64,base64Encoder:e?.base64Encoder??zP.toBase64,disableHostPrefix:e?.disableHostPrefix??!1,endpointProvider:e?.endpointProvider??Cz.defaultEndpointResolver,extensions:e?.extensions??[],httpAuthSchemeProvider:e?.httpAuthSchemeProvider??xz.defaultSESHttpAuthSchemeProvider,httpAuthSchemes:e?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:n=>n.getIdentityProvider("aws.auth#sigv4"),signer:new _z.AwsSdkSigV4Signer}],logger:e?.logger??new bz.NoOpLogger,serviceId:e?.serviceId??"SES",urlParser:e?.urlParser??wz.parseUrl,utf8Decoder:e?.utf8Decoder??jP.fromUtf8,utf8Encoder:e?.utf8Encoder??jP.toUtf8});Jd.getRuntimeConfig=Rz});var KP=O(Zd=>{"use strict";c();Object.defineProperty(Zd,"__esModule",{value:!0});Zd.getRuntimeConfig=void 0;var Tz=(pi(),we(mi)),vz=Tz.__importDefault(WR()),qP=(We(),we(rn)),Az=RP(),VP=ji(),Qd=It(),Iz=Hi(),GP=Pn(),os=An(),WP=kr(),Pz=qi(),Nz=ks(),Dz=HP(),Oz=fe(),kz=Gi(),Mz=fe(),$z=e=>{(0,Mz.emitWarningIfUnsupportedVersion)(process.version);let n=(0,kz.resolveDefaultsModeConfig)(e),t=()=>n().then(Oz.loadConfigsForDefaultMode),r=(0,Dz.getRuntimeConfig)(e);(0,qP.emitWarningIfUnsupportedVersion)(process.version);let s={profile:e?.profile,logger:r.logger};return{...r,...e,runtime:"node",defaultsMode:n,authSchemePreference:e?.authSchemePreference??(0,os.loadConfig)(qP.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,s),bodyLengthChecker:e?.bodyLengthChecker??Pz.calculateBodyLength,credentialDefaultProvider:e?.credentialDefaultProvider??Az.defaultProvider,defaultUserAgentProvider:e?.defaultUserAgentProvider??(0,VP.createDefaultUserAgentProvider)({serviceId:r.serviceId,clientVersion:vz.default.version}),maxAttempts:e?.maxAttempts??(0,os.loadConfig)(GP.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,e),region:e?.region??(0,os.loadConfig)(Qd.NODE_REGION_CONFIG_OPTIONS,{...Qd.NODE_REGION_CONFIG_FILE_OPTIONS,...s}),requestHandler:WP.NodeHttpHandler.create(e?.requestHandler??t),retryMode:e?.retryMode??(0,os.loadConfig)({...GP.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await t()).retryMode||Nz.DEFAULT_RETRY_MODE},e),sha256:e?.sha256??Iz.Hash.bind(null,"sha256"),streamCollector:e?.streamCollector??WP.streamCollector,useDualstackEndpoint:e?.useDualstackEndpoint??(0,os.loadConfig)(Qd.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,s),useFipsEndpoint:e?.useFipsEndpoint??(0,os.loadConfig)(Qd.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,s),userAgentAppId:e?.userAgentAppId??(0,os.loadConfig)(VP.NODE_APP_ID_CONFIG_OPTIONS,s)}};Zd.getRuntimeConfig=$z});var QP=O(ft=>{"use strict";c();var eu=()=>{let e=new WeakSet;return(n,t)=>{if(typeof t=="object"&&t!==null){if(e.has(t))return"[Circular]";e.add(t)}return t}},Fz=e=>new Promise(n=>setTimeout(n,e*1e3)),JP={minDelay:2,maxDelay:120};ft.WaiterState=void 0;(function(e){e.ABORTED="ABORTED",e.FAILURE="FAILURE",e.SUCCESS="SUCCESS",e.RETRY="RETRY",e.TIMEOUT="TIMEOUT"})(ft.WaiterState||(ft.WaiterState={}));var Lz=e=>{if(e.state===ft.WaiterState.ABORTED){let n=new Error(`${JSON.stringify({...e,reason:"Request was aborted"},eu())}`);throw n.name="AbortError",n}else if(e.state===ft.WaiterState.TIMEOUT){let n=new Error(`${JSON.stringify({...e,reason:"Waiter has timed out"},eu())}`);throw n.name="TimeoutError",n}else if(e.state!==ft.WaiterState.SUCCESS)throw new Error(`${JSON.stringify(e,eu())}`);return e},Uz=(e,n,t,r)=>{if(r>t)return n;let s=e*2**(r-1);return Bz(e,s)},Bz=(e,n)=>e+Math.random()*(n-e),zz=async({minDelay:e,maxDelay:n,maxWaitTime:t,abortController:r,client:s,abortSignal:o},i,a)=>{let l={},{state:d,reason:m}=await a(s,i);if(m){let E=XP(m);l[E]|=0,l[E]+=1}if(d!==ft.WaiterState.RETRY)return{state:d,reason:m,observedResponses:l};let h=1,y=Date.now()+t*1e3,g=Math.log(n/e)/Math.log(2)+1;for(;;){if(r?.signal?.aborted||o?.aborted){let I="AbortController signal aborted.";return l[I]|=0,l[I]+=1,{state:ft.WaiterState.ABORTED,observedResponses:l}}let E=Uz(e,n,g,h);if(Date.now()+E*1e3>y)return{state:ft.WaiterState.TIMEOUT,observedResponses:l};await Fz(E);let{state:R,reason:A}=await a(s,i);if(A){let I=XP(A);l[I]|=0,l[I]+=1}if(R!==ft.WaiterState.RETRY)return{state:R,reason:A,observedResponses:l};h+=1}},XP=e=>e?.$responseBodyText?`Deserialization error for body: ${e.$responseBodyText}`:e?.$metadata?.httpStatusCode?e.$response||e.message?`${e.$response.statusCode??e.$metadata.httpStatusCode??"Unknown"}: ${e.message}`:`${e.$metadata.httpStatusCode}: OK`:String(e?.message??JSON.stringify(e,eu())??"Unknown"),jz=e=>{if(e.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(e.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(e.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(e.maxWaitTime<=e.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${e.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`);if(e.maxDelay<e.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${e.maxDelay}] must be greater than WaiterConfiguration.minDelay [${e.minDelay}] for this waiter`)},YP=e=>{let n,t=new Promise(r=>{n=()=>r({state:ft.WaiterState.ABORTED}),typeof e.addEventListener=="function"?e.addEventListener("abort",n):e.onabort=n});return{clearListener(){typeof e.removeEventListener=="function"&&e.removeEventListener("abort",n)},aborted:t}},Hz=async(e,n,t)=>{let r={...JP,...e};jz(r);let s=[zz(r,n,t)],o=[];if(e.abortSignal){let{aborted:i,clearListener:a}=YP(e.abortSignal);o.push(a),s.push(i)}if(e.abortController?.signal){let{aborted:i,clearListener:a}=YP(e.abortController.signal);o.push(a),s.push(i)}return Promise.race(s).then(i=>{for(let a of o)a();return i})};ft.checkExceptions=Lz;ft.createWaiter=Hz;ft.waiterServiceDefaults=JP});var w0=O(v=>{"use strict";c();var ZP=Jo(),qz=Qo(),Vz=Zo(),e0=Ds(),Gz=It(),Ha=(yt(),we(Es)),Wz=Oi(),B=fr(),t0=Pn(),p=fe(),n0=bg(),Kz=KP(),r0=zs(),WS=Ne(),z=Xn(),Y=(We(),we(rn)),sc=QP(),Xz=e=>Object.assign(e,{useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"ses"}),j={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Yz=e=>{let n=e.httpAuthSchemes,t=e.httpAuthSchemeProvider,r=e.credentials;return{setHttpAuthScheme(s){let o=n.findIndex(i=>i.schemeId===s.schemeId);o===-1?n.push(s):n.splice(o,1,s)},httpAuthSchemes(){return n},setHttpAuthSchemeProvider(s){t=s},httpAuthSchemeProvider(){return t},setCredentials(s){r=s},credentials(){return r}}},Jz=e=>({httpAuthSchemes:e.httpAuthSchemes(),httpAuthSchemeProvider:e.httpAuthSchemeProvider(),credentials:e.credentials()}),Qz=(e,n)=>{let t=Object.assign(r0.getAwsRegionExtensionConfiguration(e),p.getDefaultExtensionConfiguration(e),WS.getHttpHandlerExtensionConfiguration(e),Yz(e));return n.forEach(r=>r.configure(t)),Object.assign(e,r0.resolveAwsRegionExtensionConfiguration(t),p.resolveDefaultRuntimeConfig(t),WS.resolveHttpHandlerRuntimeConfig(t),Jz(t))},Ko=class extends p.Client{config;constructor(...[n]){let t=Kz.getRuntimeConfig(n||{});super(t),this.initConfig=t;let r=Xz(t),s=e0.resolveUserAgentConfig(r),o=t0.resolveRetryConfig(s),i=Gz.resolveRegionConfig(o),a=ZP.resolveHostHeaderConfig(i),l=B.resolveEndpointConfig(a),d=n0.resolveHttpAuthSchemeConfig(l),m=Qz(d,n?.extensions||[]);this.config=m,this.middlewareStack.use(e0.getUserAgentPlugin(this.config)),this.middlewareStack.use(t0.getRetryPlugin(this.config)),this.middlewareStack.use(Wz.getContentLengthPlugin(this.config)),this.middlewareStack.use(ZP.getHostHeaderPlugin(this.config)),this.middlewareStack.use(qz.getLoggerPlugin(this.config)),this.middlewareStack.use(Vz.getRecursionDetectionPlugin(this.config)),this.middlewareStack.use(Ha.getHttpAuthSchemeEndpointRuleSetPlugin(this.config,{httpAuthSchemeParametersProvider:n0.defaultSESHttpAuthSchemeParametersProvider,identityProviderConfigProvider:async h=>new Ha.DefaultIdentityProviderConfig({"aws.auth#sigv4":h.credentials})})),this.middlewareStack.use(Ha.getHttpSigningPlugin(this.config))}destroy(){super.destroy()}},pe=class e extends p.ServiceException{constructor(n){super(n),Object.setPrototypeOf(this,e.prototype)}},tu=class e extends pe{name="AccountSendingPausedException";$fault="client";constructor(n){super({name:"AccountSendingPausedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},nu=class e extends pe{name="AlreadyExistsException";$fault="client";Name;constructor(n){super({name:"AlreadyExistsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.Name=n.Name}},Zz={RejectMessage:"RejectMessage",UseDefaultValue:"UseDefaultValue"},ej={ContentRejected:"ContentRejected",DoesNotExist:"DoesNotExist",ExceededQuota:"ExceededQuota",MessageTooLarge:"MessageTooLarge",TemporaryFailure:"TemporaryFailure",Undefined:"Undefined"},tj={DELAYED:"delayed",DELIVERED:"delivered",EXPANDED:"expanded",FAILED:"failed",RELAYED:"relayed"},nj={AccountDailyQuotaExceeded:"AccountDailyQuotaExceeded",AccountSendingPaused:"AccountSendingPaused",AccountSuspended:"AccountSuspended",AccountThrottled:"AccountThrottled",ConfigurationSetDoesNotExist:"ConfigurationSetDoesNotExist",ConfigurationSetSendingPaused:"ConfigurationSetSendingPaused",Failed:"Failed",InvalidParameterValue:"InvalidParameterValue",InvalidSendingPoolName:"InvalidSendingPoolName",MailFromDomainNotVerified:"MailFromDomainNotVerified",MessageRejected:"MessageRejected",Success:"Success",TemplateDoesNotExist:"TemplateDoesNotExist",TransientFailure:"TransientFailure"},ru=class e extends pe{name="CannotDeleteException";$fault="client";Name;constructor(n){super({name:"CannotDeleteException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.Name=n.Name}},su=class e extends pe{name="LimitExceededException";$fault="client";constructor(n){super({name:"LimitExceededException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},ou=class e extends pe{name="RuleSetDoesNotExistException";$fault="client";Name;constructor(n){super({name:"RuleSetDoesNotExistException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.Name=n.Name}},rj={EMAIL_HEADER:"emailHeader",LINK_TAG:"linkTag",MESSAGE_TAG:"messageTag"},iu=class e extends pe{name="ConfigurationSetAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(n){super({name:"ConfigurationSetAlreadyExistsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName}},sj={DELIVERY_OPTIONS:"deliveryOptions",EVENT_DESTINATIONS:"eventDestinations",REPUTATION_OPTIONS:"reputationOptions",TRACKING_OPTIONS:"trackingOptions"},au=class e extends pe{name="ConfigurationSetDoesNotExistException";$fault="client";ConfigurationSetName;constructor(n){super({name:"ConfigurationSetDoesNotExistException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName}},cu=class e extends pe{name="ConfigurationSetSendingPausedException";$fault="client";ConfigurationSetName;constructor(n){super({name:"ConfigurationSetSendingPausedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName}},lu=class e extends pe{name="InvalidConfigurationSetException";$fault="client";constructor(n){super({name:"InvalidConfigurationSetException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},oj={BOUNCE:"bounce",CLICK:"click",COMPLAINT:"complaint",DELIVERY:"delivery",OPEN:"open",REJECT:"reject",RENDERING_FAILURE:"renderingFailure",SEND:"send"},du=class e extends pe{name="EventDestinationAlreadyExistsException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(n){super({name:"EventDestinationAlreadyExistsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName,this.EventDestinationName=n.EventDestinationName}},uu=class e extends pe{name="InvalidCloudWatchDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(n){super({name:"InvalidCloudWatchDestinationException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName,this.EventDestinationName=n.EventDestinationName}},fu=class e extends pe{name="InvalidFirehoseDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(n){super({name:"InvalidFirehoseDestinationException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName,this.EventDestinationName=n.EventDestinationName}},mu=class e extends pe{name="InvalidSNSDestinationException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(n){super({name:"InvalidSNSDestinationException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName,this.EventDestinationName=n.EventDestinationName}},pu=class e extends pe{name="InvalidTrackingOptionsException";$fault="client";constructor(n){super({name:"InvalidTrackingOptionsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},hu=class e extends pe{name="TrackingOptionsAlreadyExistsException";$fault="client";ConfigurationSetName;constructor(n){super({name:"TrackingOptionsAlreadyExistsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName}},gu=class e extends pe{name="CustomVerificationEmailInvalidContentException";$fault="client";constructor(n){super({name:"CustomVerificationEmailInvalidContentException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},yu=class e extends pe{name="CustomVerificationEmailTemplateAlreadyExistsException";$fault="client";CustomVerificationEmailTemplateName;constructor(n){super({name:"CustomVerificationEmailTemplateAlreadyExistsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.CustomVerificationEmailTemplateName=n.CustomVerificationEmailTemplateName}},Su=class e extends pe{name="FromEmailAddressNotVerifiedException";$fault="client";FromEmailAddress;constructor(n){super({name:"FromEmailAddressNotVerifiedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.FromEmailAddress=n.FromEmailAddress}},ij={Allow:"Allow",Block:"Block"},aj={Event:"Event",RequestResponse:"RequestResponse"},cj={Base64:"Base64",UTF8:"UTF-8"},lj={RULE_SET:"RuleSet"},dj={Optional:"Optional",Require:"Require"},Eu=class e extends pe{name="InvalidLambdaFunctionException";$fault="client";FunctionArn;constructor(n){super({name:"InvalidLambdaFunctionException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.FunctionArn=n.FunctionArn}},_u=class e extends pe{name="InvalidS3ConfigurationException";$fault="client";Bucket;constructor(n){super({name:"InvalidS3ConfigurationException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.Bucket=n.Bucket}},bu=class e extends pe{name="InvalidSnsTopicException";$fault="client";Topic;constructor(n){super({name:"InvalidSnsTopicException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.Topic=n.Topic}},wu=class e extends pe{name="RuleDoesNotExistException";$fault="client";Name;constructor(n){super({name:"RuleDoesNotExistException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.Name=n.Name}},xu=class e extends pe{name="InvalidTemplateException";$fault="client";TemplateName;constructor(n){super({name:"InvalidTemplateException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=n.TemplateName}},uj={Failed:"Failed",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},Cu=class e extends pe{name="CustomVerificationEmailTemplateDoesNotExistException";$fault="client";CustomVerificationEmailTemplateName;constructor(n){super({name:"CustomVerificationEmailTemplateDoesNotExistException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.CustomVerificationEmailTemplateName=n.CustomVerificationEmailTemplateName}},Ru=class e extends pe{name="EventDestinationDoesNotExistException";$fault="client";ConfigurationSetName;EventDestinationName;constructor(n){super({name:"EventDestinationDoesNotExistException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName,this.EventDestinationName=n.EventDestinationName}},Tu=class e extends pe{name="TrackingOptionsDoesNotExistException";$fault="client";ConfigurationSetName;constructor(n){super({name:"TrackingOptionsDoesNotExistException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.ConfigurationSetName=n.ConfigurationSetName}},fj={Failed:"Failed",NotStarted:"NotStarted",Pending:"Pending",Success:"Success",TemporaryFailure:"TemporaryFailure"},vu=class e extends pe{name="TemplateDoesNotExistException";$fault="client";TemplateName;constructor(n){super({name:"TemplateDoesNotExistException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=n.TemplateName}},mj={Domain:"Domain",EmailAddress:"EmailAddress"},Au=class e extends pe{name="InvalidDeliveryOptionsException";$fault="client";constructor(n){super({name:"InvalidDeliveryOptionsException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Iu=class e extends pe{name="InvalidPolicyException";$fault="client";constructor(n){super({name:"InvalidPolicyException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Pu=class e extends pe{name="InvalidRenderingParameterException";$fault="client";TemplateName;constructor(n){super({name:"InvalidRenderingParameterException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=n.TemplateName}},Nu=class e extends pe{name="MailFromDomainNotVerifiedException";$fault="client";constructor(n){super({name:"MailFromDomainNotVerifiedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Du=class e extends pe{name="MessageRejected";$fault="client";constructor(n){super({name:"MessageRejected",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},Ou=class e extends pe{name="MissingRenderingAttributeException";$fault="client";TemplateName;constructor(n){super({name:"MissingRenderingAttributeException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype),this.TemplateName=n.TemplateName}},pj={Bounce:"Bounce",Complaint:"Complaint",Delivery:"Delivery"},ku=class e extends pe{name="ProductionAccessNotGrantedException";$fault="client";constructor(n){super({name:"ProductionAccessNotGrantedException",$fault:"client",...n}),Object.setPrototypeOf(this,e.prototype)}},hj=async(e,n)=>{let t=V,r;return r=K({...$V(e),[U]:mW,[W]:G}),q(n,t,"/",void 0,r)},gj=async(e,n)=>{let t=V,r;return r=K({...qV(e),[U]:aW,[W]:G}),q(n,t,"/",void 0,r)},yj=async(e,n)=>{let t=V,r;return r=K({...HV(e),[U]:cW,[W]:G}),q(n,t,"/",void 0,r)},Sj=async(e,n)=>{let t=V,r;return r=K({...VV(e),[U]:lW,[W]:G}),q(n,t,"/",void 0,r)},Ej=async(e,n)=>{let t=V,r;return r=K({...GV(e),[U]:dW,[W]:G}),q(n,t,"/",void 0,r)},_j=async(e,n)=>{let t=V,r;return r=K({...WV(e),[U]:uW,[W]:G}),q(n,t,"/",void 0,r)},bj=async(e,n)=>{let t=V,r;return r=K({...KV(e),[U]:fW,[W]:G}),q(n,t,"/",void 0,r)},wj=async(e,n)=>{let t=V,r;return r=K({...XV(e),[U]:pW,[W]:G}),q(n,t,"/",void 0,r)},xj=async(e,n)=>{let t=V,r;return r=K({...YV(e),[U]:hW,[W]:G}),q(n,t,"/",void 0,r)},Cj=async(e,n)=>{let t=V,r;return r=K({...QV(e),[U]:yW,[W]:G}),q(n,t,"/",void 0,r)},Rj=async(e,n)=>{let t=V,r;return r=K({...JV(e),[U]:SW,[W]:G}),q(n,t,"/",void 0,r)},Tj=async(e,n)=>{let t=V,r;return r=K({...ZV(e),[U]:EW,[W]:G}),q(n,t,"/",void 0,r)},vj=async(e,n)=>{let t=V,r;return r=K({...e2(e),[U]:bW,[W]:G}),q(n,t,"/",void 0,r)},Aj=async(e,n)=>{let t=V,r;return r=K({...n2(e),[U]:wW,[W]:G}),q(n,t,"/",void 0,r)},Ij=async(e,n)=>{let t=V,r;return r=K({...t2(e),[U]:xW,[W]:G}),q(n,t,"/",void 0,r)},Pj=async(e,n)=>{let t=V,r;return r=K({...r2(e),[U]:CW,[W]:G}),q(n,t,"/",void 0,r)},Nj=async(e,n)=>{let t=V,r;return r=K({...s2(e),[U]:RW,[W]:G}),q(n,t,"/",void 0,r)},Dj=async(e,n)=>{let t=V,r;return r=K({...o2(e),[U]:TW,[W]:G}),q(n,t,"/",void 0,r)},Oj=async(e,n)=>{let t=V,r;return r=K({...i2(e),[U]:IW,[W]:G}),q(n,t,"/",void 0,r)},kj=async(e,n)=>{let t=V,r;return r=K({...a2(e),[U]:PW,[W]:G}),q(n,t,"/",void 0,r)},Mj=async(e,n)=>{let t=V,r;return r=K({...l2(),[U]:gW,[W]:G}),q(n,t,"/",void 0,r)},$j=async(e,n)=>{let t=V,r;return r=K({...d2(e),[U]:_W,[W]:G}),q(n,t,"/",void 0,r)},Fj=async(e,n)=>{let t=V,r;return r=K({...u2(e),[U]:AW,[W]:G}),q(n,t,"/",void 0,r)},Lj=async(e,n)=>{let t=V,r;return r=K({...f2(e),[U]:vW,[W]:G}),q(n,t,"/",void 0,r)},Uj=async(e,n)=>{let t=V,r=K({[U]:NW,[W]:G});return q(n,t,"/",void 0,r)},Bj=async(e,n)=>{let t=V,r;return r=K({...h2(e),[U]:DW,[W]:G}),q(n,t,"/",void 0,r)},zj=async(e,n)=>{let t=V,r;return r=K({...g2(e),[U]:OW,[W]:G}),q(n,t,"/",void 0,r)},jj=async(e,n)=>{let t=V,r;return r=K({...y2(e),[U]:kW,[W]:G}),q(n,t,"/",void 0,r)},Hj=async(e,n)=>{let t=V,r;return r=K({...S2(e),[U]:MW,[W]:G}),q(n,t,"/",void 0,r)},qj=async(e,n)=>{let t=V,r;return r=K({...E2(e),[U]:$W,[W]:G}),q(n,t,"/",void 0,r)},Vj=async(e,n)=>{let t=V,r;return r=K({..._2(e),[U]:FW,[W]:G}),q(n,t,"/",void 0,r)},Gj=async(e,n)=>{let t=V,r=K({[U]:LW,[W]:G});return q(n,t,"/",void 0,r)},Wj=async(e,n)=>{let t=V,r=K({[U]:UW,[W]:G});return q(n,t,"/",void 0,r)},Kj=async(e,n)=>{let t=V,r;return r=K({...b2(e),[U]:BW,[W]:G}),q(n,t,"/",void 0,r)},Xj=async(e,n)=>{let t=V,r;return r=K({...C2(e),[U]:zW,[W]:G}),q(n,t,"/",void 0,r)},Yj=async(e,n)=>{let t=V,r;return r=K({...R2(e),[U]:jW,[W]:G}),q(n,t,"/",void 0,r)},Jj=async(e,n)=>{let t=V,r;return r=K({...T2(e),[U]:HW,[W]:G}),q(n,t,"/",void 0,r)},Qj=async(e,n)=>{let t=V,r;return r=K({...v2(e),[U]:qW,[W]:G}),q(n,t,"/",void 0,r)},Zj=async(e,n)=>{let t=V,r;return r=K({...A2(),[U]:VW,[W]:G}),q(n,t,"/",void 0,r)},eH=async(e,n)=>{let t=V,r;return r=K({...I2(e),[U]:GW,[W]:G}),q(n,t,"/",void 0,r)},tH=async(e,n)=>{let t=V,r;return r=K({...P2(e),[U]:WW,[W]:G}),q(n,t,"/",void 0,r)},nH=async(e,n)=>{let t=V,r=K({[U]:KW,[W]:G});return q(n,t,"/",void 0,r)},rH=async(e,n)=>{let t=V,r;return r=K({...M2(e),[U]:XW,[W]:G}),q(n,t,"/",void 0,r)},sH=async(e,n)=>{let t=V,r;return r=K({...$2(e),[U]:YW,[W]:G}),q(n,t,"/",void 0,r)},oH=async(e,n)=>{let t=V,r;return r=K({...V2(e),[U]:JW,[W]:G}),q(n,t,"/",void 0,r)},iH=async(e,n)=>{let t=V,r;return r=K({...W2(e),[U]:ZW,[W]:G}),q(n,t,"/",void 0,r)},aH=async(e,n)=>{let t=V,r;return r=K({...K2(e),[U]:e6,[W]:G}),q(n,t,"/",void 0,r)},cH=async(e,n)=>{let t=V,r;return r=K({...X2(e),[U]:t6,[W]:G}),q(n,t,"/",void 0,r)},lH=async(e,n)=>{let t=V,r;return r=K({...Y2(e),[U]:n6,[W]:G}),q(n,t,"/",void 0,r)},dH=async(e,n)=>{let t=V,r;return r=K({...J2(e,n),[U]:c6,[W]:G}),q(n,t,"/",void 0,r)},uH=async(e,n)=>{let t=V,r;return r=K({...Q2(e),[U]:d6,[W]:G}),q(n,t,"/",void 0,r)},fH=async(e,n)=>{let t=V,r;return r=K({...Z2(e),[U]:QW,[W]:G}),q(n,t,"/",void 0,r)},mH=async(e,n)=>{let t=V,r;return r=K({...e4(e),[U]:r6,[W]:G}),q(n,t,"/",void 0,r)},pH=async(e,n)=>{let t=V,r;return r=K({...t4(e),[U]:s6,[W]:G}),q(n,t,"/",void 0,r)},hH=async(e,n)=>{let t=V,r;return r=K({...n4(e),[U]:o6,[W]:G}),q(n,t,"/",void 0,r)},gH=async(e,n)=>{let t=V,r;return r=K({...r4(e),[U]:i6,[W]:G}),q(n,t,"/",void 0,r)},yH=async(e,n)=>{let t=V,r;return r=K({...s4(e),[U]:a6,[W]:G}),q(n,t,"/",void 0,r)},SH=async(e,n)=>{let t=V,r;return r=K({...o4(e),[U]:l6,[W]:G}),q(n,t,"/",void 0,r)},EH=async(e,n)=>{let t=V,r;return r=K({...l4(e),[U]:u6,[W]:G}),q(n,t,"/",void 0,r)},_H=async(e,n)=>{let t=V,r;return r=K({...d4(e),[U]:f6,[W]:G}),q(n,t,"/",void 0,r)},bH=async(e,n)=>{let t=V,r;return r=K({...u4(e),[U]:m6,[W]:G}),q(n,t,"/",void 0,r)},wH=async(e,n)=>{let t=V,r;return r=K({...f4(e),[U]:p6,[W]:G}),q(n,t,"/",void 0,r)},xH=async(e,n)=>{let t=V,r;return r=K({...m4(e),[U]:h6,[W]:G}),q(n,t,"/",void 0,r)},CH=async(e,n)=>{let t=V,r;return r=K({...p4(e),[U]:g6,[W]:G}),q(n,t,"/",void 0,r)},RH=async(e,n)=>{let t=V,r;return r=K({...h4(e),[U]:y6,[W]:G}),q(n,t,"/",void 0,r)},TH=async(e,n)=>{let t=V,r;return r=K({...g4(e),[U]:S6,[W]:G}),q(n,t,"/",void 0,r)},vH=async(e,n)=>{let t=V,r;return r=K({...y4(e),[U]:E6,[W]:G}),q(n,t,"/",void 0,r)},AH=async(e,n)=>{let t=V,r;return r=K({...S4(e),[U]:_6,[W]:G}),q(n,t,"/",void 0,r)},IH=async(e,n)=>{let t=V,r;return r=K({...E4(e),[U]:b6,[W]:G}),q(n,t,"/",void 0,r)},PH=async(e,n)=>{let t=V,r;return r=K({..._4(e),[U]:w6,[W]:G}),q(n,t,"/",void 0,r)},NH=async(e,n)=>{let t=V,r;return r=K({...b4(e),[U]:x6,[W]:G}),q(n,t,"/",void 0,r)},DH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=N4(t.CloneReceiptRuleSetResult),{$metadata:D(e),...r}},OH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=z4(t.CreateConfigurationSetResult),{$metadata:D(e),...r}},kH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=B4(t.CreateConfigurationSetEventDestinationResult),{$metadata:D(e),...r}},MH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=j4(t.CreateConfigurationSetTrackingOptionsResult),{$metadata:D(e),...r}},$H=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),FH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=H4(t.CreateReceiptFilterResult),{$metadata:D(e),...r}},LH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=q4(t.CreateReceiptRuleResult),{$metadata:D(e),...r}},UH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=V4(t.CreateReceiptRuleSetResult),{$metadata:D(e),...r}},BH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=G4(t.CreateTemplateResult),{$metadata:D(e),...r}},zH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=Z4(t.DeleteConfigurationSetResult),{$metadata:D(e),...r}},jH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=Q4(t.DeleteConfigurationSetEventDestinationResult),{$metadata:D(e),...r}},HH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=e3(t.DeleteConfigurationSetTrackingOptionsResult),{$metadata:D(e),...r}},qH=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),VH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=n3(t.DeleteIdentityResult),{$metadata:D(e),...r}},GH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=t3(t.DeleteIdentityPolicyResult),{$metadata:D(e),...r}},WH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=r3(t.DeleteReceiptFilterResult),{$metadata:D(e),...r}},KH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=s3(t.DeleteReceiptRuleResult),{$metadata:D(e),...r}},XH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=o3(t.DeleteReceiptRuleSetResult),{$metadata:D(e),...r}},YH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=i3(t.DeleteTemplateResult),{$metadata:D(e),...r}},JH=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),QH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=c3(t.DescribeActiveReceiptRuleSetResult),{$metadata:D(e),...r}},ZH=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=l3(t.DescribeConfigurationSetResult),{$metadata:D(e),...r}},eq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=d3(t.DescribeReceiptRuleResult),{$metadata:D(e),...r}},tq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=u3(t.DescribeReceiptRuleSetResult),{$metadata:D(e),...r}},nq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=E3(t.GetAccountSendingEnabledResult),{$metadata:D(e),...r}},rq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=_3(t.GetCustomVerificationEmailTemplateResult),{$metadata:D(e),...r}},sq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=b3(t.GetIdentityDkimAttributesResult),{$metadata:D(e),...r}},oq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=w3(t.GetIdentityMailFromDomainAttributesResult),{$metadata:D(e),...r}},iq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=x3(t.GetIdentityNotificationAttributesResult),{$metadata:D(e),...r}},aq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=C3(t.GetIdentityPoliciesResult),{$metadata:D(e),...r}},cq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=R3(t.GetIdentityVerificationAttributesResult),{$metadata:D(e),...r}},lq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=T3(t.GetSendQuotaResult),{$metadata:D(e),...r}},dq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=v3(t.GetSendStatisticsResult),{$metadata:D(e),...r}},uq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=A3(t.GetTemplateResult),{$metadata:D(e),...r}},fq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=X3(t.ListConfigurationSetsResult),{$metadata:D(e),...r}},mq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=Y3(t.ListCustomVerificationEmailTemplatesResult),{$metadata:D(e),...r}},pq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=J3(t.ListIdentitiesResult),{$metadata:D(e),...r}},hq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=Q3(t.ListIdentityPoliciesResult),{$metadata:D(e),...r}},gq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=Z3(t.ListReceiptFiltersResult),{$metadata:D(e),...r}},yq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=eG(t.ListReceiptRuleSetsResult),{$metadata:D(e),...r}},Sq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=tG(t.ListTemplatesResult),{$metadata:D(e),...r}},Eq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=nG(t.ListVerifiedEmailAddressesResult),{$metadata:D(e),...r}},_q=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=uG(t.PutConfigurationSetDeliveryOptionsResult),{$metadata:D(e),...r}},bq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=fG(t.PutIdentityPolicyResult),{$metadata:D(e),...r}},wq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=_G(t.ReorderReceiptRuleSetResult),{$metadata:D(e),...r}},xq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=RG(t.SendBounceResult),{$metadata:D(e),...r}},Cq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=TG(t.SendBulkTemplatedEmailResult),{$metadata:D(e),...r}},Rq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=vG(t.SendCustomVerificationEmailResult),{$metadata:D(e),...r}},Tq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=PG(t.SendEmailResult),{$metadata:D(e),...r}},vq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=NG(t.SendRawEmailResult),{$metadata:D(e),...r}},Aq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=DG(t.SendTemplatedEmailResult),{$metadata:D(e),...r}},Iq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=OG(t.SetActiveReceiptRuleSetResult),{$metadata:D(e),...r}},Pq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=kG(t.SetIdentityDkimEnabledResult),{$metadata:D(e),...r}},Nq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=MG(t.SetIdentityFeedbackForwardingEnabledResult),{$metadata:D(e),...r}},Dq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=$G(t.SetIdentityHeadersInNotificationsEnabledResult),{$metadata:D(e),...r}},Oq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=FG(t.SetIdentityMailFromDomainResult),{$metadata:D(e),...r}},kq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=LG(t.SetIdentityNotificationTopicResult),{$metadata:D(e),...r}},Mq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=UG(t.SetReceiptRulePositionResult),{$metadata:D(e),...r}},$q=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=WG(t.TestRenderTemplateResult),{$metadata:D(e),...r}},Fq=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),Lq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=JG(t.UpdateConfigurationSetEventDestinationResult),{$metadata:D(e),...r}},Uq=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),Bq=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),zq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=QG(t.UpdateConfigurationSetTrackingOptionsResult),{$metadata:D(e),...r}},jq=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),Hq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=ZG(t.UpdateReceiptRuleResult),{$metadata:D(e),...r}},qq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=eW(t.UpdateTemplateResult),{$metadata:D(e),...r}},Vq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=nW(t.VerifyDomainDkimResult),{$metadata:D(e),...r}},Gq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=rW(t.VerifyDomainIdentityResult),{$metadata:D(e),...r}},Wq=async(e,n)=>e.statusCode>=300?H(e,n):(await p.collectBody(e.body,n),{$metadata:D(e)}),Kq=async(e,n)=>{if(e.statusCode>=300)return H(e,n);let t=await Y.parseXmlBody(e.body,n),r={};return r=sW(t.VerifyEmailIdentityResult),{$metadata:D(e),...r}},H=async(e,n)=>{let t={...e,body:await Y.parseXmlErrorBody(e.body,n)},r=C6(e,t.body);switch(r){case"AlreadyExists":case"com.amazonaws.ses#AlreadyExistsException":throw await Yq(t);case"LimitExceeded":case"com.amazonaws.ses#LimitExceededException":throw await EV(t);case"RuleSetDoesNotExist":case"com.amazonaws.ses#RuleSetDoesNotExistException":throw await RV(t);case"ConfigurationSetAlreadyExists":case"com.amazonaws.ses#ConfigurationSetAlreadyExistsException":throw await Qq(t);case"InvalidConfigurationSet":case"com.amazonaws.ses#InvalidConfigurationSetException":throw await cV(t);case"ConfigurationSetDoesNotExist":case"com.amazonaws.ses#ConfigurationSetDoesNotExistException":throw await Zq(t);case"EventDestinationAlreadyExists":case"com.amazonaws.ses#EventDestinationAlreadyExistsException":throw await sV(t);case"InvalidCloudWatchDestination":case"com.amazonaws.ses#InvalidCloudWatchDestinationException":throw await aV(t);case"InvalidFirehoseDestination":case"com.amazonaws.ses#InvalidFirehoseDestinationException":throw await dV(t);case"InvalidSNSDestination":case"com.amazonaws.ses#InvalidSNSDestinationException":throw await hV(t);case"InvalidTrackingOptions":case"com.amazonaws.ses#InvalidTrackingOptionsException":throw await SV(t);case"TrackingOptionsAlreadyExistsException":case"com.amazonaws.ses#TrackingOptionsAlreadyExistsException":throw await vV(t);case"CustomVerificationEmailInvalidContent":case"com.amazonaws.ses#CustomVerificationEmailInvalidContentException":throw await tV(t);case"CustomVerificationEmailTemplateAlreadyExists":case"com.amazonaws.ses#CustomVerificationEmailTemplateAlreadyExistsException":throw await nV(t);case"FromEmailAddressNotVerified":case"com.amazonaws.ses#FromEmailAddressNotVerifiedException":throw await iV(t);case"InvalidLambdaFunction":case"com.amazonaws.ses#InvalidLambdaFunctionException":throw await uV(t);case"InvalidS3Configuration":case"com.amazonaws.ses#InvalidS3ConfigurationException":throw await pV(t);case"InvalidSnsTopic":case"com.amazonaws.ses#InvalidSnsTopicException":throw await gV(t);case"RuleDoesNotExist":case"com.amazonaws.ses#RuleDoesNotExistException":throw await CV(t);case"InvalidTemplate":case"com.amazonaws.ses#InvalidTemplateException":throw await yV(t);case"EventDestinationDoesNotExist":case"com.amazonaws.ses#EventDestinationDoesNotExistException":throw await oV(t);case"TrackingOptionsDoesNotExistException":case"com.amazonaws.ses#TrackingOptionsDoesNotExistException":throw await AV(t);case"CannotDelete":case"com.amazonaws.ses#CannotDeleteException":throw await Jq(t);case"CustomVerificationEmailTemplateDoesNotExist":case"com.amazonaws.ses#CustomVerificationEmailTemplateDoesNotExistException":throw await rV(t);case"TemplateDoesNotExist":case"com.amazonaws.ses#TemplateDoesNotExistException":throw await TV(t);case"InvalidDeliveryOptions":case"com.amazonaws.ses#InvalidDeliveryOptionsException":throw await lV(t);case"InvalidPolicy":case"com.amazonaws.ses#InvalidPolicyException":throw await fV(t);case"MessageRejected":case"com.amazonaws.ses#MessageRejected":throw await bV(t);case"AccountSendingPausedException":case"com.amazonaws.ses#AccountSendingPausedException":throw await Xq(t);case"ConfigurationSetSendingPausedException":case"com.amazonaws.ses#ConfigurationSetSendingPausedException":throw await eV(t);case"MailFromDomainNotVerifiedException":case"com.amazonaws.ses#MailFromDomainNotVerifiedException":throw await _V(t);case"ProductionAccessNotGranted":case"com.amazonaws.ses#ProductionAccessNotGrantedException":throw await xV(t);case"InvalidRenderingParameter":case"com.amazonaws.ses#InvalidRenderingParameterException":throw await mV(t);case"MissingRenderingAttribute":case"com.amazonaws.ses#MissingRenderingAttributeException":throw await wV(t);default:let s=t.body;return iW({output:e,parsedBody:s.Error,errorCode:r})}},Xq=async(e,n)=>{let t=e.body,r=x4(t.Error),s=new tu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},Yq=async(e,n)=>{let t=e.body,r=T4(t.Error),s=new nu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},Jq=async(e,n)=>{let t=e.body,r=P4(t.Error),s=new ru({$metadata:D(e),...r});return p.decorateServiceException(s,t)},Qq=async(e,n)=>{let t=e.body,r=M4(t.Error),s=new iu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},Zq=async(e,n)=>{let t=e.body,r=$4(t.Error),s=new au({$metadata:D(e),...r});return p.decorateServiceException(s,t)},eV=async(e,n)=>{let t=e.body,r=L4(t.Error),s=new cu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},tV=async(e,n)=>{let t=e.body,r=W4(t.Error),s=new gu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},nV=async(e,n)=>{let t=e.body,r=X4(t.Error),s=new yu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},rV=async(e,n)=>{let t=e.body,r=Y4(t.Error),s=new Cu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},sV=async(e,n)=>{let t=e.body,r=p3(t.Error),s=new du({$metadata:D(e),...r});return p.decorateServiceException(s,t)},oV=async(e,n)=>{let t=e.body,r=h3(t.Error),s=new Ru({$metadata:D(e),...r});return p.decorateServiceException(s,t)},iV=async(e,n)=>{let t=e.body,r=S3(t.Error),s=new Su({$metadata:D(e),...r});return p.decorateServiceException(s,t)},aV=async(e,n)=>{let t=e.body,r=k3(t.Error),s=new uu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},cV=async(e,n)=>{let t=e.body,r=M3(t.Error),s=new lu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},lV=async(e,n)=>{let t=e.body,r=$3(t.Error),s=new Au({$metadata:D(e),...r});return p.decorateServiceException(s,t)},dV=async(e,n)=>{let t=e.body,r=F3(t.Error),s=new fu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},uV=async(e,n)=>{let t=e.body,r=L3(t.Error),s=new Eu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},fV=async(e,n)=>{let t=e.body,r=U3(t.Error),s=new Iu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},mV=async(e,n)=>{let t=e.body,r=B3(t.Error),s=new Pu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},pV=async(e,n)=>{let t=e.body,r=z3(t.Error),s=new _u({$metadata:D(e),...r});return p.decorateServiceException(s,t)},hV=async(e,n)=>{let t=e.body,r=j3(t.Error),s=new mu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},gV=async(e,n)=>{let t=e.body,r=H3(t.Error),s=new bu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},yV=async(e,n)=>{let t=e.body,r=q3(t.Error),s=new xu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},SV=async(e,n)=>{let t=e.body,r=V3(t.Error),s=new pu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},EV=async(e,n)=>{let t=e.body,r=K3(t.Error),s=new su({$metadata:D(e),...r});return p.decorateServiceException(s,t)},_V=async(e,n)=>{let t=e.body,r=sG(t.Error),s=new Nu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},bV=async(e,n)=>{let t=e.body,r=oG(t.Error),s=new Du({$metadata:D(e),...r});return p.decorateServiceException(s,t)},wV=async(e,n)=>{let t=e.body,r=iG(t.Error),s=new Ou({$metadata:D(e),...r});return p.decorateServiceException(s,t)},xV=async(e,n)=>{let t=e.body,r=dG(t.Error),s=new ku({$metadata:D(e),...r});return p.decorateServiceException(s,t)},CV=async(e,n)=>{let t=e.body,r=wG(t.Error),s=new wu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},RV=async(e,n)=>{let t=e.body,r=xG(t.Error),s=new ou({$metadata:D(e),...r});return p.decorateServiceException(s,t)},TV=async(e,n)=>{let t=e.body,r=qG(t.Error),s=new vu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},vV=async(e,n)=>{let t=e.body,r=XG(t.Error),s=new hu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},AV=async(e,n)=>{let t=e.body,r=YG(t.Error),s=new Tu({$metadata:D(e),...r});return p.decorateServiceException(s,t)},IV=(e,n)=>{let t={};return e[xo]!=null&&(t[xo]=e[xo]),e[Ro]!=null&&(t[Ro]=e[Ro]),t},is=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},PV=(e,n)=>{let t={};if(e[u0]!=null){let r=KS(e[u0]);Object.entries(r).forEach(([s,o])=>{let i=`Text.${s}`;t[i]=o})}if(e[i0]!=null){let r=KS(e[i0]);Object.entries(r).forEach(([s,o])=>{let i=`Html.${s}`;t[i]=o})}return t},NV=(e,n)=>{let t={};return e[he]!=null&&(t[he]=e[he]),e[Bo]!=null&&(t[Bo]=e[Bo]),e[Fo]!=null&&(t[Fo]=e[Fo]),e[Nr]!=null&&(t[Nr]=e[Nr]),e[$o]!=null&&(t[$o]=e[$o]),t},DV=(e,n)=>{let t={};if(e[IS]!=null&&(t[IS]=e[IS]),e[PS]!=null&&(t[PS]=e[PS]),e[Jy]!=null&&(t[Jy]=e[Jy]),e[c0]!=null){let r=H2(e[c0]);Object.entries(r).forEach(([s,o])=>{let i=`RecipientDsnFields.${s}`;t[i]=o})}return t},OV=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=DV(s);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},kV=(e,n)=>{let t={};if(e[Xo]!=null){let r=XS(e[Xo]);Object.entries(r).forEach(([s,o])=>{let i=`Destination.${s}`;t[i]=o})}if(e[$S]!=null){let r=cc(e[$S]);e[$S]?.length===0&&(t.ReplacementTags=[]),Object.entries(r).forEach(([s,o])=>{let i=`ReplacementTags.${s}`;t[i]=o})}return e[FS]!=null&&(t[FS]=e[FS]),t},MV=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=kV(s);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},$V=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),e[AS]!=null&&(t[AS]=e[AS]),t},FV=(e,n)=>{let t={};if(e[vr]!=null){let r=UV(e[vr]);e[vr]?.length===0&&(t.DimensionConfigurations=[]),Object.entries(r).forEach(([s,o])=>{let i=`DimensionConfigurations.${s}`;t[i]=o})}return t},LV=(e,n)=>{let t={};return e[po]!=null&&(t[po]=e[po]),e[go]!=null&&(t[go]=e[go]),e[fo]!=null&&(t[fo]=e[fo]),t},UV=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=LV(s);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},BV=(e,n)=>{let t={};return e[te]!=null&&(t[te]=e[te]),t},zV=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},jV=(e,n)=>{let t={};return e[To]!=null&&(t[To]=e[To]),e[Lt]!=null&&(t[Lt]=e[Lt]),t},KS=(e,n)=>{let t={};return e[yo]!=null&&(t[yo]=e[yo]),e[tS]!=null&&(t[tS]=e[tS]),t},HV=(e,n)=>{let t={};if(e[F]!=null&&(t[F]=e[F]),e[Mu]!=null){let r=f0(e[Mu]);Object.entries(r).forEach(([s,o])=>{let i=`EventDestination.${s}`;t[i]=o})}return t},qV=(e,n)=>{let t={};if(e[Wa]!=null){let r=BV(e[Wa]);Object.entries(r).forEach(([s,o])=>{let i=`ConfigurationSet.${s}`;t[i]=o})}return t},VV=(e,n)=>{let t={};if(e[F]!=null&&(t[F]=e[F]),e[cs]!=null){let r=g0(e[cs]);Object.entries(r).forEach(([s,o])=>{let i=`TrackingOptions.${s}`;t[i]=o})}return t},GV=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),e[mt]!=null&&(t[mt]=e[mt]),e[qt]!=null&&(t[qt]=e[qt]),e[Hn]!=null&&(t[Hn]=e[Hn]),e[zt]!=null&&(t[zt]=e[zt]),e[Ft]!=null&&(t[Ft]=e[Ft]),t},WV=(e,n)=>{let t={};if(e[o0]!=null){let r=B2(e[o0]);Object.entries(r).forEach(([s,o])=>{let i=`Filter.${s}`;t[i]=o})}return t},KV=(e,n)=>{let t={};if(e[_e]!=null&&(t[_e]=e[_e]),e[so]!=null&&(t[so]=e[so]),e[as]!=null){let r=p0(e[as]);Object.entries(r).forEach(([s,o])=>{let i=`Rule.${s}`;t[i]=o})}return t},XV=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),t},YV=(e,n)=>{let t={};if(e[Rt]!=null){let r=h0(e[Rt]);Object.entries(r).forEach(([s,o])=>{let i=`Template.${s}`;t[i]=o})}return t},JV=(e,n)=>{let t={};return e[F]!=null&&(t[F]=e[F]),e[Xe]!=null&&(t[Xe]=e[Xe]),t},QV=(e,n)=>{let t={};return e[F]!=null&&(t[F]=e[F]),t},ZV=(e,n)=>{let t={};return e[F]!=null&&(t[F]=e[F]),t},e2=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),t},t2=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),e[Mo]!=null&&(t[Mo]=e[Mo]),t},n2=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),t},r2=(e,n)=>{let t={};return e[hS]!=null&&(t[hS]=e[hS]),t},s2=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),e[Bn]!=null&&(t[Bn]=e[Bn]),t},o2=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),t},i2=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),t},a2=(e,n)=>{let t={};return e[$t]!=null&&(t[$t]=e[$t]),t},c2=(e,n)=>{let t={};return e[Ht]!=null&&(t[Ht]=e[Ht]),t},l2=(e,n)=>({}),d2=(e,n)=>{let t={};if(e[F]!=null&&(t[F]=e[F]),e[rS]!=null){let r=zV(e[rS]);e[rS]?.length===0&&(t.ConfigurationSetAttributeNames=[]),Object.entries(r).forEach(([s,o])=>{let i=`ConfigurationSetAttributeNames.${s}`;t[i]=o})}return t},u2=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),e[Bn]!=null&&(t[Bn]=e[Bn]),t},f2=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),t},XS=(e,n)=>{let t={};if(e[HS]!=null){let r=is(e[HS]);e[HS]?.length===0&&(t.ToAddresses=[]),Object.entries(r).forEach(([s,o])=>{let i=`ToAddresses.${s}`;t[i]=o})}if(e[nS]!=null){let r=is(e[nS]);e[nS]?.length===0&&(t.CcAddresses=[]),Object.entries(r).forEach(([s,o])=>{let i=`CcAddresses.${s}`;t[i]=o})}if(e[Wy]!=null){let r=is(e[Wy]);e[Wy]?.length===0&&(t.BccAddresses=[]),Object.entries(r).forEach(([s,o])=>{let i=`BccAddresses.${s}`;t[i]=o})}return t},f0=(e,n)=>{let t={};if(e[te]!=null&&(t[te]=e[te]),e[De]!=null&&(t[De]=e[De]),e[Ar]!=null){let r=m2(e[Ar]);e[Ar]?.length===0&&(t.MatchingEventTypes=[]),Object.entries(r).forEach(([s,o])=>{let i=`MatchingEventTypes.${s}`;t[i]=o})}if(e[Ja]!=null){let r=w2(e[Ja]);Object.entries(r).forEach(([s,o])=>{let i=`KinesisFirehoseDestination.${s}`;t[i]=o})}if(e[Ka]!=null){let r=FV(e[Ka]);Object.entries(r).forEach(([s,o])=>{let i=`CloudWatchDestination.${s}`;t[i]=o})}if(e[nc]!=null){let r=a4(e[nc]);Object.entries(r).forEach(([s,o])=>{let i=`SNSDestination.${s}`;t[i]=o})}return t},m2=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},p2=(e,n)=>{let t={};return e[te]!=null&&(t[te]=e[te]),e[Wo]!=null&&(t[Wo]=e[Wo]),t},m0=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=p2(s);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},h2=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),t},g2=(e,n)=>{let t={};if(e[nt]!=null){let r=Qf(e[nt]);e[nt]?.length===0&&(t.Identities=[]),Object.entries(r).forEach(([s,o])=>{let i=`Identities.${s}`;t[i]=o})}return t},y2=(e,n)=>{let t={};if(e[nt]!=null){let r=Qf(e[nt]);e[nt]?.length===0&&(t.Identities=[]),Object.entries(r).forEach(([s,o])=>{let i=`Identities.${s}`;t[i]=o})}return t},S2=(e,n)=>{let t={};if(e[nt]!=null){let r=Qf(e[nt]);e[nt]?.length===0&&(t.Identities=[]),Object.entries(r).forEach(([s,o])=>{let i=`Identities.${s}`;t[i]=o})}return t},E2=(e,n)=>{let t={};if(e[xe]!=null&&(t[xe]=e[xe]),e[Ir]!=null){let r=k2(e[Ir]);e[Ir]?.length===0&&(t.PolicyNames=[]),Object.entries(r).forEach(([s,o])=>{let i=`PolicyNames.${s}`;t[i]=o})}return t},_2=(e,n)=>{let t={};if(e[nt]!=null){let r=Qf(e[nt]);e[nt]?.length===0&&(t.Identities=[]),Object.entries(r).forEach(([s,o])=>{let i=`Identities.${s}`;t[i]=o})}return t},b2=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),t},Qf=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},w2=(e,n)=>{let t={};return e[Lt]!=null&&(t[Lt]=e[Lt]),e[ho]!=null&&(t[ho]=e[ho]),t},x2=(e,n)=>{let t={};return e[he]!=null&&(t[he]=e[he]),e[Fn]!=null&&(t[Fn]=e[Fn]),e[Ao]!=null&&(t[Ao]=e[Ao]),t},C2=(e,n)=>{let t={};return e[Ce]!=null&&(t[Ce]=e[Ce]),e[Ln]!=null&&(t[Ln]=e[Ln]),t},R2=(e,n)=>{let t={};return e[Ce]!=null&&(t[Ce]=e[Ce]),e[RS]!=null&&(t[RS]=e[RS]),t},T2=(e,n)=>{let t={};return e[_S]!=null&&(t[_S]=e[_S]),e[Ce]!=null&&(t[Ce]=e[Ce]),e[Ln]!=null&&(t[Ln]=e[Ln]),t},v2=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),t},A2=(e,n)=>({}),I2=(e,n)=>{let t={};return e[Ce]!=null&&(t[Ce]=e[Ce]),t},P2=(e,n)=>{let t={};return e[Ce]!=null&&(t[Ce]=e[Ce]),e[Ln]!=null&&(t[Ln]=e[Ln]),t},N2=(e,n)=>{let t={};if(e[d0]!=null){let r=KS(e[d0]);Object.entries(r).forEach(([s,o])=>{let i=`Subject.${s}`;t[i]=o})}if(e[s0]!=null){let r=PV(e[s0]);Object.entries(r).forEach(([s,o])=>{let i=`Body.${s}`;t[i]=o})}return t},D2=(e,n)=>{let t={};if(e[NS]!=null&&(t[NS]=e[NS]),e[Gy]!=null&&(t[Gy]=p.serializeDateTime(e[Gy])),e[_o]!=null){let r=m0(e[_o]);e[_o]?.length===0&&(t.ExtensionFields=[]),Object.entries(r).forEach(([s,o])=>{let i=`ExtensionFields.${s}`;t[i]=o})}return t},O2=(e,n)=>{let t={};return e[te]!=null&&(t[te]=e[te]),e[Wo]!=null&&(t[Wo]=e[Wo]),t},cc=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=O2(s);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},k2=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},M2=(e,n)=>{let t={};if(e[F]!=null&&(t[F]=e[F]),e[Xa]!=null){let r=c2(e[Xa]);Object.entries(r).forEach(([s,o])=>{let i=`DeliveryOptions.${s}`;t[i]=o})}return t},$2=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),e[Mo]!=null&&(t[Mo]=e[Mo]),e[Un]!=null&&(t[Un]=e[Un]),t},F2=(e,n)=>{let t={};return e[yo]!=null&&(t[yo]=n.base64Encoder(e[yo])),t},L2=(e,n)=>{let t={};if(e[Za]!=null){let r=G2(e[Za]);Object.entries(r).forEach(([s,o])=>{let i=`S3Action.${s}`;t[i]=o})}if(e[Va]!=null){let r=NV(e[Va]);Object.entries(r).forEach(([s,o])=>{let i=`BounceAction.${s}`;t[i]=o})}if(e[rc]!=null){let r=w4(e[rc]);Object.entries(r).forEach(([s,o])=>{let i=`WorkmailAction.${s}`;t[i]=o})}if(e[Qa]!=null){let r=x2(e[Qa]);Object.entries(r).forEach(([s,o])=>{let i=`LambdaAction.${s}`;t[i]=o})}if(e[ec]!=null){let r=c4(e[ec]);Object.entries(r).forEach(([s,o])=>{let i=`StopAction.${s}`;t[i]=o})}if(e[qa]!=null){let r=IV(e[qa]);Object.entries(r).forEach(([s,o])=>{let i=`AddHeaderAction.${s}`;t[i]=o})}if(e[tc]!=null){let r=i4(e[tc]);Object.entries(r).forEach(([s,o])=>{let i=`SNSAction.${s}`;t[i]=o})}if(e[Ga]!=null){let r=jV(e[Ga]);Object.entries(r).forEach(([s,o])=>{let i=`ConnectAction.${s}`;t[i]=o})}return t},U2=(e,n)=>{let t={},r=1;for(let s of e){if(s===null)continue;let o=L2(s);Object.entries(o).forEach(([i,a])=>{t[`member.${r}.${i}`]=a}),r++}return t},B2=(e,n)=>{let t={};if(e[te]!=null&&(t[te]=e[te]),e[Ya]!=null){let r=z2(e[Ya]);Object.entries(r).forEach(([s,o])=>{let i=`IpFilter.${s}`;t[i]=o})}return t},z2=(e,n)=>{let t={};return e[Un]!=null&&(t[Un]=e[Un]),e[uo]!=null&&(t[uo]=e[uo]),t},p0=(e,n)=>{let t={};if(e[te]!=null&&(t[te]=e[te]),e[De]!=null&&(t[De]=e[De]),e[Ht]!=null&&(t[Ht]=e[Ht]),e[Pr]!=null){let r=q2(e[Pr]);e[Pr]?.length===0&&(t.Recipients=[]),Object.entries(r).forEach(([s,o])=>{let i=`Recipients.${s}`;t[i]=o})}if(e[Tr]!=null){let r=U2(e[Tr]);e[Tr]?.length===0&&(t.Actions=[]),Object.entries(r).forEach(([s,o])=>{let i=`Actions.${s}`;t[i]=o})}return e[Lo]!=null&&(t[Lo]=e[Lo]),t},j2=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},H2=(e,n)=>{let t={};if(e[gS]!=null&&(t[gS]=e[gS]),e[U]!=null&&(t[U]=e[U]),e[OS]!=null&&(t[OS]=e[OS]),e[Yt]!=null&&(t[Yt]=e[Yt]),e[aS]!=null&&(t[aS]=e[aS]),e[bS]!=null&&(t[bS]=p.serializeDateTime(e[bS])),e[_o]!=null){let r=m0(e[_o]);e[_o]?.length===0&&(t.ExtensionFields=[]),Object.entries(r).forEach(([s,o])=>{let i=`ExtensionFields.${s}`;t[i]=o})}return t},q2=(e,n)=>{let t={},r=1;for(let s of e)s!==null&&(t[`member.${r}`]=s,r++);return t},V2=(e,n)=>{let t={};if(e[_e]!=null&&(t[_e]=e[_e]),e[kS]!=null){let r=j2(e[kS]);e[kS]?.length===0&&(t.RuleNames=[]),Object.entries(r).forEach(([s,o])=>{let i=`RuleNames.${s}`;t[i]=o})}return t},G2=(e,n)=>{let t={};return e[he]!=null&&(t[he]=e[he]),e[oo]!=null&&(t[oo]=e[oo]),e[ko]!=null&&(t[ko]=e[ko]),e[Io]!=null&&(t[Io]=e[Io]),e[vo]!=null&&(t[vo]=e[vo]),t},W2=(e,n)=>{let t={};if(e[vS]!=null&&(t[vS]=e[vS]),e[Xy]!=null&&(t[Xy]=e[Xy]),e[mS]!=null&&(t[mS]=e[mS]),e[a0]!=null){let r=D2(e[a0]);Object.entries(r).forEach(([s,o])=>{let i=`MessageDsn.${s}`;t[i]=o})}if(e[Ky]!=null){let r=OV(e[Ky]);e[Ky]?.length===0&&(t.BouncedRecipientInfoList=[]),Object.entries(r).forEach(([s,o])=>{let i=`BouncedRecipientInfoList.${s}`;t[i]=o})}return e[Yy]!=null&&(t[Yy]=e[Yy]),t},K2=(e,n)=>{let t={};if(e[jt]!=null&&(t[jt]=e[jt]),e[Bt]!=null&&(t[Bt]=e[Bt]),e[jn]!=null){let r=is(e[jn]);e[jn]?.length===0&&(t.ReplyToAddresses=[]),Object.entries(r).forEach(([s,o])=>{let i=`ReplyToAddresses.${s}`;t[i]=o})}if(e[zn]!=null&&(t[zn]=e[zn]),e[Ut]!=null&&(t[Ut]=e[Ut]),e[F]!=null&&(t[F]=e[F]),e[lS]!=null){let r=cc(e[lS]);e[lS]?.length===0&&(t.DefaultTags=[]),Object.entries(r).forEach(([s,o])=>{let i=`DefaultTags.${s}`;t[i]=o})}if(e[Rt]!=null&&(t[Rt]=e[Rt]),e[Ho]!=null&&(t[Ho]=e[Ho]),e[cS]!=null&&(t[cS]=e[cS]),e[So]!=null){let r=MV(e[So]);e[So]?.length===0&&(t.Destinations=[]),Object.entries(r).forEach(([s,o])=>{let i=`Destinations.${s}`;t[i]=o})}return t},X2=(e,n)=>{let t={};return e[$t]!=null&&(t[$t]=e[$t]),e[ne]!=null&&(t[ne]=e[ne]),e[F]!=null&&(t[F]=e[F]),t},Y2=(e,n)=>{let t={};if(e[jt]!=null&&(t[jt]=e[jt]),e[Xo]!=null){let r=XS(e[Xo]);Object.entries(r).forEach(([s,o])=>{let i=`Destination.${s}`;t[i]=o})}if(e[Nr]!=null){let r=N2(e[Nr]);Object.entries(r).forEach(([s,o])=>{let i=`Message.${s}`;t[i]=o})}if(e[jn]!=null){let r=is(e[jn]);e[jn]?.length===0&&(t.ReplyToAddresses=[]),Object.entries(r).forEach(([s,o])=>{let i=`ReplyToAddresses.${s}`;t[i]=o})}if(e[zn]!=null&&(t[zn]=e[zn]),e[Bt]!=null&&(t[Bt]=e[Bt]),e[Ut]!=null&&(t[Ut]=e[Ut]),e[qn]!=null){let r=cc(e[qn]);e[qn]?.length===0&&(t.Tags=[]),Object.entries(r).forEach(([s,o])=>{let i=`Tags.${s}`;t[i]=o})}return e[F]!=null&&(t[F]=e[F]),t},J2=(e,n)=>{let t={};if(e[jt]!=null&&(t[jt]=e[jt]),e[So]!=null){let r=is(e[So]);e[So]?.length===0&&(t.Destinations=[]),Object.entries(r).forEach(([s,o])=>{let i=`Destinations.${s}`;t[i]=o})}if(e[l0]!=null){let r=F2(e[l0],n);Object.entries(r).forEach(([s,o])=>{let i=`RawMessage.${s}`;t[i]=o})}if(e[pS]!=null&&(t[pS]=e[pS]),e[Bt]!=null&&(t[Bt]=e[Bt]),e[Ut]!=null&&(t[Ut]=e[Ut]),e[qn]!=null){let r=cc(e[qn]);e[qn]?.length===0&&(t.Tags=[]),Object.entries(r).forEach(([s,o])=>{let i=`Tags.${s}`;t[i]=o})}return e[F]!=null&&(t[F]=e[F]),t},Q2=(e,n)=>{let t={};if(e[jt]!=null&&(t[jt]=e[jt]),e[Xo]!=null){let r=XS(e[Xo]);Object.entries(r).forEach(([s,o])=>{let i=`Destination.${s}`;t[i]=o})}if(e[jn]!=null){let r=is(e[jn]);e[jn]?.length===0&&(t.ReplyToAddresses=[]),Object.entries(r).forEach(([s,o])=>{let i=`ReplyToAddresses.${s}`;t[i]=o})}if(e[zn]!=null&&(t[zn]=e[zn]),e[Bt]!=null&&(t[Bt]=e[Bt]),e[Ut]!=null&&(t[Ut]=e[Ut]),e[qn]!=null){let r=cc(e[qn]);e[qn]?.length===0&&(t.Tags=[]),Object.entries(r).forEach(([s,o])=>{let i=`Tags.${s}`;t[i]=o})}return e[F]!=null&&(t[F]=e[F]),e[Rt]!=null&&(t[Rt]=e[Rt]),e[Ho]!=null&&(t[Ho]=e[Ho]),e[qo]!=null&&(t[qo]=e[qo]),t},Z2=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),t},e4=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),e[mo]!=null&&(t[mo]=e[mo]),t},t4=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),e[wo]!=null&&(t[wo]=e[wo]),t},n4=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),e[Do]!=null&&(t[Do]=e[Do]),e[De]!=null&&(t[De]=e[De]),t},r4=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),e[Po]!=null&&(t[Po]=e[Po]),e[io]!=null&&(t[io]=e[io]),t},s4=(e,n)=>{let t={};return e[xe]!=null&&(t[xe]=e[xe]),e[Do]!=null&&(t[Do]=e[Do]),e[jS]!=null&&(t[jS]=e[jS]),t},o4=(e,n)=>{let t={};return e[_e]!=null&&(t[_e]=e[_e]),e[Bn]!=null&&(t[Bn]=e[Bn]),e[so]!=null&&(t[so]=e[so]),t},i4=(e,n)=>{let t={};return e[he]!=null&&(t[he]=e[he]),e[bo]!=null&&(t[bo]=e[bo]),t},a4=(e,n)=>{let t={};return e[jo]!=null&&(t[jo]=e[jo]),t},c4=(e,n)=>{let t={};return e[zo]!=null&&(t[zo]=e[zo]),e[he]!=null&&(t[he]=e[he]),t},h0=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),e[Uo]!=null&&(t[Uo]=e[Uo]),e[Vo]!=null&&(t[Vo]=e[Vo]),e[Co]!=null&&(t[Co]=e[Co]),t},l4=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),e[qo]!=null&&(t[qo]=e[qo]),t},g0=(e,n)=>{let t={};return e[ao]!=null&&(t[ao]=e[ao]),t},d4=(e,n)=>{let t={};return e[De]!=null&&(t[De]=e[De]),t},u4=(e,n)=>{let t={};if(e[F]!=null&&(t[F]=e[F]),e[Mu]!=null){let r=f0(e[Mu]);Object.entries(r).forEach(([s,o])=>{let i=`EventDestination.${s}`;t[i]=o})}return t},f4=(e,n)=>{let t={};return e[F]!=null&&(t[F]=e[F]),e[De]!=null&&(t[De]=e[De]),t},m4=(e,n)=>{let t={};return e[F]!=null&&(t[F]=e[F]),e[De]!=null&&(t[De]=e[De]),t},p4=(e,n)=>{let t={};if(e[F]!=null&&(t[F]=e[F]),e[cs]!=null){let r=g0(e[cs]);Object.entries(r).forEach(([s,o])=>{let i=`TrackingOptions.${s}`;t[i]=o})}return t},h4=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=e[ne]),e[mt]!=null&&(t[mt]=e[mt]),e[qt]!=null&&(t[qt]=e[qt]),e[Hn]!=null&&(t[Hn]=e[Hn]),e[zt]!=null&&(t[zt]=e[zt]),e[Ft]!=null&&(t[Ft]=e[Ft]),t},g4=(e,n)=>{let t={};if(e[_e]!=null&&(t[_e]=e[_e]),e[as]!=null){let r=p0(e[as]);Object.entries(r).forEach(([s,o])=>{let i=`Rule.${s}`;t[i]=o})}return t},y4=(e,n)=>{let t={};if(e[Rt]!=null){let r=h0(e[Rt]);Object.entries(r).forEach(([s,o])=>{let i=`Template.${s}`;t[i]=o})}return t},S4=(e,n)=>{let t={};return e[Eo]!=null&&(t[Eo]=e[Eo]),t},E4=(e,n)=>{let t={};return e[Eo]!=null&&(t[Eo]=e[Eo]),t},_4=(e,n)=>{let t={};return e[$t]!=null&&(t[$t]=e[$t]),t},b4=(e,n)=>{let t={};return e[$t]!=null&&(t[$t]=e[$t]),t},w4=(e,n)=>{let t={};return e[he]!=null&&(t[he]=e[he]),e[Oo]!=null&&(t[Oo]=e[Oo]),t},x4=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},C4=(e,n)=>{let t={};return e[xo]!=null&&(t[xo]=p.expectString(e[xo])),e[Ro]!=null&&(t[Ro]=p.expectString(e[Ro])),t},R4=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>p.expectString(t)),T4=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},v4=(e,n)=>{let t={};return e[he]!=null&&(t[he]=p.expectString(e[he])),e[Bo]!=null&&(t[Bo]=p.expectString(e[Bo])),e[Fo]!=null&&(t[Fo]=p.expectString(e[Fo])),e[Nr]!=null&&(t[Nr]=p.expectString(e[Nr])),e[$o]!=null&&(t[$o]=p.expectString(e[$o])),t},A4=(e,n)=>{let t={};return e[Yt]!=null&&(t[Yt]=p.expectString(e[Yt])),e[fS]!=null&&(t[fS]=p.expectString(e[fS])),e[Ye]!=null&&(t[Ye]=p.expectString(e[Ye])),t},I4=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>A4(t)),P4=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},N4=(e,n)=>({}),D4=(e,n)=>{let t={};return String(e.DimensionConfigurations).trim()===""?t[vr]=[]:e[vr]!=null&&e[vr][me]!=null&&(t[vr]=k4(p.getArrayIfSingleItem(e[vr][me]))),t},O4=(e,n)=>{let t={};return e[po]!=null&&(t[po]=p.expectString(e[po])),e[go]!=null&&(t[go]=p.expectString(e[go])),e[fo]!=null&&(t[fo]=p.expectString(e[fo])),t},k4=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>O4(t)),y0=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),t},M4=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},$4=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},F4=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>y0(t)),L4=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},U4=(e,n)=>{let t={};return e[To]!=null&&(t[To]=p.expectString(e[To])),e[Lt]!=null&&(t[Lt]=p.expectString(e[Lt])),t},B4=(e,n)=>({}),z4=(e,n)=>({}),j4=(e,n)=>({}),H4=(e,n)=>({}),q4=(e,n)=>({}),V4=(e,n)=>({}),G4=(e,n)=>({}),W4=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},K4=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=p.expectString(e[ne])),e[mt]!=null&&(t[mt]=p.expectString(e[mt])),e[qt]!=null&&(t[qt]=p.expectString(e[qt])),e[zt]!=null&&(t[zt]=p.expectString(e[zt])),e[Ft]!=null&&(t[Ft]=p.expectString(e[Ft])),t},X4=(e,n)=>{let t={};return e[lo]!=null&&(t[lo]=p.expectString(e[lo])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},Y4=(e,n)=>{let t={};return e[lo]!=null&&(t[lo]=p.expectString(e[lo])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},J4=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>K4(t)),Q4=(e,n)=>({}),Z4=(e,n)=>({}),e3=(e,n)=>({}),t3=(e,n)=>({}),n3=(e,n)=>({}),r3=(e,n)=>({}),s3=(e,n)=>({}),o3=(e,n)=>({}),i3=(e,n)=>({}),a3=(e,n)=>{let t={};return e[Ht]!=null&&(t[Ht]=p.expectString(e[Ht])),t},c3=(e,n)=>{let t={};return e[No]!=null&&(t[No]=YS(e[No])),String(e.Rules).trim()===""?t[hn]=[]:e[hn]!=null&&e[hn][me]!=null&&(t[hn]=E0(p.getArrayIfSingleItem(e[hn][me]))),t},l3=(e,n)=>{let t={};return e[Wa]!=null&&(t[Wa]=y0(e[Wa])),String(e.EventDestinations).trim()===""?t[Oa]=[]:e[Oa]!=null&&e[Oa][me]!=null&&(t[Oa]=g3(p.getArrayIfSingleItem(e[Oa][me]))),e[cs]!=null&&(t[cs]=KG(e[cs])),e[Xa]!=null&&(t[Xa]=a3(e[Xa])),e[MS]!=null&&(t[MS]=bG(e[MS])),t},d3=(e,n)=>{let t={};return e[as]!=null&&(t[as]=S0(e[as])),t},u3=(e,n)=>{let t={};return e[No]!=null&&(t[No]=YS(e[No])),String(e.Rules).trim()===""?t[hn]=[]:e[hn]!=null&&e[hn][me]!=null&&(t[hn]=E0(p.getArrayIfSingleItem(e[hn][me]))),t},f3=(e,n)=>e.reduce((t,r)=>(r.value===null||(t[r.key]=I3(r.value)),t),{}),m3=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[De]!=null&&(t[De]=p.parseBoolean(e[De])),String(e.MatchingEventTypes).trim()===""?t[Ar]=[]:e[Ar]!=null&&e[Ar][me]!=null&&(t[Ar]=y3(p.getArrayIfSingleItem(e[Ar][me]))),e[Ja]!=null&&(t[Ja]=G3(e[Ja])),e[Ka]!=null&&(t[Ka]=D4(e[Ka])),e[nc]!=null&&(t[nc]=zG(e[nc])),t},p3=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[Xe]!=null&&(t[Xe]=p.expectString(e[Xe])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},h3=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[Xe]!=null&&(t[Xe]=p.expectString(e[Xe])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},g3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>m3(t)),y3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>p.expectString(t)),S3=(e,n)=>{let t={};return e[mt]!=null&&(t[mt]=p.expectString(e[mt])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},E3=(e,n)=>{let t={};return e[De]!=null&&(t[De]=p.parseBoolean(e[De])),t},_3=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=p.expectString(e[ne])),e[mt]!=null&&(t[mt]=p.expectString(e[mt])),e[qt]!=null&&(t[qt]=p.expectString(e[qt])),e[Hn]!=null&&(t[Hn]=p.expectString(e[Hn])),e[zt]!=null&&(t[zt]=p.expectString(e[zt])),e[Ft]!=null&&(t[Ft]=p.expectString(e[Ft])),t},b3=(e,n)=>{let t={};return String(e.DkimAttributes).trim()===""?t[Da]={}:e[Da]!=null&&e[Da][gn]!=null&&(t[Da]=f3(p.getArrayIfSingleItem(e[Da][gn]))),t},w3=(e,n)=>{let t={};return String(e.MailFromDomainAttributes).trim()===""?t[Ma]={}:e[Ma]!=null&&e[Ma][gn]!=null&&(t[Ma]=rG(p.getArrayIfSingleItem(e[Ma][gn]))),t},x3=(e,n)=>{let t={};return String(e.NotificationAttributes).trim()===""?t[$a]={}:e[$a]!=null&&e[$a][gn]!=null&&(t[$a]=aG(p.getArrayIfSingleItem(e[$a][gn]))),t},C3=(e,n)=>{let t={};return String(e.Policies).trim()===""?t[Fa]={}:e[Fa]!=null&&e[Fa][gn]!=null&&(t[Fa]=cG(p.getArrayIfSingleItem(e[Fa][gn]))),t},R3=(e,n)=>{let t={};return String(e.VerificationAttributes).trim()===""?t[za]={}:e[za]!=null&&e[za][gn]!=null&&(t[za]=tW(p.getArrayIfSingleItem(e[za][gn]))),t},T3=(e,n)=>{let t={};return e[CS]!=null&&(t[CS]=p.strictParseFloat(e[CS])),e[TS]!=null&&(t[TS]=p.strictParseFloat(e[TS])),e[zS]!=null&&(t[zS]=p.strictParseFloat(e[zS])),t},v3=(e,n)=>{let t={};return String(e.SendDataPoints).trim()===""?t[Ua]=[]:e[Ua]!=null&&e[Ua][me]!=null&&(t[Ua]=IG(p.getArrayIfSingleItem(e[Ua][me]))),t},A3=(e,n)=>{let t={};return e[Rt]!=null&&(t[Rt]=HG(e[Rt])),t},I3=(e,n)=>{let t={};return e[mo]!=null&&(t[mo]=p.parseBoolean(e[mo])),e[uS]!=null&&(t[uS]=p.expectString(e[uS])),String(e.DkimTokens).trim()===""?t[pn]=[]:e[pn]!=null&&e[pn][me]!=null&&(t[pn]=_0(p.getArrayIfSingleItem(e[pn][me]))),t},P3=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>p.expectString(t)),N3=(e,n)=>{let t={};return e[Po]!=null&&(t[Po]=p.expectString(e[Po])),e[xS]!=null&&(t[xS]=p.expectString(e[xS])),e[io]!=null&&(t[io]=p.expectString(e[io])),t},D3=(e,n)=>{let t={};return e[Qy]!=null&&(t[Qy]=p.expectString(e[Qy])),e[sS]!=null&&(t[sS]=p.expectString(e[sS])),e[dS]!=null&&(t[dS]=p.expectString(e[dS])),e[wo]!=null&&(t[wo]=p.parseBoolean(e[wo])),e[yS]!=null&&(t[yS]=p.parseBoolean(e[yS])),e[SS]!=null&&(t[SS]=p.parseBoolean(e[SS])),e[ES]!=null&&(t[ES]=p.parseBoolean(e[ES])),t},O3=(e,n)=>{let t={};return e[GS]!=null&&(t[GS]=p.expectString(e[GS])),e[Go]!=null&&(t[Go]=p.expectString(e[Go])),t},k3=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[Xe]!=null&&(t[Xe]=p.expectString(e[Xe])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},M3=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},$3=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},F3=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[Xe]!=null&&(t[Xe]=p.expectString(e[Xe])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},L3=(e,n)=>{let t={};return e[Fn]!=null&&(t[Fn]=p.expectString(e[Fn])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},U3=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},B3=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=p.expectString(e[ne])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},z3=(e,n)=>{let t={};return e[eS]!=null&&(t[eS]=p.expectString(e[eS])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},j3=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[Xe]!=null&&(t[Xe]=p.expectString(e[Xe])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},H3=(e,n)=>{let t={};return e[VS]!=null&&(t[VS]=p.expectString(e[VS])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},q3=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=p.expectString(e[ne])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},V3=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},G3=(e,n)=>{let t={};return e[Lt]!=null&&(t[Lt]=p.expectString(e[Lt])),e[ho]!=null&&(t[ho]=p.expectString(e[ho])),t},W3=(e,n)=>{let t={};return e[he]!=null&&(t[he]=p.expectString(e[he])),e[Fn]!=null&&(t[Fn]=p.expectString(e[Fn])),e[Ao]!=null&&(t[Ao]=p.expectString(e[Ao])),t},K3=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},X3=(e,n)=>{let t={};return String(e.ConfigurationSets).trim()===""?t[Pa]=[]:e[Pa]!=null&&e[Pa][me]!=null&&(t[Pa]=F4(p.getArrayIfSingleItem(e[Pa][me]))),e[Ce]!=null&&(t[Ce]=p.expectString(e[Ce])),t},Y3=(e,n)=>{let t={};return String(e.CustomVerificationEmailTemplates).trim()===""?t[Na]=[]:e[Na]!=null&&e[Na][me]!=null&&(t[Na]=J4(p.getArrayIfSingleItem(e[Na][me]))),e[Ce]!=null&&(t[Ce]=p.expectString(e[Ce])),t},J3=(e,n)=>{let t={};return String(e.Identities).trim()===""?t[nt]=[]:e[nt]!=null&&e[nt][me]!=null&&(t[nt]=P3(p.getArrayIfSingleItem(e[nt][me]))),e[Ce]!=null&&(t[Ce]=p.expectString(e[Ce])),t},Q3=(e,n)=>{let t={};return String(e.PolicyNames).trim()===""?t[Ir]=[]:e[Ir]!=null&&e[Ir][me]!=null&&(t[Ir]=lG(p.getArrayIfSingleItem(e[Ir][me]))),t},Z3=(e,n)=>{let t={};return String(e.Filters).trim()===""?t[ka]=[]:e[ka]!=null&&e[ka][me]!=null&&(t[ka]=gG(p.getArrayIfSingleItem(e[ka][me]))),t},eG=(e,n)=>{let t={};return String(e.RuleSets).trim()===""?t[La]=[]:e[La]!=null&&e[La][me]!=null&&(t[La]=SG(p.getArrayIfSingleItem(e[La][me]))),e[Ce]!=null&&(t[Ce]=p.expectString(e[Ce])),t},tG=(e,n)=>{let t={};return String(e.TemplatesMetadata).trim()===""?t[Ba]=[]:e[Ba]!=null&&e[Ba][me]!=null&&(t[Ba]=GG(p.getArrayIfSingleItem(e[Ba][me]))),e[Ce]!=null&&(t[Ce]=p.expectString(e[Ce])),t},nG=(e,n)=>{let t={};return String(e.VerifiedEmailAddresses).trim()===""?t[ja]=[]:e[ja]!=null&&e[ja][me]!=null&&(t[ja]=R4(p.getArrayIfSingleItem(e[ja][me]))),t},rG=(e,n)=>e.reduce((t,r)=>(r.value===null||(t[r.key]=N3(r.value)),t),{}),sG=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},oG=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},iG=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=p.expectString(e[ne])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},aG=(e,n)=>e.reduce((t,r)=>(r.value===null||(t[r.key]=D3(r.value)),t),{}),cG=(e,n)=>e.reduce((t,r)=>(r.value===null||(t[r.key]=p.expectString(r.value)),t),{}),lG=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>p.expectString(t)),dG=(e,n)=>{let t={};return e[k]!=null&&(t[k]=p.expectString(e[k])),t},uG=(e,n)=>({}),fG=(e,n)=>({}),mG=(e,n)=>{let t={};return e[Za]!=null&&(t[Za]=CG(e[Za])),e[Va]!=null&&(t[Va]=v4(e[Va])),e[rc]!=null&&(t[rc]=oW(e[rc])),e[Qa]!=null&&(t[Qa]=W3(e[Qa])),e[ec]!=null&&(t[ec]=jG(e[ec])),e[qa]!=null&&(t[qa]=C4(e[qa])),e[tc]!=null&&(t[tc]=BG(e[tc])),e[Ga]!=null&&(t[Ga]=U4(e[Ga])),t},pG=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>mG(t)),hG=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[Ya]!=null&&(t[Ya]=yG(e[Ya])),t},gG=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>hG(t)),yG=(e,n)=>{let t={};return e[Un]!=null&&(t[Un]=p.expectString(e[Un])),e[uo]!=null&&(t[uo]=p.expectString(e[uo])),t},S0=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[De]!=null&&(t[De]=p.parseBoolean(e[De])),e[Ht]!=null&&(t[Ht]=p.expectString(e[Ht])),String(e.Recipients).trim()===""?t[Pr]=[]:e[Pr]!=null&&e[Pr][me]!=null&&(t[Pr]=EG(p.getArrayIfSingleItem(e[Pr][me]))),String(e.Actions).trim()===""?t[Tr]=[]:e[Tr]!=null&&e[Tr][me]!=null&&(t[Tr]=pG(p.getArrayIfSingleItem(e[Tr][me]))),e[Lo]!=null&&(t[Lo]=p.parseBoolean(e[Lo])),t},YS=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[co]!=null&&(t[co]=p.expectNonNull(p.parseRfc3339DateTimeWithOffset(e[co]))),t},SG=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>YS(t)),E0=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>S0(t)),EG=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>p.expectString(t)),_G=(e,n)=>({}),bG=(e,n)=>{let t={};return e[BS]!=null&&(t[BS]=p.parseBoolean(e[BS])),e[DS]!=null&&(t[DS]=p.parseBoolean(e[DS])),e[wS]!=null&&(t[wS]=p.expectNonNull(p.parseRfc3339DateTimeWithOffset(e[wS]))),t},wG=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},xG=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},CG=(e,n)=>{let t={};return e[he]!=null&&(t[he]=p.expectString(e[he])),e[oo]!=null&&(t[oo]=p.expectString(e[oo])),e[ko]!=null&&(t[ko]=p.expectString(e[ko])),e[Io]!=null&&(t[Io]=p.expectString(e[Io])),e[vo]!=null&&(t[vo]=p.expectString(e[vo])),t},RG=(e,n)=>{let t={};return e[Ye]!=null&&(t[Ye]=p.expectString(e[Ye])),t},TG=(e,n)=>{let t={};return String(e.Status).trim()===""?t[Yt]=[]:e[Yt]!=null&&e[Yt][me]!=null&&(t[Yt]=I4(p.getArrayIfSingleItem(e[Yt][me]))),t},vG=(e,n)=>{let t={};return e[Ye]!=null&&(t[Ye]=p.expectString(e[Ye])),t},AG=(e,n)=>{let t={};return e[qS]!=null&&(t[qS]=p.expectNonNull(p.parseRfc3339DateTimeWithOffset(e[qS]))),e[iS]!=null&&(t[iS]=p.strictParseLong(e[iS])),e[Zy]!=null&&(t[Zy]=p.strictParseLong(e[Zy])),e[oS]!=null&&(t[oS]=p.strictParseLong(e[oS])),e[US]!=null&&(t[US]=p.strictParseLong(e[US])),t},IG=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>AG(t)),PG=(e,n)=>{let t={};return e[Ye]!=null&&(t[Ye]=p.expectString(e[Ye])),t},NG=(e,n)=>{let t={};return e[Ye]!=null&&(t[Ye]=p.expectString(e[Ye])),t},DG=(e,n)=>{let t={};return e[Ye]!=null&&(t[Ye]=p.expectString(e[Ye])),t},OG=(e,n)=>({}),kG=(e,n)=>({}),MG=(e,n)=>({}),$G=(e,n)=>({}),FG=(e,n)=>({}),LG=(e,n)=>({}),UG=(e,n)=>({}),BG=(e,n)=>{let t={};return e[he]!=null&&(t[he]=p.expectString(e[he])),e[bo]!=null&&(t[bo]=p.expectString(e[bo])),t},zG=(e,n)=>{let t={};return e[jo]!=null&&(t[jo]=p.expectString(e[jo])),t},jG=(e,n)=>{let t={};return e[zo]!=null&&(t[zo]=p.expectString(e[zo])),e[he]!=null&&(t[he]=p.expectString(e[he])),t},HG=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=p.expectString(e[ne])),e[Uo]!=null&&(t[Uo]=p.expectString(e[Uo])),e[Vo]!=null&&(t[Vo]=p.expectString(e[Vo])),e[Co]!=null&&(t[Co]=p.expectString(e[Co])),t},qG=(e,n)=>{let t={};return e[ne]!=null&&(t[ne]=p.expectString(e[ne])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},VG=(e,n)=>{let t={};return e[te]!=null&&(t[te]=p.expectString(e[te])),e[co]!=null&&(t[co]=p.expectNonNull(p.parseRfc3339DateTimeWithOffset(e[co]))),t},GG=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>VG(t)),WG=(e,n)=>{let t={};return e[LS]!=null&&(t[LS]=p.expectString(e[LS])),t},KG=(e,n)=>{let t={};return e[ao]!=null&&(t[ao]=p.expectString(e[ao])),t},XG=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},YG=(e,n)=>{let t={};return e[F]!=null&&(t[F]=p.expectString(e[F])),e[k]!=null&&(t[k]=p.expectString(e[k])),t},JG=(e,n)=>({}),QG=(e,n)=>({}),ZG=(e,n)=>({}),eW=(e,n)=>({}),tW=(e,n)=>e.reduce((t,r)=>(r.value===null||(t[r.key]=O3(r.value)),t),{}),_0=(e,n)=>(e||[]).filter(t=>t!=null).map(t=>p.expectString(t)),nW=(e,n)=>{let t={};return String(e.DkimTokens).trim()===""?t[pn]=[]:e[pn]!=null&&e[pn][me]!=null&&(t[pn]=_0(p.getArrayIfSingleItem(e[pn][me]))),t},rW=(e,n)=>{let t={};return e[Go]!=null&&(t[Go]=p.expectString(e[Go])),t},sW=(e,n)=>({}),oW=(e,n)=>{let t={};return e[he]!=null&&(t[he]=p.expectString(e[he])),e[Oo]!=null&&(t[Oo]=p.expectString(e[Oo])),t},D=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),iW=p.withBaseException(pe),q=async(e,n,t,r,s)=>{let{hostname:o,protocol:i="https",port:a,path:l}=await e.endpoint(),d={protocol:i,hostname:o,port:a,method:"POST",path:l.endsWith("/")?l.slice(0,-1)+t:l+t,headers:n};return s!==void 0&&(d.body=s),new WS.HttpRequest(d)},V={"content-type":"application/x-www-form-urlencoded"},G="2010-12-01",U="Action",Gy="ArrivalDate",qa="AddHeaderAction",Tr="Actions",so="After",s0="Body",Wy="BccAddresses",Va="BounceAction",oo="BucketName",io="BehaviorOnMXFailure",Ky="BouncedRecipientInfoList",Xy="BounceSender",Yy="BounceSenderArn",Jy="BounceType",Qy="BounceTopic",Zy="Bounces",eS="Bucket",tS="Charset",nS="CcAddresses",Ga="ConnectAction",aW="CreateConfigurationSet",cW="CreateConfigurationSetEventDestination",lW="CreateConfigurationSetTrackingOptions",dW="CreateCustomVerificationEmailTemplate",ao="CustomRedirectDomain",uW="CreateReceiptFilter",fW="CreateReceiptRule",mW="CloneReceiptRuleSet",pW="CreateReceiptRuleSet",Wa="ConfigurationSet",rS="ConfigurationSetAttributeNames",F="ConfigurationSetName",Pa="ConfigurationSets",hW="CreateTemplate",sS="ComplaintTopic",co="CreatedTimestamp",Na="CustomVerificationEmailTemplates",lo="CustomVerificationEmailTemplateName",Ka="CloudWatchDestination",uo="Cidr",oS="Complaints",Xo="Destination",Da="DkimAttributes",gW="DescribeActiveReceiptRuleSet",iS="DeliveryAttempts",vr="DimensionConfigurations",yW="DeleteConfigurationSet",SW="DeleteConfigurationSetEventDestination",EW="DeleteConfigurationSetTrackingOptions",_W="DescribeConfigurationSet",bW="DeleteCustomVerificationEmailTemplate",aS="DiagnosticCode",fo="DefaultDimensionValue",mo="DkimEnabled",wW="DeleteIdentity",xW="DeleteIdentityPolicy",po="DimensionName",Xa="DeliveryOptions",CW="DeleteReceiptFilter",RW="DeleteReceiptRule",TW="DeleteReceiptRuleSet",vW="DescribeReceiptRuleSet",AW="DescribeReceiptRule",ho="DeliveryStreamARN",IW="DeleteTemplate",cS="DefaultTemplateData",lS="DefaultTags",dS="DeliveryTopic",pn="DkimTokens",PW="DeleteVerifiedEmailAddress",go="DimensionValueSource",uS="DkimVerificationStatus",yo="Data",So="Destinations",Eo="Domain",De="Enabled",$t="EmailAddress",Mu="EventDestination",Xe="EventDestinationName",Oa="EventDestinations",_o="ExtensionFields",bo="Encoding",fS="Error",mS="Explanation",o0="Filter",Fn="FunctionArn",pS="FromArn",wo="ForwardingEnabled",mt="FromEmailAddress",hS="FilterName",gS="FinalRecipient",Ft="FailureRedirectionURL",ka="Filters",NW="GetAccountSendingEnabled",DW="GetCustomVerificationEmailTemplate",OW="GetIdentityDkimAttributes",kW="GetIdentityMailFromDomainAttributes",MW="GetIdentityNotificationAttributes",$W="GetIdentityPolicies",FW="GetIdentityVerificationAttributes",LW="GetSendQuota",UW="GetSendStatistics",BW="GetTemplate",i0="Html",yS="HeadersInBounceNotificationsEnabled",SS="HeadersInComplaintNotificationsEnabled",ES="HeadersInDeliveryNotificationsEnabled",xo="HeaderName",Co="HtmlPart",Ro="HeaderValue",xe="Identity",Lt="IAMRoleARN",To="InstanceARN",Ya="IpFilter",vo="IamRoleArn",Ao="InvocationType",_S="IdentityType",nt="Identities",Ja="KinesisFirehoseDestination",Io="KmsKeyArn",Qa="LambdaAction",bS="LastAttemptDate",zW="ListConfigurationSets",jW="ListCustomVerificationEmailTemplates",wS="LastFreshStart",HW="ListIdentities",qW="ListIdentityPolicies",VW="ListReceiptFilters",GW="ListReceiptRuleSets",WW="ListTemplates",KW="ListVerifiedEmailAddresses",Nr="Message",a0="MessageDsn",Ar="MatchingEventTypes",Po="MailFromDomain",Ma="MailFromDomainAttributes",xS="MailFromDomainStatus",CS="Max24HourSend",Ln="MaxItems",Ye="MessageId",RS="MaxResults",TS="MaxSendRate",No="Metadata",te="Name",$a="NotificationAttributes",Ce="NextToken",Do="NotificationType",Oo="OrganizationArn",ko="ObjectKeyPrefix",vS="OriginalMessageId",AS="OriginalRuleSetName",Un="Policy",XW="PutConfigurationSetDeliveryOptions",YW="PutIdentityPolicy",Mo="PolicyName",Ir="PolicyNames",Fa="Policies",IS="Recipient",PS="RecipientArn",c0="RecipientDsnFields",NS="ReportingMta",DS="ReputationMetricsEnabled",l0="RawMessage",OS="RemoteMta",Bn="RuleName",kS="RuleNames",MS="ReputationOptions",zn="ReturnPath",Ut="ReturnPathArn",JW="ReorderReceiptRuleSet",La="RuleSets",_e="RuleSetName",$S="ReplacementTags",jn="ReplyToAddresses",FS="ReplacementTemplateData",LS="RenderedTemplate",Pr="Recipients",US="Rejects",as="Rule",hn="Rules",$o="Sender",Za="S3Action",QW="SetActiveReceiptRuleSet",Bt="SourceArn",ec="StopAction",ZW="SendBounce",e6="SendBulkTemplatedEmail",Fo="StatusCode",t6="SendCustomVerificationEmail",Ua="SendDataPoints",n6="SendEmail",Lo="ScanEnabled",BS="SendingEnabled",r6="SetIdentityDkimEnabled",s6="SetIdentityFeedbackForwardingEnabled",o6="SetIdentityHeadersInNotificationsEnabled",i6="SetIdentityMailFromDomain",a6="SetIdentityNotificationTopic",zS="SentLast24Hours",tc="SNSAction",nc="SNSDestination",Uo="SubjectPart",Bo="SmtpReplyCode",c6="SendRawEmail",l6="SetReceiptRulePosition",zt="SuccessRedirectionURL",jS="SnsTopic",d6="SendTemplatedEmail",zo="Scope",jt="Source",Yt="Status",d0="Subject",u0="Text",he="TopicArn",jo="TopicARN",Ho="TemplateArn",HS="ToAddresses",Hn="TemplateContent",qo="TemplateData",Ba="TemplatesMetadata",ne="TemplateName",cs="TrackingOptions",Ht="TlsPolicy",Vo="TextPart",u6="TestRenderTemplate",qt="TemplateSubject",qn="Tags",Rt="Template",qS="Timestamp",VS="Topic",f6="UpdateAccountSendingEnabled",m6="UpdateConfigurationSetEventDestination",p6="UpdateConfigurationSetReputationMetricsEnabled",h6="UpdateConfigurationSetSendingEnabled",g6="UpdateConfigurationSetTrackingOptions",y6="UpdateCustomVerificationEmailTemplate",S6="UpdateReceiptRule",E6="UpdateTemplate",W="Version",za="VerificationAttributes",_6="VerifyDomainDkim",b6="VerifyDomainIdentity",w6="VerifyEmailAddress",ja="VerifiedEmailAddresses",x6="VerifyEmailIdentity",GS="VerificationStatus",Go="VerificationToken",Wo="Value",rc="WorkmailAction",gn="entry",k="message",me="member",K=e=>Object.entries(e).map(([n,t])=>p.extendedEncodeURIComponent(n)+"="+p.extendedEncodeURIComponent(t)).join("&"),C6=(e,n)=>{if(n.Error?.Code!==void 0)return n.Error.Code;if(e.statusCode==404)return"NotFound"},$u=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CloneReceiptRuleSet",{}).n("SESClient","CloneReceiptRuleSetCommand").f(void 0,void 0).ser(hj).de(DH).build(){},Fu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSet",{}).n("SESClient","CreateConfigurationSetCommand").f(void 0,void 0).ser(gj).de(OH).build(){},Lu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetEventDestination",{}).n("SESClient","CreateConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(yj).de(kH).build(){},Uu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateConfigurationSetTrackingOptions",{}).n("SESClient","CreateConfigurationSetTrackingOptionsCommand").f(void 0,void 0).ser(Sj).de(MH).build(){},Bu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateCustomVerificationEmailTemplate",{}).n("SESClient","CreateCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(Ej).de($H).build(){},zu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptFilter",{}).n("SESClient","CreateReceiptFilterCommand").f(void 0,void 0).ser(_j).de(FH).build(){},ju=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRule",{}).n("SESClient","CreateReceiptRuleCommand").f(void 0,void 0).ser(bj).de(LH).build(){},Hu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateReceiptRuleSet",{}).n("SESClient","CreateReceiptRuleSetCommand").f(void 0,void 0).ser(wj).de(UH).build(){},qu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","CreateTemplate",{}).n("SESClient","CreateTemplateCommand").f(void 0,void 0).ser(xj).de(BH).build(){},Vu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSet",{}).n("SESClient","DeleteConfigurationSetCommand").f(void 0,void 0).ser(Cj).de(zH).build(){},Gu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetEventDestination",{}).n("SESClient","DeleteConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(Rj).de(jH).build(){},Wu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteConfigurationSetTrackingOptions",{}).n("SESClient","DeleteConfigurationSetTrackingOptionsCommand").f(void 0,void 0).ser(Tj).de(HH).build(){},Ku=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteCustomVerificationEmailTemplate",{}).n("SESClient","DeleteCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(vj).de(qH).build(){},Xu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentity",{}).n("SESClient","DeleteIdentityCommand").f(void 0,void 0).ser(Aj).de(VH).build(){},Yu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteIdentityPolicy",{}).n("SESClient","DeleteIdentityPolicyCommand").f(void 0,void 0).ser(Ij).de(GH).build(){},Ju=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptFilter",{}).n("SESClient","DeleteReceiptFilterCommand").f(void 0,void 0).ser(Pj).de(WH).build(){},Qu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRule",{}).n("SESClient","DeleteReceiptRuleCommand").f(void 0,void 0).ser(Nj).de(KH).build(){},Zu=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteReceiptRuleSet",{}).n("SESClient","DeleteReceiptRuleSetCommand").f(void 0,void 0).ser(Dj).de(XH).build(){},ef=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteTemplate",{}).n("SESClient","DeleteTemplateCommand").f(void 0,void 0).ser(Oj).de(YH).build(){},tf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DeleteVerifiedEmailAddress",{}).n("SESClient","DeleteVerifiedEmailAddressCommand").f(void 0,void 0).ser(kj).de(JH).build(){},nf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeActiveReceiptRuleSet",{}).n("SESClient","DescribeActiveReceiptRuleSetCommand").f(void 0,void 0).ser(Mj).de(QH).build(){},rf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeConfigurationSet",{}).n("SESClient","DescribeConfigurationSetCommand").f(void 0,void 0).ser($j).de(ZH).build(){},sf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRule",{}).n("SESClient","DescribeReceiptRuleCommand").f(void 0,void 0).ser(Fj).de(eq).build(){},of=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","DescribeReceiptRuleSet",{}).n("SESClient","DescribeReceiptRuleSetCommand").f(void 0,void 0).ser(Lj).de(tq).build(){},af=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetAccountSendingEnabled",{}).n("SESClient","GetAccountSendingEnabledCommand").f(void 0,void 0).ser(Uj).de(nq).build(){},cf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetCustomVerificationEmailTemplate",{}).n("SESClient","GetCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(Bj).de(rq).build(){},lf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityDkimAttributes",{}).n("SESClient","GetIdentityDkimAttributesCommand").f(void 0,void 0).ser(zj).de(sq).build(){},df=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityMailFromDomainAttributes",{}).n("SESClient","GetIdentityMailFromDomainAttributesCommand").f(void 0,void 0).ser(jj).de(oq).build(){},uf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityNotificationAttributes",{}).n("SESClient","GetIdentityNotificationAttributesCommand").f(void 0,void 0).ser(Hj).de(iq).build(){},ff=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityPolicies",{}).n("SESClient","GetIdentityPoliciesCommand").f(void 0,void 0).ser(qj).de(aq).build(){},oc=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetIdentityVerificationAttributes",{}).n("SESClient","GetIdentityVerificationAttributesCommand").f(void 0,void 0).ser(Vj).de(cq).build(){},mf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendQuota",{}).n("SESClient","GetSendQuotaCommand").f(void 0,void 0).ser(Gj).de(lq).build(){},pf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetSendStatistics",{}).n("SESClient","GetSendStatisticsCommand").f(void 0,void 0).ser(Wj).de(dq).build(){},hf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","GetTemplate",{}).n("SESClient","GetTemplateCommand").f(void 0,void 0).ser(Kj).de(uq).build(){},gf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListConfigurationSets",{}).n("SESClient","ListConfigurationSetsCommand").f(void 0,void 0).ser(Xj).de(fq).build(){},ic=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListCustomVerificationEmailTemplates",{}).n("SESClient","ListCustomVerificationEmailTemplatesCommand").f(void 0,void 0).ser(Yj).de(mq).build(){},ac=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentities",{}).n("SESClient","ListIdentitiesCommand").f(void 0,void 0).ser(Jj).de(pq).build(){},yf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListIdentityPolicies",{}).n("SESClient","ListIdentityPoliciesCommand").f(void 0,void 0).ser(Qj).de(hq).build(){},Sf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptFilters",{}).n("SESClient","ListReceiptFiltersCommand").f(void 0,void 0).ser(Zj).de(gq).build(){},Ef=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListReceiptRuleSets",{}).n("SESClient","ListReceiptRuleSetsCommand").f(void 0,void 0).ser(eH).de(yq).build(){},_f=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListTemplates",{}).n("SESClient","ListTemplatesCommand").f(void 0,void 0).ser(tH).de(Sq).build(){},bf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ListVerifiedEmailAddresses",{}).n("SESClient","ListVerifiedEmailAddressesCommand").f(void 0,void 0).ser(nH).de(Eq).build(){},wf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutConfigurationSetDeliveryOptions",{}).n("SESClient","PutConfigurationSetDeliveryOptionsCommand").f(void 0,void 0).ser(rH).de(_q).build(){},xf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","PutIdentityPolicy",{}).n("SESClient","PutIdentityPolicyCommand").f(void 0,void 0).ser(sH).de(bq).build(){},Cf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","ReorderReceiptRuleSet",{}).n("SESClient","ReorderReceiptRuleSetCommand").f(void 0,void 0).ser(oH).de(wq).build(){},Rf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBounce",{}).n("SESClient","SendBounceCommand").f(void 0,void 0).ser(iH).de(xq).build(){},Tf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendBulkTemplatedEmail",{}).n("SESClient","SendBulkTemplatedEmailCommand").f(void 0,void 0).ser(aH).de(Cq).build(){},vf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendCustomVerificationEmail",{}).n("SESClient","SendCustomVerificationEmailCommand").f(void 0,void 0).ser(cH).de(Rq).build(){},Af=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendEmail",{}).n("SESClient","SendEmailCommand").f(void 0,void 0).ser(lH).de(Tq).build(){},If=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendRawEmail",{}).n("SESClient","SendRawEmailCommand").f(void 0,void 0).ser(dH).de(vq).build(){},Pf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SendTemplatedEmail",{}).n("SESClient","SendTemplatedEmailCommand").f(void 0,void 0).ser(uH).de(Aq).build(){},Nf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetActiveReceiptRuleSet",{}).n("SESClient","SetActiveReceiptRuleSetCommand").f(void 0,void 0).ser(fH).de(Iq).build(){},Df=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityDkimEnabled",{}).n("SESClient","SetIdentityDkimEnabledCommand").f(void 0,void 0).ser(mH).de(Pq).build(){},Of=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityFeedbackForwardingEnabled",{}).n("SESClient","SetIdentityFeedbackForwardingEnabledCommand").f(void 0,void 0).ser(pH).de(Nq).build(){},kf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityHeadersInNotificationsEnabled",{}).n("SESClient","SetIdentityHeadersInNotificationsEnabledCommand").f(void 0,void 0).ser(hH).de(Dq).build(){},Mf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityMailFromDomain",{}).n("SESClient","SetIdentityMailFromDomainCommand").f(void 0,void 0).ser(gH).de(Oq).build(){},$f=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetIdentityNotificationTopic",{}).n("SESClient","SetIdentityNotificationTopicCommand").f(void 0,void 0).ser(yH).de(kq).build(){},Ff=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","SetReceiptRulePosition",{}).n("SESClient","SetReceiptRulePositionCommand").f(void 0,void 0).ser(SH).de(Mq).build(){},Lf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","TestRenderTemplate",{}).n("SESClient","TestRenderTemplateCommand").f(void 0,void 0).ser(EH).de($q).build(){},Uf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateAccountSendingEnabled",{}).n("SESClient","UpdateAccountSendingEnabledCommand").f(void 0,void 0).ser(_H).de(Fq).build(){},Bf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetEventDestination",{}).n("SESClient","UpdateConfigurationSetEventDestinationCommand").f(void 0,void 0).ser(bH).de(Lq).build(){},zf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetReputationMetricsEnabled",{}).n("SESClient","UpdateConfigurationSetReputationMetricsEnabledCommand").f(void 0,void 0).ser(wH).de(Uq).build(){},jf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetSendingEnabled",{}).n("SESClient","UpdateConfigurationSetSendingEnabledCommand").f(void 0,void 0).ser(xH).de(Bq).build(){},Hf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateConfigurationSetTrackingOptions",{}).n("SESClient","UpdateConfigurationSetTrackingOptionsCommand").f(void 0,void 0).ser(CH).de(zq).build(){},qf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateCustomVerificationEmailTemplate",{}).n("SESClient","UpdateCustomVerificationEmailTemplateCommand").f(void 0,void 0).ser(RH).de(jq).build(){},Vf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateReceiptRule",{}).n("SESClient","UpdateReceiptRuleCommand").f(void 0,void 0).ser(TH).de(Hq).build(){},Gf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","UpdateTemplate",{}).n("SESClient","UpdateTemplateCommand").f(void 0,void 0).ser(vH).de(qq).build(){},Wf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainDkim",{}).n("SESClient","VerifyDomainDkimCommand").f(void 0,void 0).ser(AH).de(Vq).build(){},Kf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyDomainIdentity",{}).n("SESClient","VerifyDomainIdentityCommand").f(void 0,void 0).ser(IH).de(Gq).build(){},Xf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailAddress",{}).n("SESClient","VerifyEmailAddressCommand").f(void 0,void 0).ser(PH).de(Wq).build(){},Yf=class extends p.Command.classBuilder().ep(j).m(function(n,t,r,s){return[z.getSerdePlugin(r,this.serialize,this.deserialize),B.getEndpointPlugin(r,n.getEndpointParameterInstructions())]}).s("SimpleEmailService","VerifyEmailIdentity",{}).n("SESClient","VerifyEmailIdentityCommand").f(void 0,void 0).ser(NH).de(Kq).build(){},R6={CloneReceiptRuleSetCommand:$u,CreateConfigurationSetCommand:Fu,CreateConfigurationSetEventDestinationCommand:Lu,CreateConfigurationSetTrackingOptionsCommand:Uu,CreateCustomVerificationEmailTemplateCommand:Bu,CreateReceiptFilterCommand:zu,CreateReceiptRuleCommand:ju,CreateReceiptRuleSetCommand:Hu,CreateTemplateCommand:qu,DeleteConfigurationSetCommand:Vu,DeleteConfigurationSetEventDestinationCommand:Gu,DeleteConfigurationSetTrackingOptionsCommand:Wu,DeleteCustomVerificationEmailTemplateCommand:Ku,DeleteIdentityCommand:Xu,DeleteIdentityPolicyCommand:Yu,DeleteReceiptFilterCommand:Ju,DeleteReceiptRuleCommand:Qu,DeleteReceiptRuleSetCommand:Zu,DeleteTemplateCommand:ef,DeleteVerifiedEmailAddressCommand:tf,DescribeActiveReceiptRuleSetCommand:nf,DescribeConfigurationSetCommand:rf,DescribeReceiptRuleCommand:sf,DescribeReceiptRuleSetCommand:of,GetAccountSendingEnabledCommand:af,GetCustomVerificationEmailTemplateCommand:cf,GetIdentityDkimAttributesCommand:lf,GetIdentityMailFromDomainAttributesCommand:df,GetIdentityNotificationAttributesCommand:uf,GetIdentityPoliciesCommand:ff,GetIdentityVerificationAttributesCommand:oc,GetSendQuotaCommand:mf,GetSendStatisticsCommand:pf,GetTemplateCommand:hf,ListConfigurationSetsCommand:gf,ListCustomVerificationEmailTemplatesCommand:ic,ListIdentitiesCommand:ac,ListIdentityPoliciesCommand:yf,ListReceiptFiltersCommand:Sf,ListReceiptRuleSetsCommand:Ef,ListTemplatesCommand:_f,ListVerifiedEmailAddressesCommand:bf,PutConfigurationSetDeliveryOptionsCommand:wf,PutIdentityPolicyCommand:xf,ReorderReceiptRuleSetCommand:Cf,SendBounceCommand:Rf,SendBulkTemplatedEmailCommand:Tf,SendCustomVerificationEmailCommand:vf,SendEmailCommand:Af,SendRawEmailCommand:If,SendTemplatedEmailCommand:Pf,SetActiveReceiptRuleSetCommand:Nf,SetIdentityDkimEnabledCommand:Df,SetIdentityFeedbackForwardingEnabledCommand:Of,SetIdentityHeadersInNotificationsEnabledCommand:kf,SetIdentityMailFromDomainCommand:Mf,SetIdentityNotificationTopicCommand:$f,SetReceiptRulePositionCommand:Ff,TestRenderTemplateCommand:Lf,UpdateAccountSendingEnabledCommand:Uf,UpdateConfigurationSetEventDestinationCommand:Bf,UpdateConfigurationSetReputationMetricsEnabledCommand:zf,UpdateConfigurationSetSendingEnabledCommand:jf,UpdateConfigurationSetTrackingOptionsCommand:Hf,UpdateCustomVerificationEmailTemplateCommand:qf,UpdateReceiptRuleCommand:Vf,UpdateTemplateCommand:Gf,VerifyDomainDkimCommand:Wf,VerifyDomainIdentityCommand:Kf,VerifyEmailAddressCommand:Xf,VerifyEmailIdentityCommand:Yf},Jf=class extends Ko{};p.createAggregatedClient(R6,Jf);var T6=Ha.createPaginator(Ko,ic,"NextToken","NextToken","MaxResults"),v6=Ha.createPaginator(Ko,ac,"NextToken","NextToken","MaxItems"),b0=async(e,n)=>{let t;try{let r=await e.send(new oc(n));t=r;try{let s=()=>Object.values(r.VerificationAttributes).map(a=>a.VerificationStatus),o=s().length>0;for(let i of s())o=o&&i=="Success";if(o)return{state:sc.WaiterState.SUCCESS,reason:t}}catch{}}catch(r){t=r}return{state:sc.WaiterState.RETRY,reason:t}},A6=async(e,n)=>{let t={minDelay:3,maxDelay:120};return sc.createWaiter({...t,...e},n,b0)},I6=async(e,n)=>{let t={minDelay:3,maxDelay:120},r=await sc.createWaiter({...t,...e},n,b0);return sc.checkExceptions(r)};Object.defineProperty(v,"$Command",{enumerable:!0,get:function(){return p.Command}});Object.defineProperty(v,"__Client",{enumerable:!0,get:function(){return p.Client}});v.AccountSendingPausedException=tu;v.AlreadyExistsException=nu;v.BehaviorOnMXFailure=Zz;v.BounceType=ej;v.BulkEmailStatus=nj;v.CannotDeleteException=ru;v.CloneReceiptRuleSetCommand=$u;v.ConfigurationSetAlreadyExistsException=iu;v.ConfigurationSetAttribute=sj;v.ConfigurationSetDoesNotExistException=au;v.ConfigurationSetSendingPausedException=cu;v.CreateConfigurationSetCommand=Fu;v.CreateConfigurationSetEventDestinationCommand=Lu;v.CreateConfigurationSetTrackingOptionsCommand=Uu;v.CreateCustomVerificationEmailTemplateCommand=Bu;v.CreateReceiptFilterCommand=zu;v.CreateReceiptRuleCommand=ju;v.CreateReceiptRuleSetCommand=Hu;v.CreateTemplateCommand=qu;v.CustomMailFromStatus=uj;v.CustomVerificationEmailInvalidContentException=gu;v.CustomVerificationEmailTemplateAlreadyExistsException=yu;v.CustomVerificationEmailTemplateDoesNotExistException=Cu;v.DeleteConfigurationSetCommand=Vu;v.DeleteConfigurationSetEventDestinationCommand=Gu;v.DeleteConfigurationSetTrackingOptionsCommand=Wu;v.DeleteCustomVerificationEmailTemplateCommand=Ku;v.DeleteIdentityCommand=Xu;v.DeleteIdentityPolicyCommand=Yu;v.DeleteReceiptFilterCommand=Ju;v.DeleteReceiptRuleCommand=Qu;v.DeleteReceiptRuleSetCommand=Zu;v.DeleteTemplateCommand=ef;v.DeleteVerifiedEmailAddressCommand=tf;v.DescribeActiveReceiptRuleSetCommand=nf;v.DescribeConfigurationSetCommand=rf;v.DescribeReceiptRuleCommand=sf;v.DescribeReceiptRuleSetCommand=of;v.DimensionValueSource=rj;v.DsnAction=tj;v.EventDestinationAlreadyExistsException=du;v.EventDestinationDoesNotExistException=Ru;v.EventType=oj;v.FromEmailAddressNotVerifiedException=Su;v.GetAccountSendingEnabledCommand=af;v.GetCustomVerificationEmailTemplateCommand=cf;v.GetIdentityDkimAttributesCommand=lf;v.GetIdentityMailFromDomainAttributesCommand=df;v.GetIdentityNotificationAttributesCommand=uf;v.GetIdentityPoliciesCommand=ff;v.GetIdentityVerificationAttributesCommand=oc;v.GetSendQuotaCommand=mf;v.GetSendStatisticsCommand=pf;v.GetTemplateCommand=hf;v.IdentityType=mj;v.InvalidCloudWatchDestinationException=uu;v.InvalidConfigurationSetException=lu;v.InvalidDeliveryOptionsException=Au;v.InvalidFirehoseDestinationException=fu;v.InvalidLambdaFunctionException=Eu;v.InvalidPolicyException=Iu;v.InvalidRenderingParameterException=Pu;v.InvalidS3ConfigurationException=_u;v.InvalidSNSDestinationException=mu;v.InvalidSnsTopicException=bu;v.InvalidTemplateException=xu;v.InvalidTrackingOptionsException=pu;v.InvocationType=aj;v.LimitExceededException=su;v.ListConfigurationSetsCommand=gf;v.ListCustomVerificationEmailTemplatesCommand=ic;v.ListIdentitiesCommand=ac;v.ListIdentityPoliciesCommand=yf;v.ListReceiptFiltersCommand=Sf;v.ListReceiptRuleSetsCommand=Ef;v.ListTemplatesCommand=_f;v.ListVerifiedEmailAddressesCommand=bf;v.MailFromDomainNotVerifiedException=Nu;v.MessageRejected=Du;v.MissingRenderingAttributeException=Ou;v.NotificationType=pj;v.ProductionAccessNotGrantedException=ku;v.PutConfigurationSetDeliveryOptionsCommand=wf;v.PutIdentityPolicyCommand=xf;v.ReceiptFilterPolicy=ij;v.ReorderReceiptRuleSetCommand=Cf;v.RuleDoesNotExistException=wu;v.RuleSetDoesNotExistException=ou;v.SES=Jf;v.SESClient=Ko;v.SESServiceException=pe;v.SNSActionEncoding=cj;v.SendBounceCommand=Rf;v.SendBulkTemplatedEmailCommand=Tf;v.SendCustomVerificationEmailCommand=vf;v.SendEmailCommand=Af;v.SendRawEmailCommand=If;v.SendTemplatedEmailCommand=Pf;v.SetActiveReceiptRuleSetCommand=Nf;v.SetIdentityDkimEnabledCommand=Df;v.SetIdentityFeedbackForwardingEnabledCommand=Of;v.SetIdentityHeadersInNotificationsEnabledCommand=kf;v.SetIdentityMailFromDomainCommand=Mf;v.SetIdentityNotificationTopicCommand=$f;v.SetReceiptRulePositionCommand=Ff;v.StopScope=lj;v.TemplateDoesNotExistException=vu;v.TestRenderTemplateCommand=Lf;v.TlsPolicy=dj;v.TrackingOptionsAlreadyExistsException=hu;v.TrackingOptionsDoesNotExistException=Tu;v.UpdateAccountSendingEnabledCommand=Uf;v.UpdateConfigurationSetEventDestinationCommand=Bf;v.UpdateConfigurationSetReputationMetricsEnabledCommand=zf;v.UpdateConfigurationSetSendingEnabledCommand=jf;v.UpdateConfigurationSetTrackingOptionsCommand=Hf;v.UpdateCustomVerificationEmailTemplateCommand=qf;v.UpdateReceiptRuleCommand=Vf;v.UpdateTemplateCommand=Gf;v.VerificationStatus=fj;v.VerifyDomainDkimCommand=Wf;v.VerifyDomainIdentityCommand=Kf;v.VerifyEmailAddressCommand=Xf;v.VerifyEmailIdentityCommand=Yf;v.paginateListCustomVerificationEmailTemplates=T6;v.paginateListIdentities=v6;v.waitForIdentityExists=A6;v.waitUntilIdentityExists=I6});c();var Zf=C(w0(),1),P6=new Zf.SESClient({region:process.env.AWS_REGION}),Ose=async e=>{console.log("Contact form submission:",e);try{let n=JSON.parse(e.body||"{}");if(!n.name||!n.email||!n.message)return{statusCode:400,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({error:"Missing required fields: name, email, message"})};let t={Source:process.env.SES_EMAIL_FROM,Destination:{ToAddresses:[process.env.ADMIN_EMAIL]},Message:{Subject:{Data:`Portfolio Contact: ${n.subject||"New Message"} from ${n.name}`},Body:{Text:{Data:`
Name: ${n.name}
Email: ${n.email}
Subject: ${n.subject||"N/A"}

Message:
${n.message}

---
This message was sent from your portfolio contact form.
            `},Html:{Data:`
              <h2>New Contact Form Submission</h2>
              <p><strong>Name:</strong> ${n.name}</p>
              <p><strong>Email:</strong> ${n.email}</p>
              <p><strong>Subject:</strong> ${n.subject||"N/A"}</p>
              <hr>
              <p><strong>Message:</strong></p>
              <p>${n.message.replace(/\n/g,"<br>")}</p>
              <hr>
              <p><small>This message was sent from your portfolio contact form.</small></p>
            `}}}};return await P6.send(new Zf.SendEmailCommand(t)),{statusCode:200,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({message:"Thank you for your message! I will get back to you soon.",success:!0})}}catch(n){return console.error("Error processing contact form:",n),{statusCode:500,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},body:JSON.stringify({error:"Failed to send message. Please try again later."})}}};export{Ose as handler};
//# sourceMappingURL=index.mjs.map
